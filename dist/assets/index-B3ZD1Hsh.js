(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function vp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xc={exports:{}},wa={},wc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef;function nv(){if(ef)return we;ef=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,T={};function S(C,k,W){this.props=C,this.context=k,this.refs=T,this.updater=W||_}S.prototype.isReactComponent={},S.prototype.setState=function(C,k){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,k,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=S.prototype;function D(C,k,W){this.props=C,this.context=k,this.refs=T,this.updater=W||_}var P=D.prototype=new A;P.constructor=D,b(P,S.prototype),P.isPureReactComponent=!0;var U=Array.isArray,H=Object.prototype.hasOwnProperty,O={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function se(C,k,W){var X,me={},ce=null,je=null;if(k!=null)for(X in k.ref!==void 0&&(je=k.ref),k.key!==void 0&&(ce=""+k.key),k)H.call(k,X)&&!M.hasOwnProperty(X)&&(me[X]=k[X]);var ye=arguments.length-2;if(ye===1)me.children=W;else if(1<ye){for(var be=Array(ye),We=0;We<ye;We++)be[We]=arguments[We+2];me.children=be}if(C&&C.defaultProps)for(X in ye=C.defaultProps,ye)me[X]===void 0&&(me[X]=ye[X]);return{$$typeof:n,type:C,key:ce,ref:je,props:me,_owner:O.current}}function ae(C,k){return{$$typeof:n,type:C.type,key:k,ref:C.ref,props:C.props,_owner:C._owner}}function ke(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Se(C){var k={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(W){return k[W]})}var Pe=/\/+/g;function Re(C,k){return typeof C=="object"&&C!==null&&C.key!=null?Se(""+C.key):k.toString(36)}function ee(C,k,W,X,me){var ce=typeof C;(ce==="undefined"||ce==="boolean")&&(C=null);var je=!1;if(C===null)je=!0;else switch(ce){case"string":case"number":je=!0;break;case"object":switch(C.$$typeof){case n:case t:je=!0}}if(je)return je=C,me=me(je),C=X===""?"."+Re(je,0):X,U(me)?(W="",C!=null&&(W=C.replace(Pe,"$&/")+"/"),ee(me,k,W,"",function(We){return We})):me!=null&&(ke(me)&&(me=ae(me,W+(!me.key||je&&je.key===me.key?"":(""+me.key).replace(Pe,"$&/")+"/")+C)),k.push(me)),1;if(je=0,X=X===""?".":X+":",U(C))for(var ye=0;ye<C.length;ye++){ce=C[ye];var be=X+Re(ce,ye);je+=ee(ce,k,W,be,me)}else if(be=w(C),typeof be=="function")for(C=be.call(C),ye=0;!(ce=C.next()).done;)ce=ce.value,be=X+Re(ce,ye++),je+=ee(ce,k,W,be,me);else if(ce==="object")throw k=String(C),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return je}function ie(C,k,W){if(C==null)return C;var X=[],me=0;return ee(C,X,"","",function(ce){return k.call(W,ce,me++)}),X}function re(C){if(C._status===-1){var k=C._result;k=k(),k.then(function(W){(C._status===0||C._status===-1)&&(C._status=1,C._result=W)},function(W){(C._status===0||C._status===-1)&&(C._status=2,C._result=W)}),C._status===-1&&(C._status=0,C._result=k)}if(C._status===1)return C._result.default;throw C._result}var ue={current:null},F={transition:null},G={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:F,ReactCurrentOwner:O};function Q(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:ie,forEach:function(C,k,W){ie(C,function(){k.apply(this,arguments)},W)},count:function(C){var k=0;return ie(C,function(){k++}),k},toArray:function(C){return ie(C,function(k){return k})||[]},only:function(C){if(!ke(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},we.Component=S,we.Fragment=s,we.Profiler=c,we.PureComponent=D,we.StrictMode=i,we.Suspense=m,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,we.act=Q,we.cloneElement=function(C,k,W){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var X=b({},C.props),me=C.key,ce=C.ref,je=C._owner;if(k!=null){if(k.ref!==void 0&&(ce=k.ref,je=O.current),k.key!==void 0&&(me=""+k.key),C.type&&C.type.defaultProps)var ye=C.type.defaultProps;for(be in k)H.call(k,be)&&!M.hasOwnProperty(be)&&(X[be]=k[be]===void 0&&ye!==void 0?ye[be]:k[be])}var be=arguments.length-2;if(be===1)X.children=W;else if(1<be){ye=Array(be);for(var We=0;We<be;We++)ye[We]=arguments[We+2];X.children=ye}return{$$typeof:n,type:C.type,key:me,ref:ce,props:X,_owner:je}},we.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:u,_context:C},C.Consumer=C},we.createElement=se,we.createFactory=function(C){var k=se.bind(null,C);return k.type=C,k},we.createRef=function(){return{current:null}},we.forwardRef=function(C){return{$$typeof:f,render:C}},we.isValidElement=ke,we.lazy=function(C){return{$$typeof:x,_payload:{_status:-1,_result:C},_init:re}},we.memo=function(C,k){return{$$typeof:g,type:C,compare:k===void 0?null:k}},we.startTransition=function(C){var k=F.transition;F.transition={};try{C()}finally{F.transition=k}},we.unstable_act=Q,we.useCallback=function(C,k){return ue.current.useCallback(C,k)},we.useContext=function(C){return ue.current.useContext(C)},we.useDebugValue=function(){},we.useDeferredValue=function(C){return ue.current.useDeferredValue(C)},we.useEffect=function(C,k){return ue.current.useEffect(C,k)},we.useId=function(){return ue.current.useId()},we.useImperativeHandle=function(C,k,W){return ue.current.useImperativeHandle(C,k,W)},we.useInsertionEffect=function(C,k){return ue.current.useInsertionEffect(C,k)},we.useLayoutEffect=function(C,k){return ue.current.useLayoutEffect(C,k)},we.useMemo=function(C,k){return ue.current.useMemo(C,k)},we.useReducer=function(C,k,W){return ue.current.useReducer(C,k,W)},we.useRef=function(C){return ue.current.useRef(C)},we.useState=function(C){return ue.current.useState(C)},we.useSyncExternalStore=function(C,k,W){return ue.current.useSyncExternalStore(C,k,W)},we.useTransition=function(){return ue.current.useTransition()},we.version="18.3.1",we}var tf;function cu(){return tf||(tf=1,wc.exports=nv()),wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf;function sv(){if(rf)return wa;rf=1;var n=cu(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(f,m,g){var x,v={},w=null,_=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(_=m.ref);for(x in m)i.call(m,x)&&!u.hasOwnProperty(x)&&(v[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)v[x]===void 0&&(v[x]=m[x]);return{$$typeof:t,type:f,key:w,ref:_,props:v,_owner:c.current}}return wa.Fragment=s,wa.jsx=d,wa.jsxs=d,wa}var nf;function av(){return nf||(nf=1,xc.exports=sv()),xc.exports}var o=av(),Xi={},bc={exports:{}},Ct={},_c={exports:{}},kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf;function iv(){return sf||(sf=1,(function(n){function t(F,G){var Q=F.length;F.push(G);e:for(;0<Q;){var C=Q-1>>>1,k=F[C];if(0<c(k,G))F[C]=G,F[Q]=k,Q=C;else break e}}function s(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var G=F[0],Q=F.pop();if(Q!==G){F[0]=Q;e:for(var C=0,k=F.length,W=k>>>1;C<W;){var X=2*(C+1)-1,me=F[X],ce=X+1,je=F[ce];if(0>c(me,Q))ce<k&&0>c(je,me)?(F[C]=je,F[ce]=Q,C=ce):(F[C]=me,F[X]=Q,C=X);else if(ce<k&&0>c(je,Q))F[C]=je,F[ce]=Q,C=ce;else break e}}return G}function c(F,G){var Q=F.sortIndex-G.sortIndex;return Q!==0?Q:F.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var m=[],g=[],x=1,v=null,w=3,_=!1,b=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(F){for(var G=s(g);G!==null;){if(G.callback===null)i(g);else if(G.startTime<=F)i(g),G.sortIndex=G.expirationTime,t(m,G);else break;G=s(g)}}function U(F){if(T=!1,P(F),!b)if(s(m)!==null)b=!0,re(H);else{var G=s(g);G!==null&&ue(U,G.startTime-F)}}function H(F,G){b=!1,T&&(T=!1,A(se),se=-1),_=!0;var Q=w;try{for(P(G),v=s(m);v!==null&&(!(v.expirationTime>G)||F&&!Se());){var C=v.callback;if(typeof C=="function"){v.callback=null,w=v.priorityLevel;var k=C(v.expirationTime<=G);G=n.unstable_now(),typeof k=="function"?v.callback=k:v===s(m)&&i(m),P(G)}else i(m);v=s(m)}if(v!==null)var W=!0;else{var X=s(g);X!==null&&ue(U,X.startTime-G),W=!1}return W}finally{v=null,w=Q,_=!1}}var O=!1,M=null,se=-1,ae=5,ke=-1;function Se(){return!(n.unstable_now()-ke<ae)}function Pe(){if(M!==null){var F=n.unstable_now();ke=F;var G=!0;try{G=M(!0,F)}finally{G?Re():(O=!1,M=null)}}else O=!1}var Re;if(typeof D=="function")Re=function(){D(Pe)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ie=ee.port2;ee.port1.onmessage=Pe,Re=function(){ie.postMessage(null)}}else Re=function(){S(Pe,0)};function re(F){M=F,O||(O=!0,Re())}function ue(F,G){se=S(function(){F(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){b||_||(b=!0,re(H))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(F){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var Q=w;w=G;try{return F()}finally{w=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=w;w=F;try{return G()}finally{w=Q}},n.unstable_scheduleCallback=function(F,G,Q){var C=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?C+Q:C):Q=C,F){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Q+k,F={id:x++,callback:G,priorityLevel:F,startTime:Q,expirationTime:k,sortIndex:-1},Q>C?(F.sortIndex=Q,t(g,F),s(m)===null&&F===s(g)&&(T?(A(se),se=-1):T=!0,ue(U,Q-C))):(F.sortIndex=k,t(m,F),b||_||(b=!0,re(H))),F},n.unstable_shouldYield=Se,n.unstable_wrapCallback=function(F){var G=w;return function(){var Q=w;w=G;try{return F.apply(this,arguments)}finally{w=Q}}}})(kc)),kc}var af;function ov(){return af||(af=1,_c.exports=iv()),_c.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of;function lv(){if(of)return Ct;of=1;var n=cu(),t=ov();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function u(e,r){d(e,r),d(e+"Capture",r)}function d(e,r){for(c[e]=r,e=0;e<r.length;e++)i.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function w(e){return m.call(v,e)?!0:m.call(x,e)?!1:g.test(e)?v[e]=!0:(x[e]=!0,!1)}function _(e,r,a,l){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,r,a,l){if(r===null||typeof r>"u"||_(e,r,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function T(e,r,a,l,h,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=e,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];S[r]=new T(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(A,D);S[r]=new T(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(A,D);S[r]=new T(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(A,D);S[r]=new T(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,r,a,l){var h=S.hasOwnProperty(r)?S[r]:null;(h!==null?h.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(b(r,a,h,l)&&(a=null),l||h===null?w(r)&&(a===null?e.removeAttribute(r):e.setAttribute(r,""+a)):h.mustUseProperty?e[h.propertyName]=a===null?h.type===3?!1:"":a:(r=h.attributeName,l=h.attributeNamespace,a===null?e.removeAttribute(r):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,l?e.setAttributeNS(l,r,a):e.setAttribute(r,a))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),Se=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),F=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,C;function k(e){if(C===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);C=r&&r[1]||""}return`
`+C+e}var W=!1;function X(e,r){if(!e||W)return"";W=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var l=z}Reflect.construct(e,[],r)}else{try{r.call()}catch(z){l=z}e.call(r.prototype)}else{try{throw Error()}catch(z){l=z}e()}}catch(z){if(z&&l&&typeof z.stack=="string"){for(var h=z.stack.split(`
`),p=l.stack.split(`
`),y=h.length-1,j=p.length-1;1<=y&&0<=j&&h[y]!==p[j];)j--;for(;1<=y&&0<=j;y--,j--)if(h[y]!==p[j]){if(y!==1||j!==1)do if(y--,j--,0>j||h[y]!==p[j]){var N=`
`+h[y].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=y&&0<=j);break}}}finally{W=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?k(e):""}function me(e){switch(e.tag){case 5:return k(e.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1),e;case 11:return e=X(e.type.render,!1),e;case 1:return e=X(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case O:return"Portal";case ae:return"Profiler";case se:return"StrictMode";case Re:return"Suspense";case ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Se:return(e.displayName||"Context")+".Consumer";case ke:return(e._context.displayName||"Context")+".Provider";case Pe:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return r=e.displayName||null,r!==null?r:ce(e.type)||"Memo";case re:r=e._payload,e=e._init;try{return ce(e(r))}catch{}}return null}function je(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(r);case 8:return r===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function be(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function We(e){var r=be(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){l=""+y,p.call(this,y)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function yr(e){e._valueTracker||(e._valueTracker=We(e))}function $r(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=be(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Lr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jt(e,r){var a=r.checked;return Q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Bn(e,r){var a=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;a=ye(r.value!=null?r.value:a),e._wrapperState={initialChecked:l,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function zr(e,r){r=r.checked,r!=null&&P(e,"checked",r,!1)}function I(e,r){zr(e,r);var a=ye(r.value),l=r.type;if(a!=null)l==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Te(e,r.type,a):r.hasOwnProperty("defaultValue")&&Te(e,r.type,ye(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Qe(e,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,a||r===e.value||(e.value=r),e.defaultValue=r}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Te(e,r,a){(r!=="number"||Lr(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var $e=Array.isArray;function lt(e,r,a,l){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ye(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function De(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return Q({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _t(e,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if($e(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}e._wrapperState={initialValue:ye(a)}}function qn(e,r){var a=ye(r.value),l=ye(r.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),r.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),l!=null&&(e.defaultValue=""+l)}function Vn(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function xr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wr(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?xr(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qt,Hn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,l,h){MSApp.execUnsafeLocalFunction(function(){return e(r,a,l,h)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Qt=Qt||document.createElement("div"),Qt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Qt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Ut(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ur=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(e){Ur.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Dr[r]=Dr[e]})});function Va(e,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Dr.hasOwnProperty(e)&&Dr[e]?(""+r).trim():r+"px"}function Ha(e,r){e=e.style;for(var a in r)if(r.hasOwnProperty(a)){var l=a.indexOf("--")===0,h=Va(a,r[a],l);a==="float"&&(a="cssFloat"),l?e.setProperty(a,h):e[a]=h}}var Wa=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(e,r){if(r){if(Wa[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function zs(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vn=null;function Mt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,Mr=null,br=null;function Us(e){if(e=aa(e)){if(typeof Ds!="function")throw Error(s(280));var r=e.stateNode;r&&(r=fi(r),Ds(e.stateNode,e.type,r))}}function xe(e){Mr?br?br.push(e):br=[e]:Mr=e}function Ke(){if(Mr){var e=Mr,r=br;if(br=Mr=null,Us(e),r)for(e=0;e<r.length;e++)Us(r[e])}}function et(e,r){return e(r)}function mt(){}var Fr=!1;function Ye(e,r,a){if(Fr)return e(r,a);Fr=!0;try{return et(e,r,a)}finally{Fr=!1,(Mr!==null||br!==null)&&(mt(),Ke())}}function st(e,r){var a=e.stateNode;if(a===null)return null;var l=fi(a);if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Br=!1;if(f)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Br=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Br=!1}function Tt(e,r,a,l,h,p,y,j,N){var z=Array.prototype.slice.call(arguments,3);try{r.apply(a,z)}catch(q){this.onError(q)}}var qr=!1,Ft=null,Ms=!1,Do=null,um={onError:function(e){qr=!0,Ft=e}};function dm(e,r,a,l,h,p,y,j,N){qr=!1,Ft=null,Tt.apply(um,arguments)}function hm(e,r,a,l,h,p,y,j,N){if(dm.apply(this,arguments),qr){if(qr){var z=Ft;qr=!1,Ft=null}else throw Error(s(198));Ms||(Ms=!0,Do=z)}}function yn(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function ku(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function ju(e){if(yn(e)!==e)throw Error(s(188))}function fm(e){var r=e.alternate;if(!r){if(r=yn(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return ju(h),e;if(p===l)return ju(h),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=p;else{for(var y=!1,j=h.child;j;){if(j===a){y=!0,a=h,l=p;break}if(j===l){y=!0,l=h,a=p;break}j=j.sibling}if(!y){for(j=p.child;j;){if(j===a){y=!0,a=p,l=h;break}if(j===l){y=!0,l=p,a=h;break}j=j.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function Su(e){return e=fm(e),e!==null?Eu(e):null}function Eu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Eu(e);if(r!==null)return r;e=e.sibling}return null}var Nu=t.unstable_scheduleCallback,Cu=t.unstable_cancelCallback,pm=t.unstable_shouldYield,mm=t.unstable_requestPaint,Ge=t.unstable_now,gm=t.unstable_getCurrentPriorityLevel,Uo=t.unstable_ImmediatePriority,Pu=t.unstable_UserBlockingPriority,Ka=t.unstable_NormalPriority,vm=t.unstable_LowPriority,Ru=t.unstable_IdlePriority,Ga=null,cr=null;function ym(e){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:bm,xm=Math.log,wm=Math.LN2;function bm(e){return e>>>=0,e===0?32:31-(xm(e)/wm|0)|0}var Ja=64,Qa=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ya(e,r){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,p=e.pingedLanes,y=a&268435455;if(y!==0){var j=y&~h;j!==0?l=Fs(j):(p&=y,p!==0&&(l=Fs(p)))}else y=a&~h,y!==0?l=Fs(y):p!==0&&(l=Fs(p));if(l===0)return 0;if(r!==0&&r!==l&&(r&h)===0&&(h=l&-l,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((l&4)!==0&&(l|=a&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=l;0<r;)a=31-Yt(r),h=1<<a,l|=e[a],r&=~h;return l}function _m(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function km(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var y=31-Yt(p),j=1<<y,N=h[y];N===-1?((j&a)===0||(j&l)!==0)&&(h[y]=_m(j,r)):N<=r&&(e.expiredLanes|=j),p&=~j}}function Mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tu(){var e=Ja;return Ja<<=1,(Ja&4194240)===0&&(Ja=64),e}function Fo(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Bs(e,r,a){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Yt(r),e[r]=a}function jm(e,r){var a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<a;){var h=31-Yt(a),p=1<<h;r[h]=0,l[h]=-1,e[h]=-1,a&=~p}}function Bo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Yt(a),h=1<<l;h&r|e[l]&r&&(e[l]|=r),a&=~h}}var Ae=0;function Au(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ou,qo,Iu,$u,Lu,Vo=!1,Xa=[],Vr=null,Hr=null,Wr=null,qs=new Map,Vs=new Map,Kr=[],Sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zu(e,r){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":qs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(r.pointerId)}}function Hs(e,r,a,l,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},r!==null&&(r=aa(r),r!==null&&qo(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function Em(e,r,a,l,h){switch(r){case"focusin":return Vr=Hs(Vr,e,r,a,l,h),!0;case"dragenter":return Hr=Hs(Hr,e,r,a,l,h),!0;case"mouseover":return Wr=Hs(Wr,e,r,a,l,h),!0;case"pointerover":var p=h.pointerId;return qs.set(p,Hs(qs.get(p)||null,e,r,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,Vs.set(p,Hs(Vs.get(p)||null,e,r,a,l,h)),!0}return!1}function Du(e){var r=xn(e.target);if(r!==null){var a=yn(r);if(a!==null){if(r=a.tag,r===13){if(r=ku(a),r!==null){e.blockedOn=r,Lu(e.priority,function(){Iu(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Za(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Wo(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);vn=l,a.target.dispatchEvent(l),vn=null}else return r=aa(a),r!==null&&qo(r),e.blockedOn=a,!1;r.shift()}return!0}function Uu(e,r,a){Za(e)&&a.delete(r)}function Nm(){Vo=!1,Vr!==null&&Za(Vr)&&(Vr=null),Hr!==null&&Za(Hr)&&(Hr=null),Wr!==null&&Za(Wr)&&(Wr=null),qs.forEach(Uu),Vs.forEach(Uu)}function Ws(e,r){e.blockedOn===r&&(e.blockedOn=null,Vo||(Vo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Nm)))}function Ks(e){function r(h){return Ws(h,e)}if(0<Xa.length){Ws(Xa[0],e);for(var a=1;a<Xa.length;a++){var l=Xa[a];l.blockedOn===e&&(l.blockedOn=null)}}for(Vr!==null&&Ws(Vr,e),Hr!==null&&Ws(Hr,e),Wr!==null&&Ws(Wr,e),qs.forEach(r),Vs.forEach(r),a=0;a<Kr.length;a++)l=Kr[a],l.blockedOn===e&&(l.blockedOn=null);for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)Du(a),a.blockedOn===null&&Kr.shift()}var Kn=U.ReactCurrentBatchConfig,ei=!0;function Cm(e,r,a,l){var h=Ae,p=Kn.transition;Kn.transition=null;try{Ae=1,Ho(e,r,a,l)}finally{Ae=h,Kn.transition=p}}function Pm(e,r,a,l){var h=Ae,p=Kn.transition;Kn.transition=null;try{Ae=4,Ho(e,r,a,l)}finally{Ae=h,Kn.transition=p}}function Ho(e,r,a,l){if(ei){var h=Wo(e,r,a,l);if(h===null)cl(e,r,l,ti,a),zu(e,l);else if(Em(h,e,r,a,l))l.stopPropagation();else if(zu(e,l),r&4&&-1<Sm.indexOf(e)){for(;h!==null;){var p=aa(h);if(p!==null&&Ou(p),p=Wo(e,r,a,l),p===null&&cl(e,r,l,ti,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else cl(e,r,l,null,a)}}var ti=null;function Wo(e,r,a,l){if(ti=null,e=Mt(l),e=xn(e),e!==null)if(r=yn(e),r===null)e=null;else if(a=r.tag,a===13){if(e=ku(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return ti=e,null}function Mu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gm()){case Uo:return 1;case Pu:return 4;case Ka:case vm:return 16;case Ru:return 536870912;default:return 16}default:return 16}}var Gr=null,Ko=null,ri=null;function Fu(){if(ri)return ri;var e,r=Ko,a=r.length,l,h="value"in Gr?Gr.value:Gr.textContent,p=h.length;for(e=0;e<a&&r[e]===h[e];e++);var y=a-e;for(l=1;l<=y&&r[a-l]===h[p-l];l++);return ri=h.slice(e,1<l?1-l:void 0)}function ni(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Bu(){return!1}function At(e){function r(a,l,h,p,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(a=e[j],this[j]=a?a(p):p[j]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?si:Bu,this.isPropagationStopped=Bu,this}return Q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=At(Gn),Gs=Q({},Gn,{view:0,detail:0}),Rm=At(Gs),Jo,Qo,Js,ai=Q({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(Jo=e.screenX-Js.screenX,Qo=e.screenY-Js.screenY):Qo=Jo=0,Js=e),Jo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),qu=At(ai),Tm=Q({},ai,{dataTransfer:0}),Am=At(Tm),Om=Q({},Gs,{relatedTarget:0}),Yo=At(Om),Im=Q({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),$m=At(Im),Lm=Q({},Gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zm=At(Lm),Dm=Q({},Gn,{data:0}),Vu=At(Dm),Um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Fm[e])?!!r[e]:!1}function Xo(){return Bm}var qm=Q({},Gs,{key:function(e){if(e.key){var r=Um[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xo,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vm=At(qm),Hm=Q({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=At(Hm),Wm=Q({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xo}),Km=At(Wm),Gm=Q({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jm=At(Gm),Qm=Q({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=At(Qm),Xm=[9,13,27,32],Zo=f&&"CompositionEvent"in window,Qs=null;f&&"documentMode"in document&&(Qs=document.documentMode);var Zm=f&&"TextEvent"in window&&!Qs,Wu=f&&(!Zo||Qs&&8<Qs&&11>=Qs),Ku=" ",Gu=!1;function Ju(e,r){switch(e){case"keyup":return Xm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function eg(e,r){switch(e){case"compositionend":return Qu(r);case"keypress":return r.which!==32?null:(Gu=!0,Ku);case"textInput":return e=r.data,e===Ku&&Gu?null:e;default:return null}}function tg(e,r){if(Jn)return e==="compositionend"||!Zo&&Ju(e,r)?(e=Fu(),ri=Ko=Gr=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Wu&&r.locale!=="ko"?null:r.data;default:return null}}var rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!rg[e.type]:r==="textarea"}function Xu(e,r,a,l){xe(l),r=ui(r,"onChange"),0<r.length&&(a=new Go("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Ys=null,Xs=null;function ng(e){gd(e,0)}function ii(e){var r=es(e);if($r(r))return e}function sg(e,r){if(e==="change")return r}var Zu=!1;if(f){var el;if(f){var tl="oninput"in document;if(!tl){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),tl=typeof ed.oninput=="function"}el=tl}else el=!1;Zu=el&&(!document.documentMode||9<document.documentMode)}function td(){Ys&&(Ys.detachEvent("onpropertychange",rd),Xs=Ys=null)}function rd(e){if(e.propertyName==="value"&&ii(Xs)){var r=[];Xu(r,Xs,e,Mt(e)),Ye(ng,r)}}function ag(e,r,a){e==="focusin"?(td(),Ys=r,Xs=a,Ys.attachEvent("onpropertychange",rd)):e==="focusout"&&td()}function ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(Xs)}function og(e,r){if(e==="click")return ii(r)}function lg(e,r){if(e==="input"||e==="change")return ii(r)}function cg(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Xt=typeof Object.is=="function"?Object.is:cg;function Zs(e,r){if(Xt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!m.call(r,h)||!Xt(e[h],r[h]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sd(e,r){var a=nd(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nd(a)}}function ad(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?ad(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function id(){for(var e=window,r=Lr();r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Lr(e.document)}return r}function rl(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function ug(e){var r=id(),a=e.focusedElem,l=e.selectionRange;if(r!==a&&a&&a.ownerDocument&&ad(a.ownerDocument.documentElement,a)){if(l!==null&&rl(a)){if(r=l.start,e=l.end,e===void 0&&(e=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(e,a.value.length);else if(e=(r=a.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var h=a.textContent.length,p=Math.min(l.start,h);l=l.end===void 0?p:Math.min(l.end,h),!e.extend&&p>l&&(h=l,l=p,p=h),h=sd(a,p);var y=sd(a,l);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),e.removeAllRanges(),p>l?(e.addRange(r),e.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),e.addRange(r)))}}for(r=[],e=a;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)e=r[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dg=f&&"documentMode"in document&&11>=document.documentMode,Qn=null,nl=null,ea=null,sl=!1;function od(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sl||Qn==null||Qn!==Lr(l)||(l=Qn,"selectionStart"in l&&rl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ea&&Zs(ea,l)||(ea=l,l=ui(nl,"onSelect"),0<l.length&&(r=new Go("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Qn)))}function oi(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Yn={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},al={},ld={};f&&(ld=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function li(e){if(al[e])return al[e];if(!Yn[e])return e;var r=Yn[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in ld)return al[e]=r[a];return e}var cd=li("animationend"),ud=li("animationiteration"),dd=li("animationstart"),hd=li("transitionend"),fd=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,r){fd.set(e,r),u(r,[e])}for(var il=0;il<pd.length;il++){var ol=pd[il],hg=ol.toLowerCase(),fg=ol[0].toUpperCase()+ol.slice(1);Jr(hg,"on"+fg)}Jr(cd,"onAnimationEnd"),Jr(ud,"onAnimationIteration"),Jr(dd,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(hd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function md(e,r,a){var l=e.type||"unknown-event";e.currentTarget=a,hm(l,r,void 0,e),e.currentTarget=null}function gd(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var y=l.length-1;0<=y;y--){var j=l[y],N=j.instance,z=j.currentTarget;if(j=j.listener,N!==p&&h.isPropagationStopped())break e;md(h,j,z),p=N}else for(y=0;y<l.length;y++){if(j=l[y],N=j.instance,z=j.currentTarget,j=j.listener,N!==p&&h.isPropagationStopped())break e;md(h,j,z),p=N}}}if(Ms)throw e=Do,Ms=!1,Do=null,e}function Le(e,r){var a=r[ml];a===void 0&&(a=r[ml]=new Set);var l=e+"__bubble";a.has(l)||(vd(r,e,2,!1),a.add(l))}function ll(e,r,a){var l=0;r&&(l|=4),vd(a,e,l,r)}var ci="_reactListening"+Math.random().toString(36).slice(2);function ra(e){if(!e[ci]){e[ci]=!0,i.forEach(function(a){a!=="selectionchange"&&(pg.has(a)||ll(a,!1,e),ll(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[ci]||(r[ci]=!0,ll("selectionchange",!1,r))}}function vd(e,r,a,l){switch(Mu(r)){case 1:var h=Cm;break;case 4:h=Pm;break;default:h=Ho}a=h.bind(null,r,a,e),h=void 0,!Br||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function cl(e,r,a,l,h){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var j=l.stateNode.containerInfo;if(j===h||j.nodeType===8&&j.parentNode===h)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&(N=y.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;y=y.return}for(;j!==null;){if(y=xn(j),y===null)return;if(N=y.tag,N===5||N===6){l=p=y;continue e}j=j.parentNode}}l=l.return}Ye(function(){var z=p,q=Mt(a),V=[];e:{var B=fd.get(e);if(B!==void 0){var Y=Go,te=e;switch(e){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":Y=Vm;break;case"focusin":te="focus",Y=Yo;break;case"focusout":te="blur",Y=Yo;break;case"beforeblur":case"afterblur":Y=Yo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Km;break;case cd:case ud:case dd:Y=$m;break;case hd:Y=Jm;break;case"scroll":Y=Rm;break;case"wheel":Y=Ym;break;case"copy":case"cut":case"paste":Y=zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Hu}var ne=(r&4)!==0,Je=!ne&&e==="scroll",$=ne?B!==null?B+"Capture":null:B;ne=[];for(var R=z,L;R!==null;){L=R;var K=L.stateNode;if(L.tag===5&&K!==null&&(L=K,$!==null&&(K=st(R,$),K!=null&&ne.push(na(R,K,L)))),Je)break;R=R.return}0<ne.length&&(B=new Y(B,te,null,a,q),V.push({event:B,listeners:ne}))}}if((r&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",B&&a!==vn&&(te=a.relatedTarget||a.fromElement)&&(xn(te)||te[_r]))break e;if((Y||B)&&(B=q.window===q?q:(B=q.ownerDocument)?B.defaultView||B.parentWindow:window,Y?(te=a.relatedTarget||a.toElement,Y=z,te=te?xn(te):null,te!==null&&(Je=yn(te),te!==Je||te.tag!==5&&te.tag!==6)&&(te=null)):(Y=null,te=z),Y!==te)){if(ne=qu,K="onMouseLeave",$="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ne=Hu,K="onPointerLeave",$="onPointerEnter",R="pointer"),Je=Y==null?B:es(Y),L=te==null?B:es(te),B=new ne(K,R+"leave",Y,a,q),B.target=Je,B.relatedTarget=L,K=null,xn(q)===z&&(ne=new ne($,R+"enter",te,a,q),ne.target=L,ne.relatedTarget=Je,K=ne),Je=K,Y&&te)t:{for(ne=Y,$=te,R=0,L=ne;L;L=Xn(L))R++;for(L=0,K=$;K;K=Xn(K))L++;for(;0<R-L;)ne=Xn(ne),R--;for(;0<L-R;)$=Xn($),L--;for(;R--;){if(ne===$||$!==null&&ne===$.alternate)break t;ne=Xn(ne),$=Xn($)}ne=null}else ne=null;Y!==null&&yd(V,B,Y,ne,!1),te!==null&&Je!==null&&yd(V,Je,te,ne,!0)}}e:{if(B=z?es(z):window,Y=B.nodeName&&B.nodeName.toLowerCase(),Y==="select"||Y==="input"&&B.type==="file")var oe=sg;else if(Yu(B))if(Zu)oe=lg;else{oe=ig;var de=ag}else(Y=B.nodeName)&&Y.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(oe=og);if(oe&&(oe=oe(e,z))){Xu(V,oe,a,q);break e}de&&de(e,B,z),e==="focusout"&&(de=B._wrapperState)&&de.controlled&&B.type==="number"&&Te(B,"number",B.value)}switch(de=z?es(z):window,e){case"focusin":(Yu(de)||de.contentEditable==="true")&&(Qn=de,nl=z,ea=null);break;case"focusout":ea=nl=Qn=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,od(V,a,q);break;case"selectionchange":if(dg)break;case"keydown":case"keyup":od(V,a,q)}var he;if(Zo)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Jn?Ju(e,a)&&(ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(Wu&&a.locale!=="ko"&&(Jn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Jn&&(he=Fu()):(Gr=q,Ko="value"in Gr?Gr.value:Gr.textContent,Jn=!0)),de=ui(z,ge),0<de.length&&(ge=new Vu(ge,e,null,a,q),V.push({event:ge,listeners:de}),he?ge.data=he:(he=Qu(a),he!==null&&(ge.data=he)))),(he=Zm?eg(e,a):tg(e,a))&&(z=ui(z,"onBeforeInput"),0<z.length&&(q=new Vu("onBeforeInput","beforeinput",null,a,q),V.push({event:q,listeners:z}),q.data=he))}gd(V,r)})}function na(e,r,a){return{instance:e,listener:r,currentTarget:a}}function ui(e,r){for(var a=r+"Capture",l=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=st(e,a),p!=null&&l.unshift(na(e,p,h)),p=st(e,r),p!=null&&l.push(na(e,p,h))),e=e.return}return l}function Xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yd(e,r,a,l,h){for(var p=r._reactName,y=[];a!==null&&a!==l;){var j=a,N=j.alternate,z=j.stateNode;if(N!==null&&N===l)break;j.tag===5&&z!==null&&(j=z,h?(N=st(a,p),N!=null&&y.unshift(na(a,N,j))):h||(N=st(a,p),N!=null&&y.push(na(a,N,j)))),a=a.return}y.length!==0&&e.push({event:r,listeners:y})}var mg=/\r\n?/g,gg=/\u0000|\uFFFD/g;function xd(e){return(typeof e=="string"?e:""+e).replace(mg,`
`).replace(gg,"")}function di(e,r,a){if(r=xd(r),xd(e)!==r&&a)throw Error(s(425))}function hi(){}var ul=null,dl=null;function hl(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var fl=typeof setTimeout=="function"?setTimeout:void 0,vg=typeof clearTimeout=="function"?clearTimeout:void 0,wd=typeof Promise=="function"?Promise:void 0,yg=typeof queueMicrotask=="function"?queueMicrotask:typeof wd<"u"?function(e){return wd.resolve(null).then(e).catch(xg)}:fl;function xg(e){setTimeout(function(){throw e})}function pl(e,r){var a=r,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),Ks(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ks(r)}function Qr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function bd(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),ur="__reactFiber$"+Zn,sa="__reactProps$"+Zn,_r="__reactContainer$"+Zn,ml="__reactEvents$"+Zn,wg="__reactListeners$"+Zn,bg="__reactHandles$"+Zn;function xn(e){var r=e[ur];if(r)return r;for(var a=e.parentNode;a;){if(r=a[_r]||a[ur]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=bd(e);e!==null;){if(a=e[ur])return a;e=bd(e)}return r}e=a,a=e.parentNode}return null}function aa(e){return e=e[ur]||e[_r],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function fi(e){return e[sa]||null}var gl=[],ts=-1;function Yr(e){return{current:e}}function ze(e){0>ts||(e.current=gl[ts],gl[ts]=null,ts--)}function Oe(e,r){ts++,gl[ts]=e.current,e.current=r}var Xr={},gt=Yr(Xr),kt=Yr(!1),wn=Xr;function rs(e,r){var a=e.type.contextTypes;if(!a)return Xr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=r[p];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=h),h}function jt(e){return e=e.childContextTypes,e!=null}function pi(){ze(kt),ze(gt)}function _d(e,r,a){if(gt.current!==Xr)throw Error(s(168));Oe(gt,r),Oe(kt,a)}function kd(e,r,a){var l=e.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var h in l)if(!(h in r))throw Error(s(108,je(e)||"Unknown",h));return Q({},a,l)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,wn=gt.current,Oe(gt,e),Oe(kt,kt.current),!0}function jd(e,r,a){var l=e.stateNode;if(!l)throw Error(s(169));a?(e=kd(e,r,wn),l.__reactInternalMemoizedMergedChildContext=e,ze(kt),ze(gt),Oe(gt,e)):ze(kt),Oe(kt,a)}var kr=null,gi=!1,vl=!1;function Sd(e){kr===null?kr=[e]:kr.push(e)}function _g(e){gi=!0,Sd(e)}function Zr(){if(!vl&&kr!==null){vl=!0;var e=0,r=Ae;try{var a=kr;for(Ae=1;e<a.length;e++){var l=a[e];do l=l(!0);while(l!==null)}kr=null,gi=!1}catch(h){throw kr!==null&&(kr=kr.slice(e+1)),Nu(Uo,Zr),h}finally{Ae=r,vl=!1}}return null}var ns=[],ss=0,vi=null,yi=0,Bt=[],qt=0,bn=null,jr=1,Sr="";function _n(e,r){ns[ss++]=yi,ns[ss++]=vi,vi=e,yi=r}function Ed(e,r,a){Bt[qt++]=jr,Bt[qt++]=Sr,Bt[qt++]=bn,bn=e;var l=jr;e=Sr;var h=32-Yt(l)-1;l&=~(1<<h),a+=1;var p=32-Yt(r)+h;if(30<p){var y=h-h%5;p=(l&(1<<y)-1).toString(32),l>>=y,h-=y,jr=1<<32-Yt(r)+h|a<<h|l,Sr=p+e}else jr=1<<p|a<<h|l,Sr=e}function yl(e){e.return!==null&&(_n(e,1),Ed(e,1,0))}function xl(e){for(;e===vi;)vi=ns[--ss],ns[ss]=null,yi=ns[--ss],ns[ss]=null;for(;e===bn;)bn=Bt[--qt],Bt[qt]=null,Sr=Bt[--qt],Bt[qt]=null,jr=Bt[--qt],Bt[qt]=null}var Ot=null,It=null,Ue=!1,Zt=null;function Nd(e,r){var a=Kt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=e,r=e.deletions,r===null?(e.deletions=[a],e.flags|=16):r.push(a)}function Cd(e,r){switch(e.tag){case 5:var a=e.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Ot=e,It=Qr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Ot=e,It=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=bn!==null?{id:jr,overflow:Sr}:null,e.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Kt(18,null,null,0),a.stateNode=r,a.return=e,e.child=a,Ot=e,It=null,!0):!1;default:return!1}}function wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bl(e){if(Ue){var r=It;if(r){var a=r;if(!Cd(e,r)){if(wl(e))throw Error(s(418));r=Qr(a.nextSibling);var l=Ot;r&&Cd(e,r)?Nd(l,a):(e.flags=e.flags&-4097|2,Ue=!1,Ot=e)}}else{if(wl(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ue=!1,Ot=e}}}function Pd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function xi(e){if(e!==Ot)return!1;if(!Ue)return Pd(e),Ue=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!hl(e.type,e.memoizedProps)),r&&(r=It)){if(wl(e))throw Rd(),Error(s(418));for(;r;)Nd(e,r),r=Qr(r.nextSibling)}if(Pd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(r===0){It=Qr(e.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}e=e.nextSibling}It=null}}else It=Ot?Qr(e.stateNode.nextSibling):null;return!0}function Rd(){for(var e=It;e;)e=Qr(e.nextSibling)}function as(){It=Ot=null,Ue=!1}function _l(e){Zt===null?Zt=[e]:Zt.push(e)}var kg=U.ReactCurrentBatchConfig;function ia(e,r,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var l=a.stateNode}if(!l)throw Error(s(147,e));var h=l,p=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var j=h.refs;y===null?delete j[p]:j[p]=y},r._stringRef=p,r)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function wi(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Td(e){var r=e._init;return r(e._payload)}function Ad(e){function r($,R){if(e){var L=$.deletions;L===null?($.deletions=[R],$.flags|=16):L.push(R)}}function a($,R){if(!e)return null;for(;R!==null;)r($,R),R=R.sibling;return null}function l($,R){for($=new Map;R!==null;)R.key!==null?$.set(R.key,R):$.set(R.index,R),R=R.sibling;return $}function h($,R){return $=ln($,R),$.index=0,$.sibling=null,$}function p($,R,L){return $.index=L,e?(L=$.alternate,L!==null?(L=L.index,L<R?($.flags|=2,R):L):($.flags|=2,R)):($.flags|=1048576,R)}function y($){return e&&$.alternate===null&&($.flags|=2),$}function j($,R,L,K){return R===null||R.tag!==6?(R=fc(L,$.mode,K),R.return=$,R):(R=h(R,L),R.return=$,R)}function N($,R,L,K){var oe=L.type;return oe===M?q($,R,L.props.children,K,L.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===re&&Td(oe)===R.type)?(K=h(R,L.props),K.ref=ia($,R,L),K.return=$,K):(K=Vi(L.type,L.key,L.props,null,$.mode,K),K.ref=ia($,R,L),K.return=$,K)}function z($,R,L,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=pc(L,$.mode,K),R.return=$,R):(R=h(R,L.children||[]),R.return=$,R)}function q($,R,L,K,oe){return R===null||R.tag!==7?(R=Rn(L,$.mode,K,oe),R.return=$,R):(R=h(R,L),R.return=$,R)}function V($,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return R=fc(""+R,$.mode,L),R.return=$,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case H:return L=Vi(R.type,R.key,R.props,null,$.mode,L),L.ref=ia($,null,R),L.return=$,L;case O:return R=pc(R,$.mode,L),R.return=$,R;case re:var K=R._init;return V($,K(R._payload),L)}if($e(R)||G(R))return R=Rn(R,$.mode,L,null),R.return=$,R;wi($,R)}return null}function B($,R,L,K){var oe=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return oe!==null?null:j($,R,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===oe?N($,R,L,K):null;case O:return L.key===oe?z($,R,L,K):null;case re:return oe=L._init,B($,R,oe(L._payload),K)}if($e(L)||G(L))return oe!==null?null:q($,R,L,K,null);wi($,L)}return null}function Y($,R,L,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number")return $=$.get(L)||null,j(R,$,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return $=$.get(K.key===null?L:K.key)||null,N(R,$,K,oe);case O:return $=$.get(K.key===null?L:K.key)||null,z(R,$,K,oe);case re:var de=K._init;return Y($,R,L,de(K._payload),oe)}if($e(K)||G(K))return $=$.get(L)||null,q(R,$,K,oe,null);wi(R,K)}return null}function te($,R,L,K){for(var oe=null,de=null,he=R,ge=R=0,ot=null;he!==null&&ge<L.length;ge++){he.index>ge?(ot=he,he=null):ot=he.sibling;var Ne=B($,he,L[ge],K);if(Ne===null){he===null&&(he=ot);break}e&&he&&Ne.alternate===null&&r($,he),R=p(Ne,R,ge),de===null?oe=Ne:de.sibling=Ne,de=Ne,he=ot}if(ge===L.length)return a($,he),Ue&&_n($,ge),oe;if(he===null){for(;ge<L.length;ge++)he=V($,L[ge],K),he!==null&&(R=p(he,R,ge),de===null?oe=he:de.sibling=he,de=he);return Ue&&_n($,ge),oe}for(he=l($,he);ge<L.length;ge++)ot=Y(he,$,ge,L[ge],K),ot!==null&&(e&&ot.alternate!==null&&he.delete(ot.key===null?ge:ot.key),R=p(ot,R,ge),de===null?oe=ot:de.sibling=ot,de=ot);return e&&he.forEach(function(cn){return r($,cn)}),Ue&&_n($,ge),oe}function ne($,R,L,K){var oe=G(L);if(typeof oe!="function")throw Error(s(150));if(L=oe.call(L),L==null)throw Error(s(151));for(var de=oe=null,he=R,ge=R=0,ot=null,Ne=L.next();he!==null&&!Ne.done;ge++,Ne=L.next()){he.index>ge?(ot=he,he=null):ot=he.sibling;var cn=B($,he,Ne.value,K);if(cn===null){he===null&&(he=ot);break}e&&he&&cn.alternate===null&&r($,he),R=p(cn,R,ge),de===null?oe=cn:de.sibling=cn,de=cn,he=ot}if(Ne.done)return a($,he),Ue&&_n($,ge),oe;if(he===null){for(;!Ne.done;ge++,Ne=L.next())Ne=V($,Ne.value,K),Ne!==null&&(R=p(Ne,R,ge),de===null?oe=Ne:de.sibling=Ne,de=Ne);return Ue&&_n($,ge),oe}for(he=l($,he);!Ne.done;ge++,Ne=L.next())Ne=Y(he,$,ge,Ne.value,K),Ne!==null&&(e&&Ne.alternate!==null&&he.delete(Ne.key===null?ge:Ne.key),R=p(Ne,R,ge),de===null?oe=Ne:de.sibling=Ne,de=Ne);return e&&he.forEach(function(rv){return r($,rv)}),Ue&&_n($,ge),oe}function Je($,R,L,K){if(typeof L=="object"&&L!==null&&L.type===M&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:e:{for(var oe=L.key,de=R;de!==null;){if(de.key===oe){if(oe=L.type,oe===M){if(de.tag===7){a($,de.sibling),R=h(de,L.props.children),R.return=$,$=R;break e}}else if(de.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===re&&Td(oe)===de.type){a($,de.sibling),R=h(de,L.props),R.ref=ia($,de,L),R.return=$,$=R;break e}a($,de);break}else r($,de);de=de.sibling}L.type===M?(R=Rn(L.props.children,$.mode,K,L.key),R.return=$,$=R):(K=Vi(L.type,L.key,L.props,null,$.mode,K),K.ref=ia($,R,L),K.return=$,$=K)}return y($);case O:e:{for(de=L.key;R!==null;){if(R.key===de)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){a($,R.sibling),R=h(R,L.children||[]),R.return=$,$=R;break e}else{a($,R);break}else r($,R);R=R.sibling}R=pc(L,$.mode,K),R.return=$,$=R}return y($);case re:return de=L._init,Je($,R,de(L._payload),K)}if($e(L))return te($,R,L,K);if(G(L))return ne($,R,L,K);wi($,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,R!==null&&R.tag===6?(a($,R.sibling),R=h(R,L),R.return=$,$=R):(a($,R),R=fc(L,$.mode,K),R.return=$,$=R),y($)):a($,R)}return Je}var is=Ad(!0),Od=Ad(!1),bi=Yr(null),_i=null,os=null,kl=null;function jl(){kl=os=_i=null}function Sl(e){var r=bi.current;ze(bi),e._currentValue=r}function El(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function ls(e,r){_i=e,kl=os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(St=!0),e.firstContext=null)}function Vt(e){var r=e._currentValue;if(kl!==e)if(e={context:e,memoizedValue:r,next:null},os===null){if(_i===null)throw Error(s(308));os=e,_i.dependencies={lanes:0,firstContext:e}}else os=os.next=e;return r}var kn=null;function Nl(e){kn===null?kn=[e]:kn.push(e)}function Id(e,r,a,l){var h=r.interleaved;return h===null?(a.next=a,Nl(r)):(a.next=h.next,h.next=a),r.interleaved=a,Er(e,l)}function Er(e,r){e.lanes|=r;var a=e.alternate;for(a!==null&&(a.lanes|=r),a=e,e=e.return;e!==null;)e.childLanes|=r,a=e.alternate,a!==null&&(a.childLanes|=r),a=e,e=e.return;return a.tag===3?a.stateNode:null}var en=!1;function Cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $d(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function tn(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,Er(e,a)}return h=l.interleaved,h===null?(r.next=r,Nl(l)):(r.next=h.next,h.next=r),l.interleaved=r,Er(e,a)}function ki(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Bo(e,a)}}function Ld(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var y={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=y:p=p.next=y,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,effects:l.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}function ji(e,r,a,l){var h=e.updateQueue;en=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,j=h.shared.pending;if(j!==null){h.shared.pending=null;var N=j,z=N.next;N.next=null,y===null?p=z:y.next=z,y=N;var q=e.alternate;q!==null&&(q=q.updateQueue,j=q.lastBaseUpdate,j!==y&&(j===null?q.firstBaseUpdate=z:j.next=z,q.lastBaseUpdate=N))}if(p!==null){var V=h.baseState;y=0,q=z=N=null,j=p;do{var B=j.lane,Y=j.eventTime;if((l&B)===B){q!==null&&(q=q.next={eventTime:Y,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var te=e,ne=j;switch(B=r,Y=a,ne.tag){case 1:if(te=ne.payload,typeof te=="function"){V=te.call(Y,V,B);break e}V=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ne.payload,B=typeof te=="function"?te.call(Y,V,B):te,B==null)break e;V=Q({},V,B);break e;case 2:en=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,B=h.effects,B===null?h.effects=[j]:B.push(j))}else Y={eventTime:Y,lane:B,tag:j.tag,payload:j.payload,callback:j.callback,next:null},q===null?(z=q=Y,N=V):q=q.next=Y,y|=B;if(j=j.next,j===null){if(j=h.shared.pending,j===null)break;B=j,j=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);if(q===null&&(N=V),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=q,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);En|=y,e.lanes=y,e.memoizedState=V}}function zd(e,r,a){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var l=e[r],h=l.callback;if(h!==null){if(l.callback=null,l=a,typeof h!="function")throw Error(s(191,h));h.call(l)}}}var oa={},dr=Yr(oa),la=Yr(oa),ca=Yr(oa);function jn(e){if(e===oa)throw Error(s(174));return e}function Pl(e,r){switch(Oe(ca,r),Oe(la,e),Oe(dr,oa),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:wr(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=wr(r,e)}ze(dr),Oe(dr,r)}function cs(){ze(dr),ze(la),ze(ca)}function Dd(e){jn(ca.current);var r=jn(dr.current),a=wr(r,e.type);r!==a&&(Oe(la,e),Oe(dr,a))}function Rl(e){la.current===e&&(ze(dr),ze(la))}var Fe=Yr(0);function Si(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Tl=[];function Al(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var Ei=U.ReactCurrentDispatcher,Ol=U.ReactCurrentBatchConfig,Sn=0,Be=null,tt=null,at=null,Ni=!1,ua=!1,da=0,jg=0;function vt(){throw Error(s(321))}function Il(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Xt(e[a],r[a]))return!1;return!0}function $l(e,r,a,l,h,p){if(Sn=p,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ei.current=e===null||e.memoizedState===null?Cg:Pg,e=a(l,h),ua){p=0;do{if(ua=!1,da=0,25<=p)throw Error(s(301));p+=1,at=tt=null,r.updateQueue=null,Ei.current=Rg,e=a(l,h)}while(ua)}if(Ei.current=Ri,r=tt!==null&&tt.next!==null,Sn=0,at=tt=Be=null,Ni=!1,r)throw Error(s(300));return e}function Ll(){var e=da!==0;return da=0,e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Be.memoizedState=at=e:at=at.next=e,at}function Ht(){if(tt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var r=at===null?Be.memoizedState:at.next;if(r!==null)at=r,tt=e;else{if(e===null)throw Error(s(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},at===null?Be.memoizedState=at=e:at=at.next=e}return at}function ha(e,r){return typeof r=="function"?r(e):r}function zl(e){var r=Ht(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=tt,h=l.baseQueue,p=a.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}l.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,l=l.baseState;var j=y=null,N=null,z=p;do{var q=z.lane;if((Sn&q)===q)N!==null&&(N=N.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),l=z.hasEagerState?z.eagerState:e(l,z.action);else{var V={lane:q,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};N===null?(j=N=V,y=l):N=N.next=V,Be.lanes|=q,En|=q}z=z.next}while(z!==null&&z!==p);N===null?y=l:N.next=j,Xt(l,r.memoizedState)||(St=!0),r.memoizedState=l,r.baseState=y,r.baseQueue=N,a.lastRenderedState=l}if(e=a.interleaved,e!==null){h=e;do p=h.lane,Be.lanes|=p,En|=p,h=h.next;while(h!==e)}else h===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Dl(e){var r=Ht(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do p=e(p,y.action),y=y.next;while(y!==h);Xt(p,r.memoizedState)||(St=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function Ud(){}function Md(e,r){var a=Be,l=Ht(),h=r(),p=!Xt(l.memoizedState,h);if(p&&(l.memoizedState=h,St=!0),l=l.queue,Ul(qd.bind(null,a,l,e),[e]),l.getSnapshot!==r||p||at!==null&&at.memoizedState.tag&1){if(a.flags|=2048,fa(9,Bd.bind(null,a,l,h,r),void 0,null),it===null)throw Error(s(349));(Sn&30)!==0||Fd(a,r,h)}return h}function Fd(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Bd(e,r,a,l){r.value=a,r.getSnapshot=l,Vd(r)&&Hd(e)}function qd(e,r,a){return a(function(){Vd(r)&&Hd(e)})}function Vd(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Xt(e,a)}catch{return!0}}function Hd(e){var r=Er(e,1);r!==null&&nr(r,e,1,-1)}function Wd(e){var r=hr();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},r.queue=e,e=e.dispatch=Ng.bind(null,Be,e),[r.memoizedState,e]}function fa(e,r,a,l){return e={tag:e,create:r,destroy:a,deps:l,next:null},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.lastEffect=e.next=e):(a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e)),e}function Kd(){return Ht().memoizedState}function Ci(e,r,a,l){var h=hr();Be.flags|=e,h.memoizedState=fa(1|r,a,void 0,l===void 0?null:l)}function Pi(e,r,a,l){var h=Ht();l=l===void 0?null:l;var p=void 0;if(tt!==null){var y=tt.memoizedState;if(p=y.destroy,l!==null&&Il(l,y.deps)){h.memoizedState=fa(r,a,p,l);return}}Be.flags|=e,h.memoizedState=fa(1|r,a,p,l)}function Gd(e,r){return Ci(8390656,8,e,r)}function Ul(e,r){return Pi(2048,8,e,r)}function Jd(e,r){return Pi(4,2,e,r)}function Qd(e,r){return Pi(4,4,e,r)}function Yd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Xd(e,r,a){return a=a!=null?a.concat([e]):null,Pi(4,4,Yd.bind(null,r,e),a)}function Ml(){}function Zd(e,r){var a=Ht();r=r===void 0?null:r;var l=a.memoizedState;return l!==null&&r!==null&&Il(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function eh(e,r){var a=Ht();r=r===void 0?null:r;var l=a.memoizedState;return l!==null&&r!==null&&Il(r,l[1])?l[0]:(e=e(),a.memoizedState=[e,r],e)}function th(e,r,a){return(Sn&21)===0?(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=a):(Xt(a,r)||(a=Tu(),Be.lanes|=a,En|=a,e.baseState=!0),r)}function Sg(e,r){var a=Ae;Ae=a!==0&&4>a?a:4,e(!0);var l=Ol.transition;Ol.transition={};try{e(!1),r()}finally{Ae=a,Ol.transition=l}}function rh(){return Ht().memoizedState}function Eg(e,r,a){var l=an(e);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},nh(e))sh(r,a);else if(a=Id(e,r,a,l),a!==null){var h=bt();nr(a,e,l,h),ah(a,r,l)}}function Ng(e,r,a){var l=an(e),h={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(nh(e))sh(r,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,j=p(y,a);if(h.hasEagerState=!0,h.eagerState=j,Xt(j,y)){var N=r.interleaved;N===null?(h.next=h,Nl(r)):(h.next=N.next,N.next=h),r.interleaved=h;return}}catch{}finally{}a=Id(e,r,h,l),a!==null&&(h=bt(),nr(a,e,l,h),ah(a,r,l))}}function nh(e){var r=e.alternate;return e===Be||r!==null&&r===Be}function sh(e,r){ua=Ni=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function ah(e,r,a){if((a&4194240)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Bo(e,a)}}var Ri={readContext:Vt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Cg={readContext:Vt,useCallback:function(e,r){return hr().memoizedState=[e,r===void 0?null:r],e},useContext:Vt,useEffect:Gd,useImperativeHandle:function(e,r,a){return a=a!=null?a.concat([e]):null,Ci(4194308,4,Yd.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Ci(4194308,4,e,r)},useInsertionEffect:function(e,r){return Ci(4,2,e,r)},useMemo:function(e,r){var a=hr();return r=r===void 0?null:r,e=e(),a.memoizedState=[e,r],e},useReducer:function(e,r,a){var l=hr();return r=a!==void 0?a(r):r,l.memoizedState=l.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=Eg.bind(null,Be,e),[l.memoizedState,e]},useRef:function(e){var r=hr();return e={current:e},r.memoizedState=e},useState:Wd,useDebugValue:Ml,useDeferredValue:function(e){return hr().memoizedState=e},useTransition:function(){var e=Wd(!1),r=e[0];return e=Sg.bind(null,e[1]),hr().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,a){var l=Be,h=hr();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(Sn&30)!==0||Fd(l,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,Gd(qd.bind(null,l,p,e),[e]),l.flags|=2048,fa(9,Bd.bind(null,l,p,a,r),void 0,null),a},useId:function(){var e=hr(),r=it.identifierPrefix;if(Ue){var a=Sr,l=jr;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=da++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=jg++,r=":"+r+"r"+a.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Pg={readContext:Vt,useCallback:Zd,useContext:Vt,useEffect:Ul,useImperativeHandle:Xd,useInsertionEffect:Jd,useLayoutEffect:Qd,useMemo:eh,useReducer:zl,useRef:Kd,useState:function(){return zl(ha)},useDebugValue:Ml,useDeferredValue:function(e){var r=Ht();return th(r,tt.memoizedState,e)},useTransition:function(){var e=zl(ha)[0],r=Ht().memoizedState;return[e,r]},useMutableSource:Ud,useSyncExternalStore:Md,useId:rh,unstable_isNewReconciler:!1},Rg={readContext:Vt,useCallback:Zd,useContext:Vt,useEffect:Ul,useImperativeHandle:Xd,useInsertionEffect:Jd,useLayoutEffect:Qd,useMemo:eh,useReducer:Dl,useRef:Kd,useState:function(){return Dl(ha)},useDebugValue:Ml,useDeferredValue:function(e){var r=Ht();return tt===null?r.memoizedState=e:th(r,tt.memoizedState,e)},useTransition:function(){var e=Dl(ha)[0],r=Ht().memoizedState;return[e,r]},useMutableSource:Ud,useSyncExternalStore:Md,useId:rh,unstable_isNewReconciler:!1};function er(e,r){if(e&&e.defaultProps){r=Q({},r),e=e.defaultProps;for(var a in e)r[a]===void 0&&(r[a]=e[a]);return r}return r}function Fl(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:Q({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ti={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,r,a){e=e._reactInternals;var l=bt(),h=an(e),p=Nr(l,h);p.payload=r,a!=null&&(p.callback=a),r=tn(e,p,h),r!==null&&(nr(r,e,h,l),ki(r,e,h))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=bt(),h=an(e),p=Nr(l,h);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=tn(e,p,h),r!==null&&(nr(r,e,h,l),ki(r,e,h))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=bt(),l=an(e),h=Nr(a,l);h.tag=2,r!=null&&(h.callback=r),r=tn(e,h,l),r!==null&&(nr(r,e,l,a),ki(r,e,l))}};function ih(e,r,a,l,h,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,y):r.prototype&&r.prototype.isPureReactComponent?!Zs(a,l)||!Zs(h,p):!0}function oh(e,r,a){var l=!1,h=Xr,p=r.contextType;return typeof p=="object"&&p!==null?p=Vt(p):(h=jt(r)?wn:gt.current,l=r.contextTypes,p=(l=l!=null)?rs(e,h):Xr),r=new r(a,p),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ti,e.stateNode=r,r._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),r}function lh(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Ti.enqueueReplaceState(r,r.state,null)}function Bl(e,r,a,l){var h=e.stateNode;h.props=a,h.state=e.memoizedState,h.refs={},Cl(e);var p=r.contextType;typeof p=="object"&&p!==null?h.context=Vt(p):(p=jt(r)?wn:gt.current,h.context=rs(e,p)),h.state=e.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Fl(e,r,p,a),h.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Ti.enqueueReplaceState(h,h.state,null),ji(e,a,h,l),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,r){try{var a="",l=r;do a+=me(l),l=l.return;while(l);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:r,stack:h,digest:null}}function ql(e,r,a){return{value:e,source:null,stack:a??null,digest:r??null}}function Vl(e,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Tg=typeof WeakMap=="function"?WeakMap:Map;function ch(e,r,a){a=Nr(-1,a),a.tag=3,a.payload={element:null};var l=r.value;return a.callback=function(){Di||(Di=!0,ac=l),Vl(e,r)},a}function uh(e,r,a){a=Nr(-1,a),a.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var h=r.value;a.payload=function(){return l(h)},a.callback=function(){Vl(e,r)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Vl(e,r),typeof l!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),a}function dh(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Tg;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(h.add(a),e=Hg.bind(null,e,r,a),r.then(e,e))}function hh(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function fh(e,r,a,l,h){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Nr(-1,1),r.tag=2,tn(a,r,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Ag=U.ReactCurrentOwner,St=!1;function wt(e,r,a,l){r.child=e===null?Od(r,null,a,l):is(r,e.child,a,l)}function ph(e,r,a,l,h){a=a.render;var p=r.ref;return ls(r,h),l=$l(e,r,a,l,p,h),a=Ll(),e!==null&&!St?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,Cr(e,r,h)):(Ue&&a&&yl(r),r.flags|=1,wt(e,r,l,h),r.child)}function mh(e,r,a,l,h){if(e===null){var p=a.type;return typeof p=="function"&&!hc(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,gh(e,r,p,l,h)):(e=Vi(a.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,(e.lanes&h)===0){var y=p.memoizedProps;if(a=a.compare,a=a!==null?a:Zs,a(y,l)&&e.ref===r.ref)return Cr(e,r,h)}return r.flags|=1,e=ln(p,l),e.ref=r.ref,e.return=r,r.child=e}function gh(e,r,a,l,h){if(e!==null){var p=e.memoizedProps;if(Zs(p,l)&&e.ref===r.ref)if(St=!1,r.pendingProps=l=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(St=!0);else return r.lanes=e.lanes,Cr(e,r,h)}return Hl(e,r,a,l,h)}function vh(e,r,a){var l=r.pendingProps,h=l.children,p=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(hs,$t),$t|=a;else{if((a&1073741824)===0)return e=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Oe(hs,$t),$t|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=p!==null?p.baseLanes:a,Oe(hs,$t),$t|=l}else p!==null?(l=p.baseLanes|a,r.memoizedState=null):l=a,Oe(hs,$t),$t|=l;return wt(e,r,h,a),r.child}function yh(e,r){var a=r.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Hl(e,r,a,l,h){var p=jt(a)?wn:gt.current;return p=rs(r,p),ls(r,h),a=$l(e,r,a,l,p,h),l=Ll(),e!==null&&!St?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,Cr(e,r,h)):(Ue&&l&&yl(r),r.flags|=1,wt(e,r,a,h),r.child)}function xh(e,r,a,l,h){if(jt(a)){var p=!0;mi(r)}else p=!1;if(ls(r,h),r.stateNode===null)Oi(e,r),oh(r,a,l),Bl(r,a,l,h),l=!0;else if(e===null){var y=r.stateNode,j=r.memoizedProps;y.props=j;var N=y.context,z=a.contextType;typeof z=="object"&&z!==null?z=Vt(z):(z=jt(a)?wn:gt.current,z=rs(r,z));var q=a.getDerivedStateFromProps,V=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==l||N!==z)&&lh(r,y,l,z),en=!1;var B=r.memoizedState;y.state=B,ji(r,l,y,h),N=r.memoizedState,j!==l||B!==N||kt.current||en?(typeof q=="function"&&(Fl(r,a,q,l),N=r.memoizedState),(j=en||ih(r,a,j,l,B,N,z))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=N),y.props=l,y.state=N,y.context=z,l=j):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{y=r.stateNode,$d(e,r),j=r.memoizedProps,z=r.type===r.elementType?j:er(r.type,j),y.props=z,V=r.pendingProps,B=y.context,N=a.contextType,typeof N=="object"&&N!==null?N=Vt(N):(N=jt(a)?wn:gt.current,N=rs(r,N));var Y=a.getDerivedStateFromProps;(q=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==V||B!==N)&&lh(r,y,l,N),en=!1,B=r.memoizedState,y.state=B,ji(r,l,y,h);var te=r.memoizedState;j!==V||B!==te||kt.current||en?(typeof Y=="function"&&(Fl(r,a,Y,l),te=r.memoizedState),(z=en||ih(r,a,z,l,B,te,N)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,te,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,te,N)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||j===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=te),y.props=l,y.state=te,y.context=N,l=z):(typeof y.componentDidUpdate!="function"||j===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),l=!1)}return Wl(e,r,a,l,p,h)}function Wl(e,r,a,l,h,p){yh(e,r);var y=(r.flags&128)!==0;if(!l&&!y)return h&&jd(r,a,!1),Cr(e,r,p);l=r.stateNode,Ag.current=r;var j=y&&typeof a.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,e!==null&&y?(r.child=is(r,e.child,null,p),r.child=is(r,null,j,p)):wt(e,r,j,p),r.memoizedState=l.state,h&&jd(r,a,!0),r.child}function wh(e){var r=e.stateNode;r.pendingContext?_d(e,r.pendingContext,r.pendingContext!==r.context):r.context&&_d(e,r.context,!1),Pl(e,r.containerInfo)}function bh(e,r,a,l,h){return as(),_l(h),r.flags|=256,wt(e,r,a,l),r.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function _h(e,r,a){var l=r.pendingProps,h=Fe.current,p=!1,y=(r.flags&128)!==0,j;if((j=y)||(j=e!==null&&e.memoizedState===null?!1:(h&2)!==0),j?(p=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Oe(Fe,h&1),e===null)return bl(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=l.children,e=l.fallback,p?(l=r.mode,p=r.child,y={mode:"hidden",children:y},(l&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Hi(y,l,0,null),e=Rn(e,l,a,null),p.return=r,e.return=r,p.sibling=e,r.child=p,r.child.memoizedState=Gl(a),r.memoizedState=Kl,e):Jl(r,y));if(h=e.memoizedState,h!==null&&(j=h.dehydrated,j!==null))return Og(e,r,y,l,j,h,a);if(p){p=l.fallback,y=r.mode,h=e.child,j=h.sibling;var N={mode:"hidden",children:l.children};return(y&1)===0&&r.child!==h?(l=r.child,l.childLanes=0,l.pendingProps=N,r.deletions=null):(l=ln(h,N),l.subtreeFlags=h.subtreeFlags&14680064),j!==null?p=ln(j,p):(p=Rn(p,y,a,null),p.flags|=2),p.return=r,l.return=r,l.sibling=p,r.child=l,l=p,p=r.child,y=e.child.memoizedState,y=y===null?Gl(a):{baseLanes:y.baseLanes|a,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=e.childLanes&~a,r.memoizedState=Kl,l}return p=e.child,e=p.sibling,l=ln(p,{mode:"visible",children:l.children}),(r.mode&1)===0&&(l.lanes=a),l.return=r,l.sibling=null,e!==null&&(a=r.deletions,a===null?(r.deletions=[e],r.flags|=16):a.push(e)),r.child=l,r.memoizedState=null,l}function Jl(e,r){return r=Hi({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Ai(e,r,a,l){return l!==null&&_l(l),is(r,e.child,null,a),e=Jl(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Og(e,r,a,l,h,p,y){if(a)return r.flags&256?(r.flags&=-257,l=ql(Error(s(422))),Ai(e,r,y,l)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(p=l.fallback,h=r.mode,l=Hi({mode:"visible",children:l.children},h,0,null),p=Rn(p,h,y,null),p.flags|=2,l.return=r,p.return=r,l.sibling=p,r.child=l,(r.mode&1)!==0&&is(r,e.child,null,y),r.child.memoizedState=Gl(y),r.memoizedState=Kl,p);if((r.mode&1)===0)return Ai(e,r,y,null);if(h.data==="$!"){if(l=h.nextSibling&&h.nextSibling.dataset,l)var j=l.dgst;return l=j,p=Error(s(419)),l=ql(p,l,void 0),Ai(e,r,y,l)}if(j=(y&e.childLanes)!==0,St||j){if(l=it,l!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(l.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Er(e,h),nr(l,e,h,-1))}return dc(),l=ql(Error(s(421))),Ai(e,r,y,l)}return h.data==="$?"?(r.flags|=128,r.child=e.child,r=Wg.bind(null,e),h._reactRetry=r,null):(e=p.treeContext,It=Qr(h.nextSibling),Ot=r,Ue=!0,Zt=null,e!==null&&(Bt[qt++]=jr,Bt[qt++]=Sr,Bt[qt++]=bn,jr=e.id,Sr=e.overflow,bn=r),r=Jl(r,l.children),r.flags|=4096,r)}function kh(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),El(e.return,r,a)}function Ql(e,r,a,l,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h)}function jh(e,r,a){var l=r.pendingProps,h=l.revealOrder,p=l.tail;if(wt(e,r,l.children,a),l=Fe.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kh(e,a,r);else if(e.tag===19)kh(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Oe(Fe,l),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&Si(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Ql(r,!1,h,a,p);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Si(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ql(r,!0,a,null,p);break;case"together":Ql(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Oi(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Cr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),En|=r.lanes,(a&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=ln(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ln(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Ig(e,r,a){switch(r.tag){case 3:wh(r),as();break;case 5:Dd(r);break;case 1:jt(r.type)&&mi(r);break;case 4:Pl(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,h=r.memoizedProps.value;Oe(bi,l._currentValue),l._currentValue=h;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Oe(Fe,Fe.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?_h(e,r,a):(Oe(Fe,Fe.current&1),e=Cr(e,r,a),e!==null?e.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(l=(a&r.childLanes)!==0,(e.flags&128)!==0){if(l)return jh(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Oe(Fe,Fe.current),l)break;return null;case 22:case 23:return r.lanes=0,vh(e,r,a)}return Cr(e,r,a)}var Sh,Yl,Eh,Nh;Sh=function(e,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Yl=function(){},Eh=function(e,r,a,l){var h=e.memoizedProps;if(h!==l){e=r.stateNode,jn(dr.current);var p=null;switch(a){case"input":h=Jt(e,h),l=Jt(e,l),p=[];break;case"select":h=Q({},h,{value:void 0}),l=Q({},l,{value:void 0}),p=[];break;case"textarea":h=De(e,h),l=De(e,l),p=[];break;default:typeof h.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=hi)}Wn(a,l);var y;a=null;for(z in h)if(!l.hasOwnProperty(z)&&h.hasOwnProperty(z)&&h[z]!=null)if(z==="style"){var j=h[z];for(y in j)j.hasOwnProperty(y)&&(a||(a={}),a[y]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(c.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in l){var N=l[z];if(j=h!=null?h[z]:void 0,l.hasOwnProperty(z)&&N!==j&&(N!=null||j!=null))if(z==="style")if(j){for(y in j)!j.hasOwnProperty(y)||N&&N.hasOwnProperty(y)||(a||(a={}),a[y]="");for(y in N)N.hasOwnProperty(y)&&j[y]!==N[y]&&(a||(a={}),a[y]=N[y])}else a||(p||(p=[]),p.push(z,a)),a=N;else z==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,j=j?j.__html:void 0,N!=null&&j!==N&&(p=p||[]).push(z,N)):z==="children"?typeof N!="string"&&typeof N!="number"||(p=p||[]).push(z,""+N):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(c.hasOwnProperty(z)?(N!=null&&z==="onScroll"&&Le("scroll",e),p||j===N||(p=[])):(p=p||[]).push(z,N))}a&&(p=p||[]).push("style",a);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},Nh=function(e,r,a,l){a!==l&&(r.flags|=4)};function pa(e,r){if(!Ue)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function yt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&14680064,l|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function $g(e,r,a){var l=r.pendingProps;switch(xl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return jt(r.type)&&pi(),yt(r),null;case 3:return l=r.stateNode,cs(),ze(kt),ze(gt),Al(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(xi(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zt!==null&&(lc(Zt),Zt=null))),Yl(e,r),yt(r),null;case 5:Rl(r);var h=jn(ca.current);if(a=r.type,e!==null&&r.stateNode!=null)Eh(e,r,a,l,h),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(s(166));return yt(r),null}if(e=jn(dr.current),xi(r)){l=r.stateNode,a=r.type;var p=r.memoizedProps;switch(l[ur]=r,l[sa]=p,e=(r.mode&1)!==0,a){case"dialog":Le("cancel",l),Le("close",l);break;case"iframe":case"object":case"embed":Le("load",l);break;case"video":case"audio":for(h=0;h<ta.length;h++)Le(ta[h],l);break;case"source":Le("error",l);break;case"img":case"image":case"link":Le("error",l),Le("load",l);break;case"details":Le("toggle",l);break;case"input":Bn(l,p),Le("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!p.multiple},Le("invalid",l);break;case"textarea":_t(l,p),Le("invalid",l)}Wn(a,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var j=p[y];y==="children"?typeof j=="string"?l.textContent!==j&&(p.suppressHydrationWarning!==!0&&di(l.textContent,j,e),h=["children",j]):typeof j=="number"&&l.textContent!==""+j&&(p.suppressHydrationWarning!==!0&&di(l.textContent,j,e),h=["children",""+j]):c.hasOwnProperty(y)&&j!=null&&y==="onScroll"&&Le("scroll",l)}switch(a){case"input":yr(l),Qe(l,p,!0);break;case"textarea":yr(l),Vn(l);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(l.onclick=hi)}l=h,r.updateQueue=l,l!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xr(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=y.createElement(a,{is:l.is}):(e=y.createElement(a),a==="select"&&(y=e,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):e=y.createElementNS(e,a),e[ur]=r,e[sa]=l,Sh(e,r,!1,!1),r.stateNode=e;e:{switch(y=zs(a,l),a){case"dialog":Le("cancel",e),Le("close",e),h=l;break;case"iframe":case"object":case"embed":Le("load",e),h=l;break;case"video":case"audio":for(h=0;h<ta.length;h++)Le(ta[h],e);h=l;break;case"source":Le("error",e),h=l;break;case"img":case"image":case"link":Le("error",e),Le("load",e),h=l;break;case"details":Le("toggle",e),h=l;break;case"input":Bn(e,l),h=Jt(e,l),Le("invalid",e);break;case"option":h=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},h=Q({},l,{value:void 0}),Le("invalid",e);break;case"textarea":_t(e,l),h=De(e,l),Le("invalid",e);break;default:h=l}Wn(a,h),j=h;for(p in j)if(j.hasOwnProperty(p)){var N=j[p];p==="style"?Ha(e,N):p==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Hn(e,N)):p==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Ut(e,N):typeof N=="number"&&Ut(e,""+N):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?N!=null&&p==="onScroll"&&Le("scroll",e):N!=null&&P(e,p,N,y))}switch(a){case"input":yr(e),Qe(e,l,!1);break;case"textarea":yr(e),Vn(e);break;case"option":l.value!=null&&e.setAttribute("value",""+ye(l.value));break;case"select":e.multiple=!!l.multiple,p=l.value,p!=null?lt(e,!!l.multiple,p,!1):l.defaultValue!=null&&lt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=hi)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return yt(r),null;case 6:if(e&&r.stateNode!=null)Nh(e,r,e.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(a=jn(ca.current),jn(dr.current),xi(r)){if(l=r.stateNode,a=r.memoizedProps,l[ur]=r,(p=l.nodeValue!==a)&&(e=Ot,e!==null))switch(e.tag){case 3:di(l.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&di(l.nodeValue,a,(e.mode&1)!==0)}p&&(r.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[ur]=r,r.stateNode=l}return yt(r),null;case 13:if(ze(Fe),l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&It!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Rd(),as(),r.flags|=98560,p=!1;else if(p=xi(r),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[ur]=r}else as(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),p=!1}else Zt!==null&&(lc(Zt),Zt=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Fe.current&1)!==0?rt===0&&(rt=3):dc())),r.updateQueue!==null&&(r.flags|=4),yt(r),null);case 4:return cs(),Yl(e,r),e===null&&ra(r.stateNode.containerInfo),yt(r),null;case 10:return Sl(r.type._context),yt(r),null;case 17:return jt(r.type)&&pi(),yt(r),null;case 19:if(ze(Fe),p=r.memoizedState,p===null)return yt(r),null;if(l=(r.flags&128)!==0,y=p.rendering,y===null)if(l)pa(p,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(y=Si(e),y!==null){for(r.flags|=128,pa(p,!1),l=y.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=a,a=r.child;a!==null;)p=a,e=l,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,e=y.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Oe(Fe,Fe.current&1|2),r.child}e=e.sibling}p.tail!==null&&Ge()>fs&&(r.flags|=128,l=!0,pa(p,!1),r.lanes=4194304)}else{if(!l)if(e=Si(y),e!==null){if(r.flags|=128,l=!0,a=e.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),pa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ue)return yt(r),null}else 2*Ge()-p.renderingStartTime>fs&&a!==1073741824&&(r.flags|=128,l=!0,pa(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(a=p.last,a!==null?a.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ge(),r.sibling=null,a=Fe.current,Oe(Fe,l?a&1|2:a&1),r):(yt(r),null);case 22:case 23:return uc(),l=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(r.flags|=8192),l&&(r.mode&1)!==0?($t&1073741824)!==0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Lg(e,r){switch(xl(r),r.tag){case 1:return jt(r.type)&&pi(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return cs(),ze(kt),ze(gt),Al(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Rl(r),null;case 13:if(ze(Fe),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));as()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ze(Fe),null;case 4:return cs(),null;case 10:return Sl(r.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var Ii=!1,xt=!1,zg=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ds(e,r){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){Ve(e,r,l)}else a.current=null}function Xl(e,r,a){try{a()}catch(l){Ve(e,r,l)}}var Ch=!1;function Dg(e,r){if(ul=ei,e=id(),rl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var y=0,j=-1,N=-1,z=0,q=0,V=e,B=null;t:for(;;){for(var Y;V!==a||h!==0&&V.nodeType!==3||(j=y+h),V!==p||l!==0&&V.nodeType!==3||(N=y+l),V.nodeType===3&&(y+=V.nodeValue.length),(Y=V.firstChild)!==null;)B=V,V=Y;for(;;){if(V===e)break t;if(B===a&&++z===h&&(j=y),B===p&&++q===l&&(N=y),(Y=V.nextSibling)!==null)break;V=B,B=V.parentNode}V=Y}a=j===-1||N===-1?null:{start:j,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(dl={focusedElem:e,selectionRange:a},ei=!1,Z=r;Z!==null;)if(r=Z,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Z=e;else for(;Z!==null;){r=Z;try{var te=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var ne=te.memoizedProps,Je=te.memoizedState,$=r.stateNode,R=$.getSnapshotBeforeUpdate(r.elementType===r.type?ne:er(r.type,ne),Je);$.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var L=r.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(K){Ve(r,r.return,K)}if(e=r.sibling,e!==null){e.return=r.return,Z=e;break}Z=r.return}return te=Ch,Ch=!1,te}function ma(e,r,a){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&Xl(r,a,p)}h=h.next}while(h!==l)}}function $i(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.create;a.destroy=l()}a=a.next}while(a!==r)}}function Zl(e){var r=e.ref;if(r!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof r=="function"?r(e):r.current=e}}function Ph(e){var r=e.alternate;r!==null&&(e.alternate=null,Ph(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[ur],delete r[sa],delete r[ml],delete r[wg],delete r[bg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rh(e){return e.tag===5||e.tag===3||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(e,r):a.insertBefore(e,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(e,a)):(r=a,r.appendChild(e)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=hi));else if(l!==4&&(e=e.child,e!==null))for(ec(e,r,a),e=e.sibling;e!==null;)ec(e,r,a),e=e.sibling}function tc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(tc(e,r,a),e=e.sibling;e!==null;)tc(e,r,a),e=e.sibling}var ut=null,tr=!1;function rn(e,r,a){for(a=a.child;a!==null;)Ah(e,r,a),a=a.sibling}function Ah(e,r,a){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Ga,a)}catch{}switch(a.tag){case 5:xt||ds(a,r);case 6:var l=ut,h=tr;ut=null,rn(e,r,a),ut=l,tr=h,ut!==null&&(tr?(e=ut,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):ut.removeChild(a.stateNode));break;case 18:ut!==null&&(tr?(e=ut,a=a.stateNode,e.nodeType===8?pl(e.parentNode,a):e.nodeType===1&&pl(e,a),Ks(e)):pl(ut,a.stateNode));break;case 4:l=ut,h=tr,ut=a.stateNode.containerInfo,tr=!0,rn(e,r,a),ut=l,tr=h;break;case 0:case 11:case 14:case 15:if(!xt&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){h=l=l.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&Xl(a,r,y),h=h.next}while(h!==l)}rn(e,r,a);break;case 1:if(!xt&&(ds(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(j){Ve(a,r,j)}rn(e,r,a);break;case 21:rn(e,r,a);break;case 22:a.mode&1?(xt=(l=xt)||a.memoizedState!==null,rn(e,r,a),xt=l):rn(e,r,a);break;default:rn(e,r,a)}}function Oh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new zg),r.forEach(function(l){var h=Kg.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}}function rr(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];try{var p=e,y=r,j=y;e:for(;j!==null;){switch(j.tag){case 5:ut=j.stateNode,tr=!1;break e;case 3:ut=j.stateNode.containerInfo,tr=!0;break e;case 4:ut=j.stateNode.containerInfo,tr=!0;break e}j=j.return}if(ut===null)throw Error(s(160));Ah(p,y,h),ut=null,tr=!1;var N=h.alternate;N!==null&&(N.return=null),h.return=null}catch(z){Ve(h,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ih(r,e),r=r.sibling}function Ih(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(r,e),fr(e),l&4){try{ma(3,e,e.return),$i(3,e)}catch(ne){Ve(e,e.return,ne)}try{ma(5,e,e.return)}catch(ne){Ve(e,e.return,ne)}}break;case 1:rr(r,e),fr(e),l&512&&a!==null&&ds(a,a.return);break;case 5:if(rr(r,e),fr(e),l&512&&a!==null&&ds(a,a.return),e.flags&32){var h=e.stateNode;try{Ut(h,"")}catch(ne){Ve(e,e.return,ne)}}if(l&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,y=a!==null?a.memoizedProps:p,j=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{j==="input"&&p.type==="radio"&&p.name!=null&&zr(h,p),zs(j,y);var z=zs(j,p);for(y=0;y<N.length;y+=2){var q=N[y],V=N[y+1];q==="style"?Ha(h,V):q==="dangerouslySetInnerHTML"?Hn(h,V):q==="children"?Ut(h,V):P(h,q,V,z)}switch(j){case"input":I(h,p);break;case"textarea":qn(h,p);break;case"select":var B=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Y=p.value;Y!=null?lt(h,!!p.multiple,Y,!1):B!==!!p.multiple&&(p.defaultValue!=null?lt(h,!!p.multiple,p.defaultValue,!0):lt(h,!!p.multiple,p.multiple?[]:"",!1))}h[sa]=p}catch(ne){Ve(e,e.return,ne)}}break;case 6:if(rr(r,e),fr(e),l&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(ne){Ve(e,e.return,ne)}}break;case 3:if(rr(r,e),fr(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ks(r.containerInfo)}catch(ne){Ve(e,e.return,ne)}break;case 4:rr(r,e),fr(e);break;case 13:rr(r,e),fr(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(sc=Ge())),l&4&&Oh(e);break;case 22:if(q=a!==null&&a.memoizedState!==null,e.mode&1?(xt=(z=xt)||q,rr(r,e),xt=z):rr(r,e),fr(e),l&8192){if(z=e.memoizedState!==null,(e.stateNode.isHidden=z)&&!q&&(e.mode&1)!==0)for(Z=e,q=e.child;q!==null;){for(V=Z=q;Z!==null;){switch(B=Z,Y=B.child,B.tag){case 0:case 11:case 14:case 15:ma(4,B,B.return);break;case 1:ds(B,B.return);var te=B.stateNode;if(typeof te.componentWillUnmount=="function"){l=B,a=B.return;try{r=l,te.props=r.memoizedProps,te.state=r.memoizedState,te.componentWillUnmount()}catch(ne){Ve(l,a,ne)}}break;case 5:ds(B,B.return);break;case 22:if(B.memoizedState!==null){zh(V);continue}}Y!==null?(Y.return=B,Z=Y):zh(V)}q=q.sibling}e:for(q=null,V=e;;){if(V.tag===5){if(q===null){q=V;try{h=V.stateNode,z?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(j=V.stateNode,N=V.memoizedProps.style,y=N!=null&&N.hasOwnProperty("display")?N.display:null,j.style.display=Va("display",y))}catch(ne){Ve(e,e.return,ne)}}}else if(V.tag===6){if(q===null)try{V.stateNode.nodeValue=z?"":V.memoizedProps}catch(ne){Ve(e,e.return,ne)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;q===V&&(q=null),V=V.return}q===V&&(q=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:rr(r,e),fr(e),l&4&&Oh(e);break;case 21:break;default:rr(r,e),fr(e)}}function fr(e){var r=e.flags;if(r&2){try{e:{for(var a=e.return;a!==null;){if(Rh(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 5:var h=l.stateNode;l.flags&32&&(Ut(h,""),l.flags&=-33);var p=Th(e);tc(e,p,h);break;case 3:case 4:var y=l.stateNode.containerInfo,j=Th(e);ec(e,j,y);break;default:throw Error(s(161))}}catch(N){Ve(e,e.return,N)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Ug(e,r,a){Z=e,$h(e)}function $h(e,r,a){for(var l=(e.mode&1)!==0;Z!==null;){var h=Z,p=h.child;if(h.tag===22&&l){var y=h.memoizedState!==null||Ii;if(!y){var j=h.alternate,N=j!==null&&j.memoizedState!==null||xt;j=Ii;var z=xt;if(Ii=y,(xt=N)&&!z)for(Z=h;Z!==null;)y=Z,N=y.child,y.tag===22&&y.memoizedState!==null?Dh(h):N!==null?(N.return=y,Z=N):Dh(h);for(;p!==null;)Z=p,$h(p),p=p.sibling;Z=h,Ii=j,xt=z}Lh(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,Z=p):Lh(e)}}function Lh(e){for(;Z!==null;){var r=Z;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:xt||$i(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!xt)if(a===null)l.componentDidMount();else{var h=r.elementType===r.type?a.memoizedProps:er(r.type,a.memoizedProps);l.componentDidUpdate(h,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&zd(r,p,l);break;case 3:var y=r.updateQueue;if(y!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}zd(r,y,a)}break;case 5:var j=r.stateNode;if(a===null&&r.flags&4){a=j;var N=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var q=z.memoizedState;if(q!==null){var V=q.dehydrated;V!==null&&Ks(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}xt||r.flags&512&&Zl(r)}catch(B){Ve(r,r.return,B)}}if(r===e){Z=null;break}if(a=r.sibling,a!==null){a.return=r.return,Z=a;break}Z=r.return}}function zh(e){for(;Z!==null;){var r=Z;if(r===e){Z=null;break}var a=r.sibling;if(a!==null){a.return=r.return,Z=a;break}Z=r.return}}function Dh(e){for(;Z!==null;){var r=Z;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{$i(4,r)}catch(N){Ve(r,a,N)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var h=r.return;try{l.componentDidMount()}catch(N){Ve(r,h,N)}}var p=r.return;try{Zl(r)}catch(N){Ve(r,p,N)}break;case 5:var y=r.return;try{Zl(r)}catch(N){Ve(r,y,N)}}}catch(N){Ve(r,r.return,N)}if(r===e){Z=null;break}var j=r.sibling;if(j!==null){j.return=r.return,Z=j;break}Z=r.return}}var Mg=Math.ceil,Li=U.ReactCurrentDispatcher,rc=U.ReactCurrentOwner,Wt=U.ReactCurrentBatchConfig,Ee=0,it=null,Xe=null,dt=0,$t=0,hs=Yr(0),rt=0,ga=null,En=0,zi=0,nc=0,va=null,Et=null,sc=0,fs=1/0,Pr=null,Di=!1,ac=null,nn=null,Ui=!1,sn=null,Mi=0,ya=0,ic=null,Fi=-1,Bi=0;function bt(){return(Ee&6)!==0?Ge():Fi!==-1?Fi:Fi=Ge()}function an(e){return(e.mode&1)===0?1:(Ee&2)!==0&&dt!==0?dt&-dt:kg.transition!==null?(Bi===0&&(Bi=Tu()),Bi):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Mu(e.type)),e)}function nr(e,r,a,l){if(50<ya)throw ya=0,ic=null,Error(s(185));Bs(e,a,l),((Ee&2)===0||e!==it)&&(e===it&&((Ee&2)===0&&(zi|=a),rt===4&&on(e,dt)),Nt(e,l),a===1&&Ee===0&&(r.mode&1)===0&&(fs=Ge()+500,gi&&Zr()))}function Nt(e,r){var a=e.callbackNode;km(e,r);var l=Ya(e,e===it?dt:0);if(l===0)a!==null&&Cu(a),e.callbackNode=null,e.callbackPriority=0;else if(r=l&-l,e.callbackPriority!==r){if(a!=null&&Cu(a),r===1)e.tag===0?_g(Mh.bind(null,e)):Sd(Mh.bind(null,e)),yg(function(){(Ee&6)===0&&Zr()}),a=null;else{switch(Au(l)){case 1:a=Uo;break;case 4:a=Pu;break;case 16:a=Ka;break;case 536870912:a=Ru;break;default:a=Ka}a=Gh(a,Uh.bind(null,e))}e.callbackPriority=r,e.callbackNode=a}}function Uh(e,r){if(Fi=-1,Bi=0,(Ee&6)!==0)throw Error(s(327));var a=e.callbackNode;if(ps()&&e.callbackNode!==a)return null;var l=Ya(e,e===it?dt:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||r)r=qi(e,l);else{r=l;var h=Ee;Ee|=2;var p=Bh();(it!==e||dt!==r)&&(Pr=null,fs=Ge()+500,Cn(e,r));do try{qg();break}catch(j){Fh(e,j)}while(!0);jl(),Li.current=p,Ee=h,Xe!==null?r=0:(it=null,dt=0,r=rt)}if(r!==0){if(r===2&&(h=Mo(e),h!==0&&(l=h,r=oc(e,h))),r===1)throw a=ga,Cn(e,0),on(e,l),Nt(e,Ge()),a;if(r===6)on(e,l);else{if(h=e.current.alternate,(l&30)===0&&!Fg(h)&&(r=qi(e,l),r===2&&(p=Mo(e),p!==0&&(l=p,r=oc(e,p))),r===1))throw a=ga,Cn(e,0),on(e,l),Nt(e,Ge()),a;switch(e.finishedWork=h,e.finishedLanes=l,r){case 0:case 1:throw Error(s(345));case 2:Pn(e,Et,Pr);break;case 3:if(on(e,l),(l&130023424)===l&&(r=sc+500-Ge(),10<r)){if(Ya(e,0)!==0)break;if(h=e.suspendedLanes,(h&l)!==l){bt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=fl(Pn.bind(null,e,Et,Pr),r);break}Pn(e,Et,Pr);break;case 4:if(on(e,l),(l&4194240)===l)break;for(r=e.eventTimes,h=-1;0<l;){var y=31-Yt(l);p=1<<y,y=r[y],y>h&&(h=y),l&=~p}if(l=h,l=Ge()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Mg(l/1960))-l,10<l){e.timeoutHandle=fl(Pn.bind(null,e,Et,Pr),l);break}Pn(e,Et,Pr);break;case 5:Pn(e,Et,Pr);break;default:throw Error(s(329))}}}return Nt(e,Ge()),e.callbackNode===a?Uh.bind(null,e):null}function oc(e,r){var a=va;return e.current.memoizedState.isDehydrated&&(Cn(e,r).flags|=256),e=qi(e,r),e!==2&&(r=Et,Et=a,r!==null&&lc(r)),e}function lc(e){Et===null?Et=e:Et.push.apply(Et,e)}function Fg(e){for(var r=e;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!Xt(p(),h))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function on(e,r){for(r&=~nc,r&=~zi,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var a=31-Yt(r),l=1<<a;e[a]=-1,r&=~l}}function Mh(e){if((Ee&6)!==0)throw Error(s(327));ps();var r=Ya(e,0);if((r&1)===0)return Nt(e,Ge()),null;var a=qi(e,r);if(e.tag!==0&&a===2){var l=Mo(e);l!==0&&(r=l,a=oc(e,l))}if(a===1)throw a=ga,Cn(e,0),on(e,r),Nt(e,Ge()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Pn(e,Et,Pr),Nt(e,Ge()),null}function cc(e,r){var a=Ee;Ee|=1;try{return e(r)}finally{Ee=a,Ee===0&&(fs=Ge()+500,gi&&Zr())}}function Nn(e){sn!==null&&sn.tag===0&&(Ee&6)===0&&ps();var r=Ee;Ee|=1;var a=Wt.transition,l=Ae;try{if(Wt.transition=null,Ae=1,e)return e()}finally{Ae=l,Wt.transition=a,Ee=r,(Ee&6)===0&&Zr()}}function uc(){$t=hs.current,ze(hs)}function Cn(e,r){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,vg(a)),Xe!==null)for(a=Xe.return;a!==null;){var l=a;switch(xl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&pi();break;case 3:cs(),ze(kt),ze(gt),Al();break;case 5:Rl(l);break;case 4:cs();break;case 13:ze(Fe);break;case 19:ze(Fe);break;case 10:Sl(l.type._context);break;case 22:case 23:uc()}a=a.return}if(it=e,Xe=e=ln(e.current,null),dt=$t=r,rt=0,ga=null,nc=zi=En=0,Et=va=null,kn!==null){for(r=0;r<kn.length;r++)if(a=kn[r],l=a.interleaved,l!==null){a.interleaved=null;var h=l.next,p=a.pending;if(p!==null){var y=p.next;p.next=h,l.next=y}a.pending=l}kn=null}return e}function Fh(e,r){do{var a=Xe;try{if(jl(),Ei.current=Ri,Ni){for(var l=Be.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}Ni=!1}if(Sn=0,at=tt=Be=null,ua=!1,da=0,rc.current=null,a===null||a.return===null){rt=1,ga=r,Xe=null;break}e:{var p=e,y=a.return,j=a,N=r;if(r=dt,j.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var z=N,q=j,V=q.tag;if((q.mode&1)===0&&(V===0||V===11||V===15)){var B=q.alternate;B?(q.updateQueue=B.updateQueue,q.memoizedState=B.memoizedState,q.lanes=B.lanes):(q.updateQueue=null,q.memoizedState=null)}var Y=hh(y);if(Y!==null){Y.flags&=-257,fh(Y,y,j,p,r),Y.mode&1&&dh(p,z,r),r=Y,N=z;var te=r.updateQueue;if(te===null){var ne=new Set;ne.add(N),r.updateQueue=ne}else te.add(N);break e}else{if((r&1)===0){dh(p,z,r),dc();break e}N=Error(s(426))}}else if(Ue&&j.mode&1){var Je=hh(y);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),fh(Je,y,j,p,r),_l(us(N,j));break e}}p=N=us(N,j),rt!==4&&(rt=2),va===null?va=[p]:va.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var $=ch(p,N,r);Ld(p,$);break e;case 1:j=N;var R=p.type,L=p.stateNode;if((p.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(nn===null||!nn.has(L)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=uh(p,j,r);Ld(p,K);break e}}p=p.return}while(p!==null)}Vh(a)}catch(oe){r=oe,Xe===a&&a!==null&&(Xe=a=a.return);continue}break}while(!0)}function Bh(){var e=Li.current;return Li.current=Ri,e===null?Ri:e}function dc(){(rt===0||rt===3||rt===2)&&(rt=4),it===null||(En&268435455)===0&&(zi&268435455)===0||on(it,dt)}function qi(e,r){var a=Ee;Ee|=2;var l=Bh();(it!==e||dt!==r)&&(Pr=null,Cn(e,r));do try{Bg();break}catch(h){Fh(e,h)}while(!0);if(jl(),Ee=a,Li.current=l,Xe!==null)throw Error(s(261));return it=null,dt=0,rt}function Bg(){for(;Xe!==null;)qh(Xe)}function qg(){for(;Xe!==null&&!pm();)qh(Xe)}function qh(e){var r=Kh(e.alternate,e,$t);e.memoizedProps=e.pendingProps,r===null?Vh(e):Xe=r,rc.current=null}function Vh(e){var r=e;do{var a=r.alternate;if(e=r.return,(r.flags&32768)===0){if(a=$g(a,r,$t),a!==null){Xe=a;return}}else{if(a=Lg(a,r),a!==null){a.flags&=32767,Xe=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Xe=null;return}}if(r=r.sibling,r!==null){Xe=r;return}Xe=r=e}while(r!==null);rt===0&&(rt=5)}function Pn(e,r,a){var l=Ae,h=Wt.transition;try{Wt.transition=null,Ae=1,Vg(e,r,a,l)}finally{Wt.transition=h,Ae=l}return null}function Vg(e,r,a,l){do ps();while(sn!==null);if((Ee&6)!==0)throw Error(s(327));a=e.finishedWork;var h=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=a.lanes|a.childLanes;if(jm(e,p),e===it&&(Xe=it=null,dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ui||(Ui=!0,Gh(Ka,function(){return ps(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Wt.transition,Wt.transition=null;var y=Ae;Ae=1;var j=Ee;Ee|=4,rc.current=null,Dg(e,a),Ih(a,e),ug(dl),ei=!!ul,dl=ul=null,e.current=a,Ug(a),mm(),Ee=j,Ae=y,Wt.transition=p}else e.current=a;if(Ui&&(Ui=!1,sn=e,Mi=h),p=e.pendingLanes,p===0&&(nn=null),ym(a.stateNode),Nt(e,Ge()),r!==null)for(l=e.onRecoverableError,a=0;a<r.length;a++)h=r[a],l(h.value,{componentStack:h.stack,digest:h.digest});if(Di)throw Di=!1,e=ac,ac=null,e;return(Mi&1)!==0&&e.tag!==0&&ps(),p=e.pendingLanes,(p&1)!==0?e===ic?ya++:(ya=0,ic=e):ya=0,Zr(),null}function ps(){if(sn!==null){var e=Au(Mi),r=Wt.transition,a=Ae;try{if(Wt.transition=null,Ae=16>e?16:e,sn===null)var l=!1;else{if(e=sn,sn=null,Mi=0,(Ee&6)!==0)throw Error(s(331));var h=Ee;for(Ee|=4,Z=e.current;Z!==null;){var p=Z,y=p.child;if((Z.flags&16)!==0){var j=p.deletions;if(j!==null){for(var N=0;N<j.length;N++){var z=j[N];for(Z=z;Z!==null;){var q=Z;switch(q.tag){case 0:case 11:case 15:ma(8,q,p)}var V=q.child;if(V!==null)V.return=q,Z=V;else for(;Z!==null;){q=Z;var B=q.sibling,Y=q.return;if(Ph(q),q===z){Z=null;break}if(B!==null){B.return=Y,Z=B;break}Z=Y}}}var te=p.alternate;if(te!==null){var ne=te.child;if(ne!==null){te.child=null;do{var Je=ne.sibling;ne.sibling=null,ne=Je}while(ne!==null)}}Z=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,Z=y;else e:for(;Z!==null;){if(p=Z,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ma(9,p,p.return)}var $=p.sibling;if($!==null){$.return=p.return,Z=$;break e}Z=p.return}}var R=e.current;for(Z=R;Z!==null;){y=Z;var L=y.child;if((y.subtreeFlags&2064)!==0&&L!==null)L.return=y,Z=L;else e:for(y=R;Z!==null;){if(j=Z,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:$i(9,j)}}catch(oe){Ve(j,j.return,oe)}if(j===y){Z=null;break e}var K=j.sibling;if(K!==null){K.return=j.return,Z=K;break e}Z=j.return}}if(Ee=h,Zr(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Ga,e)}catch{}l=!0}return l}finally{Ae=a,Wt.transition=r}}return!1}function Hh(e,r,a){r=us(a,r),r=ch(e,r,1),e=tn(e,r,1),r=bt(),e!==null&&(Bs(e,1,r),Nt(e,r))}function Ve(e,r,a){if(e.tag===3)Hh(e,e,a);else for(;r!==null;){if(r.tag===3){Hh(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nn===null||!nn.has(l))){e=us(a,e),e=uh(r,e,1),r=tn(r,e,1),e=bt(),r!==null&&(Bs(r,1,e),Nt(r,e));break}}r=r.return}}function Hg(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),r=bt(),e.pingedLanes|=e.suspendedLanes&a,it===e&&(dt&a)===a&&(rt===4||rt===3&&(dt&130023424)===dt&&500>Ge()-sc?Cn(e,0):nc|=a),Nt(e,r)}function Wh(e,r){r===0&&((e.mode&1)===0?r=1:(r=Qa,Qa<<=1,(Qa&130023424)===0&&(Qa=4194304)));var a=bt();e=Er(e,r),e!==null&&(Bs(e,r,a),Nt(e,a))}function Wg(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Wh(e,a)}function Kg(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(r),Wh(e,a)}var Kh;Kh=function(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps||kt.current)St=!0;else{if((e.lanes&a)===0&&(r.flags&128)===0)return St=!1,Ig(e,r,a);St=(e.flags&131072)!==0}else St=!1,Ue&&(r.flags&1048576)!==0&&Ed(r,yi,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Oi(e,r),e=r.pendingProps;var h=rs(r,gt.current);ls(r,a),h=$l(null,r,l,e,h,a);var p=Ll();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,jt(l)?(p=!0,mi(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Cl(r),h.updater=Ti,r.stateNode=h,h._reactInternals=r,Bl(r,l,e,a),r=Wl(null,r,l,!0,p,a)):(r.tag=0,Ue&&p&&yl(r),wt(null,r,h,a),r=r.child),r;case 16:l=r.elementType;e:{switch(Oi(e,r),e=r.pendingProps,h=l._init,l=h(l._payload),r.type=l,h=r.tag=Jg(l),e=er(l,e),h){case 0:r=Hl(null,r,l,e,a);break e;case 1:r=xh(null,r,l,e,a);break e;case 11:r=ph(null,r,l,e,a);break e;case 14:r=mh(null,r,l,er(l.type,e),a);break e}throw Error(s(306,l,""))}return r;case 0:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:er(l,h),Hl(e,r,l,h,a);case 1:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:er(l,h),xh(e,r,l,h,a);case 3:e:{if(wh(r),e===null)throw Error(s(387));l=r.pendingProps,p=r.memoizedState,h=p.element,$d(e,r),ji(r,l,null,a);var y=r.memoizedState;if(l=y.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=us(Error(s(423)),r),r=bh(e,r,l,a,h);break e}else if(l!==h){h=us(Error(s(424)),r),r=bh(e,r,l,a,h);break e}else for(It=Qr(r.stateNode.containerInfo.firstChild),Ot=r,Ue=!0,Zt=null,a=Od(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(as(),l===h){r=Cr(e,r,a);break e}wt(e,r,l,a)}r=r.child}return r;case 5:return Dd(r),e===null&&bl(r),l=r.type,h=r.pendingProps,p=e!==null?e.memoizedProps:null,y=h.children,hl(l,h)?y=null:p!==null&&hl(l,p)&&(r.flags|=32),yh(e,r),wt(e,r,y,a),r.child;case 6:return e===null&&bl(r),null;case 13:return _h(e,r,a);case 4:return Pl(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=is(r,null,l,a):wt(e,r,l,a),r.child;case 11:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:er(l,h),ph(e,r,l,h,a);case 7:return wt(e,r,r.pendingProps,a),r.child;case 8:return wt(e,r,r.pendingProps.children,a),r.child;case 12:return wt(e,r,r.pendingProps.children,a),r.child;case 10:e:{if(l=r.type._context,h=r.pendingProps,p=r.memoizedProps,y=h.value,Oe(bi,l._currentValue),l._currentValue=y,p!==null)if(Xt(p.value,y)){if(p.children===h.children&&!kt.current){r=Cr(e,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var j=p.dependencies;if(j!==null){y=p.child;for(var N=j.firstContext;N!==null;){if(N.context===l){if(p.tag===1){N=Nr(-1,a&-a),N.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var q=z.pending;q===null?N.next=N:(N.next=q.next,q.next=N),z.pending=N}}p.lanes|=a,N=p.alternate,N!==null&&(N.lanes|=a),El(p.return,a,r),j.lanes|=a;break}N=N.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(s(341));y.lanes|=a,j=y.alternate,j!==null&&(j.lanes|=a),El(y,a,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}wt(e,r,h.children,a),r=r.child}return r;case 9:return h=r.type,l=r.pendingProps.children,ls(r,a),h=Vt(h),l=l(h),r.flags|=1,wt(e,r,l,a),r.child;case 14:return l=r.type,h=er(l,r.pendingProps),h=er(l.type,h),mh(e,r,l,h,a);case 15:return gh(e,r,r.type,r.pendingProps,a);case 17:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:er(l,h),Oi(e,r),r.tag=1,jt(l)?(e=!0,mi(r)):e=!1,ls(r,a),oh(r,l,h),Bl(r,l,h,a),Wl(null,r,l,!0,e,a);case 19:return jh(e,r,a);case 22:return vh(e,r,a)}throw Error(s(156,r.tag))};function Gh(e,r){return Nu(e,r)}function Gg(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,r,a,l){return new Gg(e,r,a,l)}function hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jg(e){if(typeof e=="function")return hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pe)return 11;if(e===ie)return 14}return 2}function ln(e,r){var a=e.alternate;return a===null?(a=Kt(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Vi(e,r,a,l,h,p){var y=2;if(l=e,typeof e=="function")hc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case M:return Rn(a.children,h,p,r);case se:y=8,h|=8;break;case ae:return e=Kt(12,a,r,h|2),e.elementType=ae,e.lanes=p,e;case Re:return e=Kt(13,a,r,h),e.elementType=Re,e.lanes=p,e;case ee:return e=Kt(19,a,r,h),e.elementType=ee,e.lanes=p,e;case ue:return Hi(a,h,p,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ke:y=10;break e;case Se:y=9;break e;case Pe:y=11;break e;case ie:y=14;break e;case re:y=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=Kt(y,a,r,h),r.elementType=e,r.type=l,r.lanes=p,r}function Rn(e,r,a,l){return e=Kt(7,e,l,r),e.lanes=a,e}function Hi(e,r,a,l){return e=Kt(22,e,l,r),e.elementType=ue,e.lanes=a,e.stateNode={isHidden:!1},e}function fc(e,r,a){return e=Kt(6,e,null,r),e.lanes=a,e}function pc(e,r,a){return r=Kt(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Qg(e,r,a,l,h){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=l,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function mc(e,r,a,l,h,p,y,j,N){return e=new Qg(e,r,a,j,N),r===1?(r=1,p===!0&&(r|=8)):r=0,p=Kt(3,null,null,r),e.current=p,p.stateNode=e,p.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(p),e}function Yg(e,r,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:l==null?null:""+l,children:e,containerInfo:r,implementation:a}}function Jh(e){if(!e)return Xr;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(jt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(jt(a))return kd(e,a,r)}return r}function Qh(e,r,a,l,h,p,y,j,N){return e=mc(a,l,!0,e,h,p,y,j,N),e.context=Jh(null),a=e.current,l=bt(),h=an(a),p=Nr(l,h),p.callback=r??null,tn(a,p,h),e.current.lanes=h,Bs(e,h,l),Nt(e,l),e}function Wi(e,r,a,l){var h=r.current,p=bt(),y=an(h);return a=Jh(a),r.context===null?r.context=a:r.pendingContext=a,r=Nr(p,y),r.payload={element:e},l=l===void 0?null:l,l!==null&&(r.callback=l),e=tn(h,r,y),e!==null&&(nr(e,h,y,p),ki(e,h,y)),y}function Ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function gc(e,r){Yh(e,r),(e=e.alternate)&&Yh(e,r)}function Xg(){return null}var Xh=typeof reportError=="function"?reportError:function(e){console.error(e)};function vc(e){this._internalRoot=e}Gi.prototype.render=vc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));Wi(e,r,null,null)},Gi.prototype.unmount=vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Nn(function(){Wi(null,e,null,null)}),r[_r]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var r=$u();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Kr.length&&r!==0&&r<Kr[a].priority;a++);Kr.splice(a,0,e),a===0&&Du(e)}};function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zh(){}function Zg(e,r,a,l,h){if(h){if(typeof l=="function"){var p=l;l=function(){var z=Ki(y);p.call(z)}}var y=Qh(r,l,e,0,null,!1,!1,"",Zh);return e._reactRootContainer=y,e[_r]=y.current,ra(e.nodeType===8?e.parentNode:e),Nn(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof l=="function"){var j=l;l=function(){var z=Ki(N);j.call(z)}}var N=mc(e,0,!1,null,null,!1,!1,"",Zh);return e._reactRootContainer=N,e[_r]=N.current,ra(e.nodeType===8?e.parentNode:e),Nn(function(){Wi(r,N,a,l)}),N}function Qi(e,r,a,l,h){var p=a._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var j=h;h=function(){var N=Ki(y);j.call(N)}}Wi(r,y,e,h)}else y=Zg(a,r,e,h,l);return Ki(y)}Ou=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var a=Fs(r.pendingLanes);a!==0&&(Bo(r,a|1),Nt(r,Ge()),(Ee&6)===0&&(fs=Ge()+500,Zr()))}break;case 13:Nn(function(){var l=Er(e,1);if(l!==null){var h=bt();nr(l,e,1,h)}}),gc(e,1)}},qo=function(e){if(e.tag===13){var r=Er(e,134217728);if(r!==null){var a=bt();nr(r,e,134217728,a)}gc(e,134217728)}},Iu=function(e){if(e.tag===13){var r=an(e),a=Er(e,r);if(a!==null){var l=bt();nr(a,e,r,l)}gc(e,r)}},$u=function(){return Ae},Lu=function(e,r){var a=Ae;try{return Ae=e,r()}finally{Ae=a}},Ds=function(e,r,a){switch(r){case"input":if(I(e,a),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var h=fi(l);if(!h)throw Error(s(90));$r(l),I(l,h)}}}break;case"textarea":qn(e,a);break;case"select":r=a.value,r!=null&&lt(e,!!a.multiple,r,!1)}},et=cc,mt=Nn;var ev={usingClientEntryPoint:!1,Events:[aa,es,fi,xe,Ke,cc]},xa={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tv={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Su(e),e===null?null:e.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||Xg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{Ga=Yi.inject(tv),cr=Yi}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ev,Ct.createPortal=function(e,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(r))throw Error(s(200));return Yg(e,r,null,a)},Ct.createRoot=function(e,r){if(!yc(e))throw Error(s(299));var a=!1,l="",h=Xh;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=mc(e,1,!1,null,null,a,!1,l,h),e[_r]=r.current,ra(e.nodeType===8?e.parentNode:e),new vc(r)},Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Su(r),e=e===null?null:e.stateNode,e},Ct.flushSync=function(e){return Nn(e)},Ct.hydrate=function(e,r,a){if(!Ji(r))throw Error(s(200));return Qi(null,e,r,!0,a)},Ct.hydrateRoot=function(e,r,a){if(!yc(e))throw Error(s(405));var l=a!=null&&a.hydratedSources||null,h=!1,p="",y=Xh;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),r=Qh(r,null,e,1,a??null,h,!1,p,y),e[_r]=r.current,ra(e),l)for(e=0;e<l.length;e++)a=l[e],h=a._getVersion,h=h(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,h]:r.mutableSourceEagerHydrationData.push(a,h);return new Gi(r)},Ct.render=function(e,r,a){if(!Ji(r))throw Error(s(200));return Qi(null,e,r,!1,a)},Ct.unmountComponentAtNode=function(e){if(!Ji(e))throw Error(s(40));return e._reactRootContainer?(Nn(function(){Qi(null,null,e,!1,function(){e._reactRootContainer=null,e[_r]=null})}),!0):!1},Ct.unstable_batchedUpdates=cc,Ct.unstable_renderSubtreeIntoContainer=function(e,r,a,l){if(!Ji(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Qi(e,r,a,!1,l)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var lf;function yp(){if(lf)return bc.exports;lf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bc.exports=lv(),bc.exports}var cf;function cv(){if(cf)return Xi;cf=1;var n=yp();return Xi.createRoot=n.createRoot,Xi.hydrateRoot=n.hydrateRoot,Xi}var uv=cv(),E=cu();const J=vp(E);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uf="popstate";function dv(n={}){function t(i,c){let{pathname:u,search:d,hash:f}=i.location;return Hc("",{pathname:u,search:d,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(i,c){return typeof c=="string"?c:Ra(c)}return fv(t,s,null,n)}function Me(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Gt(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hv(){return Math.random().toString(36).substring(2,10)}function df(n,t){return{usr:n.state,key:n.key,idx:t}}function Hc(n,t,s=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?As(t):t,state:s,key:t&&t.key||i||hv()}}function Ra({pathname:n="/",search:t="",hash:s=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function As(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substring(s),n=n.substring(0,s));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function fv(n,t,s,i={}){let{window:c=document.defaultView,v5Compat:u=!1}=i,d=c.history,f="POP",m=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function v(){f="POP";let S=x(),A=S==null?null:S-g;g=S,m&&m({action:f,location:T.location,delta:A})}function w(S,A){f="PUSH";let D=Hc(T.location,S,A);g=x()+1;let P=df(D,g),U=T.createHref(D);try{d.pushState(P,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;c.location.assign(U)}u&&m&&m({action:f,location:T.location,delta:1})}function _(S,A){f="REPLACE";let D=Hc(T.location,S,A);g=x();let P=df(D,g),U=T.createHref(D);d.replaceState(P,"",U),u&&m&&m({action:f,location:T.location,delta:0})}function b(S){return pv(S)}let T={get action(){return f},get location(){return n(c,d)},listen(S){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(uf,v),m=S,()=>{c.removeEventListener(uf,v),m=null}},createHref(S){return t(c,S)},createURL:b,encodeLocation(S){let A=b(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:_,go(S){return d.go(S)}};return T}function pv(n,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Me(s,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ra(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function xp(n,t,s="/"){return mv(n,t,s,!1)}function mv(n,t,s,i){let c=typeof t=="string"?As(t):t,u=Or(c.pathname||"/",s);if(u==null)return null;let d=wp(n);gv(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let g=Nv(u);f=Sv(d[m],g,i)}return f}function wp(n,t=[],s=[],i="",c=!1){let u=(d,f,m=c,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&m)return;Me(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let v=Ar([i,x.relativePath]),w=s.concat(x);d.children&&d.children.length>0&&(Me(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),wp(d.children,t,w,v,m)),!(d.path==null&&!d.index)&&t.push({path:v,score:kv(v,d.index),routesMeta:w})};return n.forEach((d,f)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))u(d,f);else for(let g of bp(d.path))u(d,f,!0,g)}),t}function bp(n){let t=n.split("/");if(t.length===0)return[];let[s,...i]=t,c=s.endsWith("?"),u=s.replace(/\?$/,"");if(i.length===0)return c?[u,""]:[u];let d=bp(i.join("/")),f=[];return f.push(...d.map(m=>m===""?u:[u,m].join("/"))),c&&f.push(...d),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function gv(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:jv(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var vv=/^:[\w-]+$/,yv=3,xv=2,wv=1,bv=10,_v=-2,hf=n=>n==="*";function kv(n,t){let s=n.split("/"),i=s.length;return s.some(hf)&&(i+=_v),t&&(i+=xv),s.filter(c=>!hf(c)).reduce((c,u)=>c+(vv.test(u)?yv:u===""?wv:bv),i)}function jv(n,t){return n.length===t.length&&n.slice(0,-1).every((i,c)=>i===t[c])?n[n.length-1]-t[t.length-1]:0}function Sv(n,t,s=!1){let{routesMeta:i}=n,c={},u="/",d=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,x=u==="/"?t:t.slice(u.length)||"/",v=wo({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),w=m.route;if(!v&&g&&s&&!i[i.length-1].route.index&&(v=wo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!v)return null;Object.assign(c,v.params),d.push({params:c,pathname:Ar([u,v.pathname]),pathnameBase:Tv(Ar([u,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(u=Ar([u,v.pathnameBase]))}return d}function wo(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,i]=Ev(n.path,n.caseSensitive,n.end),c=t.match(s);if(!c)return null;let u=c[0],d=u.replace(/(.)\/+$/,"$1"),f=c.slice(1);return{params:i.reduce((g,{paramName:x,isOptional:v},w)=>{if(x==="*"){let b=f[w]||"";d=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const _=f[w];return v&&!_?g[x]=void 0:g[x]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:n}}function Ev(n,t=!1,s=!0){Gt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),i]}function Nv(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Or(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=n.charAt(s);return i&&i!=="/"?null:n.slice(s)||"/"}var Cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Pv(n,t="/"){let{pathname:s,search:i="",hash:c=""}=typeof n=="string"?As(n):n,u;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?u=ff(s.substring(1),"/"):u=ff(s,t)):u=t,{pathname:u,search:Av(i),hash:Ov(c)}}function ff(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function jc(n,t,s,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rv(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function uu(n){let t=Rv(n);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function du(n,t,s,i=!1){let c;typeof n=="string"?c=As(n):(c={...n},Me(!c.pathname||!c.pathname.includes("?"),jc("?","pathname","search",c)),Me(!c.pathname||!c.pathname.includes("#"),jc("#","pathname","hash",c)),Me(!c.search||!c.search.includes("#"),jc("#","search","hash",c)));let u=n===""||c.pathname==="",d=u?"/":c.pathname,f;if(d==null)f=s;else{let v=t.length-1;if(!i&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),v-=1;c.pathname=w.join("/")}f=v>=0?t[v]:"/"}let m=Pv(c,f),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var Ar=n=>n.join("/").replace(/\/\/+/g,"/"),Tv=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Av=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ov=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Iv=class{constructor(n,t,s,i=!1){this.status=n,this.statusText=t||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function $v(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Lv(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kp(n,t){let s=n;if(typeof s!="string"||!Cv.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let i=s,c=!1;if(_p)try{let u=new URL(window.location.href),d=s.startsWith("//")?new URL(u.protocol+s):new URL(s),f=Or(d.pathname,t);d.origin===u.origin&&f!=null?s=f+d.search+d.hash:c=!0}catch{Gt(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:c,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jp=["POST","PUT","PATCH","DELETE"];new Set(jp);var zv=["GET",...jp];new Set(zv);var Os=E.createContext(null);Os.displayName="DataRouter";var Po=E.createContext(null);Po.displayName="DataRouterState";var Dv=E.createContext(!1),Sp=E.createContext({isTransitioning:!1});Sp.displayName="ViewTransition";var Uv=E.createContext(new Map);Uv.displayName="Fetchers";var Mv=E.createContext(null);Mv.displayName="Await";var Dt=E.createContext(null);Dt.displayName="Navigation";var Ma=E.createContext(null);Ma.displayName="Location";var or=E.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var hu=E.createContext(null);hu.displayName="RouteError";var Ep="REACT_ROUTER_ERROR",Fv="REDIRECT",Bv="ROUTE_ERROR_RESPONSE";function qv(n){if(n.startsWith(`${Ep}:${Fv}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Vv(n){if(n.startsWith(`${Ep}:${Bv}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Iv(t.status,t.statusText,t.data)}catch{}}function Hv(n,{relative:t}={}){Me(Is(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=E.useContext(Dt),{hash:c,pathname:u,search:d}=Fa(n,{relative:t}),f=u;return s!=="/"&&(f=u==="/"?s:Ar([s,u])),i.createHref({pathname:f,search:d,hash:c})}function Is(){return E.useContext(Ma)!=null}function lr(){return Me(Is(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ma).location}var Np="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cp(n){E.useContext(Dt).static||E.useLayoutEffect(n)}function Rt(){let{isDataRoute:n}=E.useContext(or);return n?sy():Wv()}function Wv(){Me(Is(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(Os),{basename:t,navigator:s}=E.useContext(Dt),{matches:i}=E.useContext(or),{pathname:c}=lr(),u=JSON.stringify(uu(i)),d=E.useRef(!1);return Cp(()=>{d.current=!0}),E.useCallback((m,g={})=>{if(Gt(d.current,Np),!d.current)return;if(typeof m=="number"){s.go(m);return}let x=du(m,JSON.parse(u),c,g.relative==="path");n==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Ar([t,x.pathname])),(g.replace?s.replace:s.push)(x,g.state,g)},[t,s,u,c,n])}E.createContext(null);function Pp(){let{matches:n}=E.useContext(or),t=n[n.length-1];return t?t.params:{}}function Fa(n,{relative:t}={}){let{matches:s}=E.useContext(or),{pathname:i}=lr(),c=JSON.stringify(uu(s));return E.useMemo(()=>du(n,JSON.parse(c),i,t==="path"),[n,c,i,t])}function Kv(n,t){return Rp(n,t)}function Rp(n,t,s,i,c){var D;Me(Is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=E.useContext(Dt),{matches:d}=E.useContext(or),f=d[d.length-1],m=f?f.params:{},g=f?f.pathname:"/",x=f?f.pathnameBase:"/",v=f&&f.route;{let P=v&&v.path||"";Ap(g,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=lr(),_;if(t){let P=typeof t=="string"?As(t):t;Me(x==="/"||((D=P.pathname)==null?void 0:D.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=w;let b=_.pathname||"/",T=b;if(x!=="/"){let P=x.replace(/^\//,"").split("/");T="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=xp(n,{pathname:T});Gt(v||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Gt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Xv(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Ar([x,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?x:Ar([x,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),d,s,i,c);return t&&A?E.createElement(Ma.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},A):A}function Gv(){let n=ny(),t=$v(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:u},"ErrorBoundary")," or"," ",E.createElement("code",{style:u},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),s?E.createElement("pre",{style:c},s):null,d)}var Jv=E.createElement(Gv,null),Tp=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=Vv(n.digest);s&&(n=s)}let t=n!==void 0?E.createElement(or.Provider,{value:this.props.routeContext},E.createElement(hu.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?E.createElement(Qv,{error:n},t):t}};Tp.contextType=Dv;var Sc=new WeakMap;function Qv({children:n,error:t}){let{basename:s}=E.useContext(Dt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=qv(t.digest);if(i){let c=Sc.get(t);if(c)throw c;let u=kp(i.location,s);if(_p&&!Sc.get(t))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw Sc.set(t,d),d}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function Yv({routeContext:n,match:t,children:s}){let i=E.useContext(Os);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(or.Provider,{value:n},s)}function Xv(n,t=[],s=null,i=null,c=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let u=n,d=s==null?void 0:s.errors;if(d!=null){let x=u.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);Me(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let f=!1,m=-1;if(s)for(let x=0;x<u.length;x++){let v=u[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=x),v.route.id){let{loaderData:w,errors:_}=s,b=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||b){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let g=s&&i?(x,v)=>{var w,_;i(x,{location:s.location,params:((_=(w=s.matches)==null?void 0:w[0])==null?void 0:_.params)??{},unstable_pattern:Lv(s.matches),errorInfo:v})}:void 0;return u.reduceRight((x,v,w)=>{let _,b=!1,T=null,S=null;s&&(_=d&&v.route.id?d[v.route.id]:void 0,T=v.route.errorElement||Jv,f&&(m<0&&w===0?(Ap("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):m===w&&(b=!0,S=v.route.hydrateFallbackElement||null)));let A=t.concat(u.slice(0,w+1)),D=()=>{let P;return _?P=T:b?P=S:v.route.Component?P=E.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=x,E.createElement(Yv,{match:v,routeContext:{outlet:x,matches:A,isDataRoute:s!=null},children:P})};return s&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?E.createElement(Tp,{location:s.location,revalidation:s.revalidation,component:T,error:_,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:g}):D()},null)}function fu(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zv(n){let t=E.useContext(Os);return Me(t,fu(n)),t}function ey(n){let t=E.useContext(Po);return Me(t,fu(n)),t}function ty(n){let t=E.useContext(or);return Me(t,fu(n)),t}function pu(n){let t=ty(n),s=t.matches[t.matches.length-1];return Me(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function ry(){return pu("useRouteId")}function ny(){var i;let n=E.useContext(hu),t=ey("useRouteError"),s=pu("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[s]}function sy(){let{router:n}=Zv("useNavigate"),t=pu("useNavigate"),s=E.useRef(!1);return Cp(()=>{s.current=!0}),E.useCallback(async(c,u={})=>{Gt(s.current,Np),s.current&&(typeof c=="number"?await n.navigate(c):await n.navigate(c,{fromRouteId:t,...u}))},[n,t])}var pf={};function Ap(n,t,s){!t&&!pf[n]&&(pf[n]=!0,Gt(!1,s))}E.memo(ay);function ay({routes:n,future:t,state:s,onError:i}){return Rp(n,void 0,s,i,t)}function gn({to:n,replace:t,state:s,relative:i}){Me(Is(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=E.useContext(Dt);Gt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=E.useContext(or),{pathname:d}=lr(),f=Rt(),m=du(n,uu(u),d,i==="path"),g=JSON.stringify(m);return E.useEffect(()=>{f(JSON.parse(g),{replace:t,state:s,relative:i})},[f,g,i,t,s]),null}function Ce(n){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iy({basename:n="/",children:t=null,location:s,navigationType:i="POP",navigator:c,static:u=!1,unstable_useTransitions:d}){Me(!Is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=E.useMemo(()=>({basename:f,navigator:c,static:u,unstable_useTransitions:d,future:{}}),[f,c,u,d]);typeof s=="string"&&(s=As(s));let{pathname:g="/",search:x="",hash:v="",state:w=null,key:_="default"}=s,b=E.useMemo(()=>{let T=Or(g,f);return T==null?null:{location:{pathname:T,search:x,hash:v,state:w,key:_},navigationType:i}},[f,g,x,v,w,_,i]);return Gt(b!=null,`<Router basename="${f}"> is not able to match the URL "${g}${x}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(Dt.Provider,{value:m},E.createElement(Ma.Provider,{children:t,value:b}))}function oy({children:n,location:t}){return Kv(Wc(n),t)}function Wc(n,t=[]){let s=[];return E.Children.forEach(n,(i,c)=>{if(!E.isValidElement(i))return;let u=[...t,c];if(i.type===E.Fragment){s.push.apply(s,Wc(i.props.children,u));return}Me(i.type===Ce,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Wc(i.props.children,u)),s.push(d)}),s}var vo="get",yo="application/x-www-form-urlencoded";function Ro(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ly(n){return Ro(n)&&n.tagName.toLowerCase()==="button"}function cy(n){return Ro(n)&&n.tagName.toLowerCase()==="form"}function uy(n){return Ro(n)&&n.tagName.toLowerCase()==="input"}function dy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hy(n,t){return n.button===0&&(!t||t==="_self")&&!dy(n)}function Kc(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,s)=>{let i=n[s];return t.concat(Array.isArray(i)?i.map(c=>[s,c]):[[s,i]])},[]))}function fy(n,t){let s=Kc(n);return t&&t.forEach((i,c)=>{s.has(c)||t.getAll(c).forEach(u=>{s.append(c,u)})}),s}var Zi=null;function py(){if(Zi===null)try{new FormData(document.createElement("form"),0),Zi=!1}catch{Zi=!0}return Zi}var my=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ec(n){return n!=null&&!my.has(n)?(Gt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yo}"`),null):n}function gy(n,t){let s,i,c,u,d;if(cy(n)){let f=n.getAttribute("action");i=f?Or(f,t):null,s=n.getAttribute("method")||vo,c=Ec(n.getAttribute("enctype"))||yo,u=new FormData(n)}else if(ly(n)||uy(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?Or(m,t):null,s=n.getAttribute("formmethod")||f.getAttribute("method")||vo,c=Ec(n.getAttribute("formenctype"))||Ec(f.getAttribute("enctype"))||yo,u=new FormData(f,n),!py()){let{name:g,type:x,value:v}=n;if(x==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,v)}}else{if(Ro(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=vo,i=null,c=yo,d=n}return u&&c==="text/plain"&&(d=u,u=void 0),{action:i,method:s.toLowerCase(),encType:c,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mu(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function vy(n,t,s,i){let c=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${i}`:c.pathname=`${c.pathname}.${i}`:c.pathname==="/"?c.pathname=`_root.${i}`:t&&Or(c.pathname,t)==="/"?c.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function yy(n,t){if(n.id in t)return t[n.id];try{let s=await import(n.module);return t[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xy(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wy(n,t,s){let i=await Promise.all(n.map(async c=>{let u=t.routes[c.route.id];if(u){let d=await yy(u,s);return d.links?d.links():[]}return[]}));return jy(i.flat(1).filter(xy).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function mf(n,t,s,i,c,u){let d=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,f=(m,g)=>{var x;return s[g].pathname!==m.pathname||((x=s[g].route.path)==null?void 0:x.endsWith("*"))&&s[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>d(m,g)||f(m,g)):u==="data"?t.filter((m,g)=>{var v;let x=i.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(d(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((v=s[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function by(n,t,{includeHydrateFallback:s}={}){return _y(n.map(i=>{let c=t.routes[i.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function _y(n){return[...new Set(n)]}function ky(n){let t={},s=Object.keys(n).sort();for(let i of s)t[i]=n[i];return t}function jy(n,t){let s=new Set;return new Set(t),n.reduce((i,c)=>{let u=JSON.stringify(ky(c));return s.has(u)||(s.add(u),i.push({key:u,link:c})),i},[])}function Op(){let n=E.useContext(Os);return mu(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Sy(){let n=E.useContext(Po);return mu(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var gu=E.createContext(void 0);gu.displayName="FrameworkContext";function Ip(){let n=E.useContext(gu);return mu(n,"You must render this element inside a <HydratedRouter> element"),n}function Ey(n,t){let s=E.useContext(gu),[i,c]=E.useState(!1),[u,d]=E.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:v}=t,w=E.useRef(null);E.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let T=A=>{A.forEach(D=>{d(D.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[n]),E.useEffect(()=>{if(i){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[i]);let _=()=>{c(!0)},b=()=>{c(!1),d(!1)};return s?n!=="intent"?[u,w,{}]:[u,w,{onFocus:ba(f,_),onBlur:ba(m,b),onMouseEnter:ba(g,_),onMouseLeave:ba(x,b),onTouchStart:ba(v,_)}]:[!1,w,{}]}function ba(n,t){return s=>{n&&n(s),s.defaultPrevented||t(s)}}function Ny({page:n,...t}){let{router:s}=Op(),i=E.useMemo(()=>xp(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?E.createElement(Py,{page:n,matches:i,...t}):null}function Cy(n){let{manifest:t,routeModules:s}=Ip(),[i,c]=E.useState([]);return E.useEffect(()=>{let u=!1;return wy(n,t,s).then(d=>{u||c(d)}),()=>{u=!0}},[n,t,s]),i}function Py({page:n,matches:t,...s}){let i=lr(),{future:c,manifest:u,routeModules:d}=Ip(),{basename:f}=Op(),{loaderData:m,matches:g}=Sy(),x=E.useMemo(()=>mf(n,t,g,u,i,"data"),[n,t,g,u,i]),v=E.useMemo(()=>mf(n,t,g,u,i,"assets"),[n,t,g,u,i]),w=E.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,S=!1;if(t.forEach(D=>{var U;let P=u.routes[D.route.id];!P||!P.hasLoader||(!x.some(H=>H.route.id===D.route.id)&&D.route.id in m&&((U=d[D.route.id])!=null&&U.shouldRevalidate)||P.hasClientLoader?S=!0:T.add(D.route.id))}),T.size===0)return[];let A=vy(n,f,c.unstable_trailingSlashAwareDataRequests,"data");return S&&T.size>0&&A.searchParams.set("_routes",t.filter(D=>T.has(D.route.id)).map(D=>D.route.id).join(",")),[A.pathname+A.search]},[f,c.unstable_trailingSlashAwareDataRequests,m,i,u,x,t,n,d]),_=E.useMemo(()=>by(v,u),[v,u]),b=Cy(v);return E.createElement(E.Fragment,null,w.map(T=>E.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...s})),_.map(T=>E.createElement("link",{key:T,rel:"modulepreload",href:T,...s})),b.map(({key:T,link:S})=>E.createElement("link",{key:T,nonce:s.nonce,...S,crossOrigin:S.crossOrigin??s.crossOrigin})))}function Ry(...n){return t=>{n.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var Ty=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ty&&(window.__reactRouterVersion="7.13.0")}catch{}function Ay({basename:n,children:t,unstable_useTransitions:s,window:i}){let c=E.useRef();c.current==null&&(c.current=dv({window:i,v5Compat:!0}));let u=c.current,[d,f]=E.useState({action:u.action,location:u.location}),m=E.useCallback(g=>{s===!1?f(g):E.startTransition(()=>f(g))},[s]);return E.useLayoutEffect(()=>u.listen(m),[u,m]),E.createElement(iy,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:s})}var $p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=E.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:c,reloadDocument:u,replace:d,state:f,target:m,to:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:w,..._},b){let{basename:T,unstable_useTransitions:S}=E.useContext(Dt),A=typeof g=="string"&&$p.test(g),D=kp(g,T);g=D.to;let P=Hv(g,{relative:c}),[U,H,O]=Ey(i,_),M=Ly(g,{replace:d,state:f,target:m,preventScrollReset:x,relative:c,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:S});function se(ke){t&&t(ke),ke.defaultPrevented||M(ke)}let ae=E.createElement("a",{..._,...O,href:D.absoluteURL||P,onClick:D.isExternal||u?t:se,ref:Ry(b,H),target:m,"data-discover":!A&&s==="render"?"true":void 0});return U&&!A?E.createElement(E.Fragment,null,ae,E.createElement(Ny,{page:P})):ae});_e.displayName="Link";var Oy=E.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:c=!1,style:u,to:d,viewTransition:f,children:m,...g},x){let v=Fa(d,{relative:g.relative}),w=lr(),_=E.useContext(Po),{navigator:b,basename:T}=E.useContext(Dt),S=_!=null&&Fy(v)&&f===!0,A=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,D=w.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(D=D.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&T&&(P=Or(P,T)||P);const U=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=D===A||!c&&D.startsWith(A)&&D.charAt(U)==="/",O=P!=null&&(P===A||!c&&P.startsWith(A)&&P.charAt(A.length)==="/"),M={isActive:H,isPending:O,isTransitioning:S},se=H?t:void 0,ae;typeof i=="function"?ae=i(M):ae=[i,H?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ke=typeof u=="function"?u(M):u;return E.createElement(_e,{...g,"aria-current":se,className:ae,ref:x,style:ke,to:d,viewTransition:f},typeof m=="function"?m(M):m)});Oy.displayName="NavLink";var Iy=E.forwardRef(({discover:n="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:c,state:u,method:d=vo,action:f,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:w,..._},b)=>{let{unstable_useTransitions:T}=E.useContext(Dt),S=Uy(),A=My(f,{relative:g}),D=d.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&$p.test(f),U=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let O=H.nativeEvent.submitter,M=(O==null?void 0:O.getAttribute("formmethod"))||d,se=()=>S(O||H.currentTarget,{fetcherKey:t,method:M,navigate:s,replace:c,state:u,relative:g,preventScrollReset:x,viewTransition:v,unstable_defaultShouldRevalidate:w});T&&s!==!1?E.startTransition(()=>se()):se()};return E.createElement("form",{ref:b,method:D,action:A,onSubmit:i?m:U,..._,"data-discover":!P&&n==="render"?"true":void 0})});Iy.displayName="Form";function $y(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lp(n){let t=E.useContext(Os);return Me(t,$y(n)),t}function Ly(n,{target:t,replace:s,state:i,preventScrollReset:c,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let g=Rt(),x=lr(),v=Fa(n,{relative:u});return E.useCallback(w=>{if(hy(w,t)){w.preventDefault();let _=s!==void 0?s:Ra(x)===Ra(v),b=()=>g(n,{replace:_,state:i,preventScrollReset:c,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f});m?E.startTransition(()=>b()):b()}},[x,g,v,s,i,t,n,c,u,d,f,m])}function zp(n){Gt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(Kc(n)),s=E.useRef(!1),i=lr(),c=E.useMemo(()=>fy(i.search,s.current?null:t.current),[i.search]),u=Rt(),d=E.useCallback((f,m)=>{const g=Kc(typeof f=="function"?f(new URLSearchParams(c)):f);s.current=!0,u("?"+g,m)},[u,c]);return[c,d]}var zy=0,Dy=()=>`__${String(++zy)}__`;function Uy(){let{router:n}=Lp("useSubmit"),{basename:t}=E.useContext(Dt),s=ry(),i=n.fetch,c=n.navigate;return E.useCallback(async(u,d={})=>{let{action:f,method:m,encType:g,formData:x,body:v}=gy(u,t);if(d.navigate===!1){let w=d.fetcherKey||Dy();await i(w,s,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:v,formMethod:d.method||m,formEncType:d.encType||g,flushSync:d.flushSync})}else await c(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:v,formMethod:d.method||m,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,c,t,s])}function My(n,{relative:t}={}){let{basename:s}=E.useContext(Dt),i=E.useContext(or);Me(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),u={...Fa(n||".",{relative:t})},d=lr();if(n==null){u.search=d.search;let f=new URLSearchParams(u.search),m=f.getAll("index");if(m.some(x=>x==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let x=f.toString();u.search=x?`?${x}`:""}}return(!n||n===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Ar([s,u.pathname])),Ra(u)}function Fy(n,{relative:t}={}){let s=E.useContext(Sp);Me(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Lp("useViewTransitionState"),c=Fa(n,{relative:t});if(!s.isTransitioning)return!1;let u=Or(s.currentLocation.pathname,i)||s.currentLocation.pathname,d=Or(s.nextLocation.pathname,i)||s.nextLocation.pathname;return wo(c.pathname,d)!=null||wo(c.pathname,u)!=null}var By=yp();const qy=vp(By);function Vy(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}const Hy=n=>{switch(n){case"success":return Gy;case"info":return Qy;case"warning":return Jy;case"error":return Yy;default:return null}},Wy=Array(12).fill(0),Ky=({visible:n,className:t})=>J.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},J.createElement("div",{className:"sonner-spinner"},Wy.map((s,i)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Gy=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Jy=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Qy=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yy=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xy=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Zy=()=>{const[n,t]=J.useState(document.hidden);return J.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),n};let Gc=1;class e0{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:i,...c}=t,u=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:Gc++,d=this.toasts.find(m=>m.id===u),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(m=>m.id===u?(this.publish({...m,...t,id:u,title:i}),{...m,...t,id:u,dismissible:f,title:i}):m):this.addToast({title:i,...c,dismissible:f,id:u}),u},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const c=Promise.resolve(t instanceof Function?t():t);let u=i!==void 0,d;const f=c.then(async g=>{if(d=["resolve",g],J.isValidElement(g))u=!1,this.create({id:i,type:"default",message:g});else if(r0(g)&&!g.ok){u=!1;const v=typeof s.error=="function"?await s.error(`HTTP error! status: ${g.status}`):s.error,w=typeof s.description=="function"?await s.description(`HTTP error! status: ${g.status}`):s.description,b=typeof v=="object"&&!J.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:w,...b})}else if(g instanceof Error){u=!1;const v=typeof s.error=="function"?await s.error(g):s.error,w=typeof s.description=="function"?await s.description(g):s.description,b=typeof v=="object"&&!J.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:w,...b})}else if(s.success!==void 0){u=!1;const v=typeof s.success=="function"?await s.success(g):s.success,w=typeof s.description=="function"?await s.description(g):s.description,b=typeof v=="object"&&!J.isValidElement(v)?v:{message:v};this.create({id:i,type:"success",description:w,...b})}}).catch(async g=>{if(d=["reject",g],s.error!==void 0){u=!1;const x=typeof s.error=="function"?await s.error(g):s.error,v=typeof s.description=="function"?await s.description(g):s.description,_=typeof x=="object"&&!J.isValidElement(x)?x:{message:x};this.create({id:i,type:"error",description:v,..._})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),s.finally==null||s.finally.call(s)}),m=()=>new Promise((g,x)=>f.then(()=>d[0]==="reject"?x(d[1]):g(d[1])).catch(x));return typeof i!="string"&&typeof i!="number"?{unwrap:m}:Object.assign(i,{unwrap:m})},this.custom=(t,s)=>{const i=(s==null?void 0:s.id)||Gc++;return this.create({jsx:t(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Pt=new e0,t0=(n,t)=>{const s=(t==null?void 0:t.id)||Gc++;return Pt.addToast({title:n,...t,id:s}),s},r0=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",n0=t0,s0=()=>Pt.toasts,a0=()=>Pt.getActiveToasts(),eo=Object.assign(n0,{success:Pt.success,info:Pt.info,warning:Pt.warning,error:Pt.error,custom:Pt.custom,message:Pt.message,promise:Pt.promise,dismiss:Pt.dismiss,loading:Pt.loading},{getHistory:s0,getToasts:a0});Vy("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function to(n){return n.label!==void 0}const i0=3,o0="24px",l0="16px",gf=4e3,c0=356,u0=14,d0=45,h0=200;function pr(...n){return n.filter(Boolean).join(" ")}function f0(n){const[t,s]=n.split("-"),i=[];return t&&i.push(t),s&&i.push(s),i}const p0=n=>{var t,s,i,c,u,d,f,m,g;const{invert:x,toast:v,unstyled:w,interacting:_,setHeights:b,visibleToasts:T,heights:S,index:A,toasts:D,expanded:P,removeToast:U,defaultRichColors:H,closeButton:O,style:M,cancelButtonStyle:se,actionButtonStyle:ae,className:ke="",descriptionClassName:Se="",duration:Pe,position:Re,gap:ee,expandByDefault:ie,classNames:re,icons:ue,closeButtonAriaLabel:F="Close toast"}=n,[G,Q]=J.useState(null),[C,k]=J.useState(null),[W,X]=J.useState(!1),[me,ce]=J.useState(!1),[je,ye]=J.useState(!1),[be,We]=J.useState(!1),[yr,$r]=J.useState(!1),[Lr,Jt]=J.useState(0),[Bn,zr]=J.useState(0),I=J.useRef(v.duration||Pe||gf),Qe=J.useRef(null),Te=J.useRef(null),$e=A===0,lt=A+1<=T,De=v.type,_t=v.dismissible!==!1,qn=v.className||"",Vn=v.descriptionClassName||"",xr=J.useMemo(()=>S.findIndex(xe=>xe.toastId===v.id)||0,[S,v.id]),wr=J.useMemo(()=>{var xe;return(xe=v.closeButton)!=null?xe:O},[v.closeButton,O]),Qt=J.useMemo(()=>v.duration||Pe||gf,[v.duration,Pe]),Hn=J.useRef(0),Ut=J.useRef(0),Dr=J.useRef(0),Ur=J.useRef(null),[Va,Ha]=Re.split("-"),Wa=J.useMemo(()=>S.reduce((xe,Ke,et)=>et>=xr?xe:xe+Ke.height,0),[S,xr]),Wn=Zy(),zs=v.invert||x,vn=De==="loading";Ut.current=J.useMemo(()=>xr*ee+Wa,[xr,Wa]),J.useEffect(()=>{I.current=Qt},[Qt]),J.useEffect(()=>{X(!0)},[]),J.useEffect(()=>{const xe=Te.current;if(xe){const Ke=xe.getBoundingClientRect().height;return zr(Ke),b(et=>[{toastId:v.id,height:Ke,position:v.position},...et]),()=>b(et=>et.filter(mt=>mt.toastId!==v.id))}},[b,v.id]),J.useLayoutEffect(()=>{if(!W)return;const xe=Te.current,Ke=xe.style.height;xe.style.height="auto";const et=xe.getBoundingClientRect().height;xe.style.height=Ke,zr(et),b(mt=>mt.find(Ye=>Ye.toastId===v.id)?mt.map(Ye=>Ye.toastId===v.id?{...Ye,height:et}:Ye):[{toastId:v.id,height:et,position:v.position},...mt])},[W,v.title,v.description,b,v.id]);const Mt=J.useCallback(()=>{ce(!0),Jt(Ut.current),b(xe=>xe.filter(Ke=>Ke.toastId!==v.id)),setTimeout(()=>{U(v)},h0)},[v,U,b,Ut]);J.useEffect(()=>{if(v.promise&&De==="loading"||v.duration===1/0||v.type==="loading")return;let xe;return P||_||Wn?(()=>{if(Dr.current<Hn.current){const mt=new Date().getTime()-Hn.current;I.current=I.current-mt}Dr.current=new Date().getTime()})():(()=>{I.current!==1/0&&(Hn.current=new Date().getTime(),xe=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Mt()},I.current))})(),()=>clearTimeout(xe)},[P,_,v,De,Wn,Mt]),J.useEffect(()=>{v.delete&&Mt()},[Mt,v.delete]);function Ds(){var xe;if(ue!=null&&ue.loading){var Ke;return J.createElement("div",{className:pr(re==null?void 0:re.loader,v==null||(Ke=v.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":De==="loading"},ue.loading)}return J.createElement(Ky,{className:pr(re==null?void 0:re.loader,v==null||(xe=v.classNames)==null?void 0:xe.loader),visible:De==="loading"})}const Mr=v.icon||(ue==null?void 0:ue[De])||Hy(De);var br,Us;return J.createElement("li",{tabIndex:0,ref:Te,className:pr(ke,qn,re==null?void 0:re.toast,v==null||(t=v.classNames)==null?void 0:t.toast,re==null?void 0:re.default,re==null?void 0:re[De],v==null||(s=v.classNames)==null?void 0:s[De]),"data-sonner-toast":"","data-rich-colors":(br=v.richColors)!=null?br:H,"data-styled":!(v.jsx||v.unstyled||w),"data-mounted":W,"data-promise":!!v.promise,"data-swiped":yr,"data-removed":me,"data-visible":lt,"data-y-position":Va,"data-x-position":Ha,"data-index":A,"data-front":$e,"data-swiping":je,"data-dismissible":_t,"data-type":De,"data-invert":zs,"data-swipe-out":be,"data-swipe-direction":C,"data-expanded":!!(P||ie&&W),style:{"--index":A,"--toasts-before":A,"--z-index":D.length-A,"--offset":`${me?Lr:Ut.current}px`,"--initial-height":ie?"auto":`${Bn}px`,...M,...v.style},onDragEnd:()=>{ye(!1),Q(null),Ur.current=null},onPointerDown:xe=>{vn||!_t||(Qe.current=new Date,Jt(Ut.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(ye(!0),Ur.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Ke,et;if(be||!_t)return;Ur.current=null;const mt=Number(((xe=Te.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fr=Number(((Ke=Te.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ye=new Date().getTime()-((et=Qe.current)==null?void 0:et.getTime()),st=G==="x"?mt:Fr,Br=Math.abs(st)/Ye;if(Math.abs(st)>=d0||Br>.11){Jt(Ut.current),v.onDismiss==null||v.onDismiss.call(v,v),k(G==="x"?mt>0?"right":"left":Fr>0?"down":"up"),Mt(),We(!0);return}else{var ct,Tt;(ct=Te.current)==null||ct.style.setProperty("--swipe-amount-x","0px"),(Tt=Te.current)==null||Tt.style.setProperty("--swipe-amount-y","0px")}$r(!1),ye(!1),Q(null)},onPointerMove:xe=>{var Ke,et,mt;if(!Ur.current||!_t||((Ke=window.getSelection())==null?void 0:Ke.toString().length)>0)return;const Ye=xe.clientY-Ur.current.y,st=xe.clientX-Ur.current.x;var Br;const ct=(Br=n.swipeDirections)!=null?Br:f0(Re);!G&&(Math.abs(st)>1||Math.abs(Ye)>1)&&Q(Math.abs(st)>Math.abs(Ye)?"x":"y");let Tt={x:0,y:0};const qr=Ft=>1/(1.5+Math.abs(Ft)/20);if(G==="y"){if(ct.includes("top")||ct.includes("bottom"))if(ct.includes("top")&&Ye<0||ct.includes("bottom")&&Ye>0)Tt.y=Ye;else{const Ft=Ye*qr(Ye);Tt.y=Math.abs(Ft)<Math.abs(Ye)?Ft:Ye}}else if(G==="x"&&(ct.includes("left")||ct.includes("right")))if(ct.includes("left")&&st<0||ct.includes("right")&&st>0)Tt.x=st;else{const Ft=st*qr(st);Tt.x=Math.abs(Ft)<Math.abs(st)?Ft:st}(Math.abs(Tt.x)>0||Math.abs(Tt.y)>0)&&$r(!0),(et=Te.current)==null||et.style.setProperty("--swipe-amount-x",`${Tt.x}px`),(mt=Te.current)==null||mt.style.setProperty("--swipe-amount-y",`${Tt.y}px`)}},wr&&!v.jsx&&De!=="loading"?J.createElement("button",{"aria-label":F,"data-disabled":vn,"data-close-button":!0,onClick:vn||!_t?()=>{}:()=>{Mt(),v.onDismiss==null||v.onDismiss.call(v,v)},className:pr(re==null?void 0:re.closeButton,v==null||(i=v.classNames)==null?void 0:i.closeButton)},(Us=ue==null?void 0:ue.close)!=null?Us:Xy):null,(De||v.icon||v.promise)&&v.icon!==null&&((ue==null?void 0:ue[De])!==null||v.icon)?J.createElement("div",{"data-icon":"",className:pr(re==null?void 0:re.icon,v==null||(c=v.classNames)==null?void 0:c.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Ds():null,v.type!=="loading"?Mr:null):null,J.createElement("div",{"data-content":"",className:pr(re==null?void 0:re.content,v==null||(u=v.classNames)==null?void 0:u.content)},J.createElement("div",{"data-title":"",className:pr(re==null?void 0:re.title,v==null||(d=v.classNames)==null?void 0:d.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?J.createElement("div",{"data-description":"",className:pr(Se,Vn,re==null?void 0:re.description,v==null||(f=v.classNames)==null?void 0:f.description)},typeof v.description=="function"?v.description():v.description):null),J.isValidElement(v.cancel)?v.cancel:v.cancel&&to(v.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||se,onClick:xe=>{to(v.cancel)&&_t&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,xe),Mt())},className:pr(re==null?void 0:re.cancelButton,v==null||(m=v.classNames)==null?void 0:m.cancelButton)},v.cancel.label):null,J.isValidElement(v.action)?v.action:v.action&&to(v.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||ae,onClick:xe=>{to(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,xe),!xe.defaultPrevented&&Mt())},className:pr(re==null?void 0:re.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function vf(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function m0(n,t){const s={};return[n,t].forEach((i,c)=>{const u=c===1,d=u?"--mobile-offset":"--offset",f=u?l0:o0;function m(g){["top","right","bottom","left"].forEach(x=>{s[`${d}-${x}`]=typeof g=="number"?`${g}px`:g})}typeof i=="number"||typeof i=="string"?m(i):typeof i=="object"?["top","right","bottom","left"].forEach(g=>{i[g]===void 0?s[`${d}-${g}`]=f:s[`${d}-${g}`]=typeof i[g]=="number"?`${i[g]}px`:i[g]}):m(f)}),s}const g0=J.forwardRef(function(t,s){const{invert:i,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:f,className:m,offset:g,mobileOffset:x,theme:v="light",richColors:w,duration:_,style:b,visibleToasts:T=i0,toastOptions:S,dir:A=vf(),gap:D=u0,icons:P,containerAriaLabel:U="Notifications"}=t,[H,O]=J.useState([]),M=J.useMemo(()=>Array.from(new Set([c].concat(H.filter(C=>C.position).map(C=>C.position)))),[H,c]),[se,ae]=J.useState([]),[ke,Se]=J.useState(!1),[Pe,Re]=J.useState(!1),[ee,ie]=J.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=J.useRef(null),ue=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=J.useRef(null),G=J.useRef(!1),Q=J.useCallback(C=>{O(k=>{var W;return(W=k.find(X=>X.id===C.id))!=null&&W.delete||Pt.dismiss(C.id),k.filter(({id:X})=>X!==C.id)})},[]);return J.useEffect(()=>Pt.subscribe(C=>{if(C.dismiss){requestAnimationFrame(()=>{O(k=>k.map(W=>W.id===C.id?{...W,delete:!0}:W))});return}setTimeout(()=>{qy.flushSync(()=>{O(k=>{const W=k.findIndex(X=>X.id===C.id);return W!==-1?[...k.slice(0,W),{...k[W],...C},...k.slice(W+1)]:[C,...k]})})})}),[H]),J.useEffect(()=>{if(v!=="system"){ie(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;const C=window.matchMedia("(prefers-color-scheme: dark)");try{C.addEventListener("change",({matches:k})=>{ie(k?"dark":"light")})}catch{C.addListener(({matches:W})=>{try{ie(W?"dark":"light")}catch(X){console.error(X)}})}},[v]),J.useEffect(()=>{H.length<=1&&Se(!1)},[H]),J.useEffect(()=>{const C=k=>{var W;if(u.every(ce=>k[ce]||k.code===ce)){var me;Se(!0),(me=re.current)==null||me.focus()}k.code==="Escape"&&(document.activeElement===re.current||(W=re.current)!=null&&W.contains(document.activeElement))&&Se(!1)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[u]),J.useEffect(()=>{if(re.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,G.current=!1)}},[re.current]),J.createElement("section",{ref:s,"aria-label":`${U} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((C,k)=>{var W;const[X,me]=C.split("-");return H.length?J.createElement("ol",{key:C,dir:A==="auto"?vf():A,tabIndex:-1,ref:re,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ee,"data-y-position":X,"data-lifted":ke&&H.length>1&&!d,"data-x-position":me,style:{"--front-toast-height":`${((W=se[0])==null?void 0:W.height)||0}px`,"--width":`${c0}px`,"--gap":`${D}px`,...b,...m0(g,x)},onBlur:ce=>{G.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(G.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||G.current||(G.current=!0,F.current=ce.relatedTarget)},onMouseEnter:()=>Se(!0),onMouseMove:()=>Se(!0),onMouseLeave:()=>{Pe||Se(!1)},onDragEnd:()=>Se(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||Re(!0)},onPointerUp:()=>Re(!1)},H.filter(ce=>!ce.position&&k===0||ce.position===C).map((ce,je)=>{var ye,be;return J.createElement(p0,{key:ce.id,icons:P,index:je,toast:ce,defaultRichColors:w,duration:(ye=S==null?void 0:S.duration)!=null?ye:_,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:i,visibleToasts:T,closeButton:(be=S==null?void 0:S.closeButton)!=null?be:f,interacting:Pe,position:C,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:Q,toasts:H.filter(We=>We.position==ce.position),heights:se.filter(We=>We.position==ce.position),setHeights:ae,expandByDefault:d,gap:D,expanded:ke,swipeDirections:t.swipeDirections})})):null}))});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y0=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,i)=>i?i.toUpperCase():s.toLowerCase()),yf=n=>{const t=y0(n);return t.charAt(0).toUpperCase()+t.slice(1)},Dp=(...n)=>n.filter((t,s,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=E.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:d,...f},m)=>E.createElement("svg",{ref:m,...x0,width:t,height:t,stroke:n,strokeWidth:i?Number(s)*24/Number(t):s,className:Dp("lucide",c),...f},[...d.map(([g,x])=>E.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(n,t)=>{const s=E.forwardRef(({className:i,...c},u)=>E.createElement(w0,{ref:u,iconNode:t,className:Dp(`lucide-${v0(yf(n))}`,`lucide-${n}`,i),...c}));return s.displayName=yf(n),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bo=ve("arrow-left",b0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k0=ve("chart-column",_0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Jc=ve("chevron-down",j0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],E0=ve("chevron-left",S0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C0=ve("chevron-right",N0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],R0=ve("circle-alert",P0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vu=ve("circle-check",T0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],O0=ve("cloud-rain",A0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$0=ve("credit-card",I0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],z0=ve("dollar-sign",L0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ta=ve("eye-off",D0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Un=ve("eye",U0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],F0=ve("facebook",M0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],q0=ve("funnel",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],H0=ve("gauge",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],K0=ve("headphones",W0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],yu=ve("heart",G0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Q0=ve("instagram",J0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],X0=ve("landmark",Y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ex=ve("loader-circle",Z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Ts=ve("loader",tx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Aa=ve("lock",rx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],sx=ve("log-out",nx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Dn=ve("mail",ax);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Up=ve("map-pin",ix);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],lx=ve("menu",ox);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],xf=ve("message-circle",cx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_o=ve("package",ux);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Mp=ve("phone",dx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wf=ve("plus",hx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],px=ve("save",fx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Qc=ve("search",mx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fp=ve("settings",gx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xo=ve("shield-check",vx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Mn=ve("shopping-cart",yx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],wx=ve("square-pen",xx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],_x=ve("thumbs-up",bx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Bp=ve("trash-2",kx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Sx=ve("trending-up",jx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],xu=ve("truck",Ex);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ko=ve("user",Nx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bf=ve("users",Cx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Rx=ve("volume-2",Px);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qp=ve("wallet",Tx);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jo=ve("x",Ax),_f=n=>{let t;const s=new Set,i=(g,x)=>{const v=typeof g=="function"?g(t):g;if(!Object.is(v,t)){const w=t;t=x??(typeof v!="object"||v===null)?v:Object.assign({},t,v),s.forEach(_=>_(t,w))}},c=()=>t,f={setState:i,getState:c,getInitialState:()=>m,subscribe:g=>(s.add(g),()=>s.delete(g))},m=t=n(i,c,f);return f},Ox=(n=>n?_f(n):_f),Ix=n=>n;function $x(n,t=Ix){const s=J.useSyncExternalStore(n.subscribe,J.useCallback(()=>t(n.getState()),[n,t]),J.useCallback(()=>t(n.getInitialState()),[n,t]));return J.useDebugValue(s),s}const kf=n=>{const t=Ox(n),s=i=>$x(t,i);return Object.assign(s,t),s},$s=(n=>n?kf(n):kf);function To(n,t){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(n);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(n,i[c])&&(s[i[c]]=n[i[c]]);return s}function Lx(n,t,s,i){function c(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function f(x){try{g(i.next(x))}catch(v){d(v)}}function m(x){try{g(i.throw(x))}catch(v){d(v)}}function g(x){x.done?u(x.value):c(x.value).then(f,m)}g((i=i.apply(n,t||[])).next())})}const zx=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class wu extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class Dx extends wu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jf extends wu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sf extends wu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Yc||(Yc={}));class Ux{constructor(t,{headers:s={},customFetch:i,region:c=Yc.Any}={}){this.url=t,this.headers=s,this.region=c,this.fetch=zx(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Lx(this,arguments,void 0,function*(s,i={}){var c;let u,d;try{const{headers:f,method:m,body:g,signal:x,timeout:v}=i;let w={},{region:_}=i;_||(_=this.region);const b=new URL(`${this.url}/${s}`);_&&_!=="any"&&(w["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let T;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(w["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(w["Content-Type"]="application/json",T=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?T=JSON.stringify(g):T=g;let S=x;v&&(d=new AbortController,u=setTimeout(()=>d.abort(),v),x?(S=d.signal,x.addEventListener("abort",()=>d.abort())):S=d.signal);const A=yield this.fetch(b.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:T,signal:S}).catch(H=>{throw new Dx(H)}),D=A.headers.get("x-relay-error");if(D&&D==="true")throw new jf(A);if(!A.ok)throw new Sf(A);let P=((c=A.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),U;return P==="application/json"?U=yield A.json():P==="application/octet-stream"||P==="application/pdf"?U=yield A.blob():P==="text/event-stream"?U=A:P==="multipart/form-data"?U=yield A.formData():U=yield A.text(),{data:U,error:null,response:A}}catch(f){return{data:null,error:f,response:f instanceof Sf||f instanceof jf?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Mx=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Fx=class{constructor(n){var t,s,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(i=n.urlLengthLimit)!==null&&i!==void 0?i:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let c=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,f=null,m=null,g=u.status,x=u.statusText;if(u.ok){var v,w;if(s.method!=="HEAD"){var _;const A=await u.text();A===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((_=s.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?f=A:f=JSON.parse(A))}const T=(v=s.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),S=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&S&&S.length>1&&(m=parseInt(S[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var b;const T=await u.text();try{d=JSON.parse(T),Array.isArray(d)&&u.status===404&&(f=[],d=null,g=200,x="OK")}catch{u.status===404&&T===""?(g=204,x="No Content"):d={message:T}}if(d&&s.isMaybeSingle&&(!(d==null||(b=d.details)===null||b===void 0)&&b.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&s.shouldThrowOnError)throw new Mx(d)}return{error:d,data:f,count:m,status:g,statusText:x}});return this.shouldThrowOnError||(c=c.catch(u=>{var d;let f="",m="",g="";const x=u==null?void 0:u.cause;if(x){var v,w,_,b;const A=(v=x==null?void 0:x.message)!==null&&v!==void 0?v:"",D=(w=x==null?void 0:x.code)!==null&&w!==void 0?w:"";f=`${(_=u==null?void 0:u.name)!==null&&_!==void 0?_:"FetchError"}: ${u==null?void 0:u.message}`,f+=`

Caused by: ${(b=x==null?void 0:x.name)!==null&&b!==void 0?b:"Error"}: ${A}`,D&&(f+=` (${D})`),x!=null&&x.stack&&(f+=`
${x.stack}`)}else{var T;f=(T=u==null?void 0:u.stack)!==null&&T!==void 0?T:""}const S=this.url.toString().length;return(u==null?void 0:u.name)==="AbortError"||(u==null?void 0:u.code)==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((x==null?void 0:x.name)==="HeadersOverflowError"||(x==null?void 0:x.code)==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(m+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:f,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),c.then(n,t)}returns(){return this}overrideTypes(){return this}},Bx=class extends Fx{select(n){let t=!1;const s=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:s,foreignTable:i,referencedTable:c=i}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:s=t}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:s,referencedTable:i=s}={}){const c=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:s=!1,buffers:i=!1,wal:c=!1,format:u="text"}={}){var d;const f=[n?"analyze":null,t?"verbose":null,s?"settings":null,i?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Ef=new RegExp("[,()]");var Ss=class extends Bx{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&Ef.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&Ef.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:s,type:i}={}){let c="";i==="plain"?c="pl":i==="phrase"?c="ph":i==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${c}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(n,t,s){return this.url.searchParams.append(n,`not.${t}.${s}`),this}or(n,{foreignTable:t,referencedTable:s=t}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,s){return this.url.searchParams.append(n,`${t}.${s}`),this}},qx=class{constructor(n,{headers:t={},schema:s,fetch:i,urlLengthLimit:c=8e3}){this.url=n,this.headers=new Headers(t),this.schema=s,this.fetch=i,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:s=!1,count:i}=t??{},c=s?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:f,headers:m}=this.cloneRequestState();return f.searchParams.set("select",d),i&&m.append("Prefer",`count=${i}`),new Ss({method:c,url:f,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:t,defaultToNull:s=!0}={}){var i;const c="POST",{url:u,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),s||d.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new Ss({method:c,url:u,headers:d,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:t,ignoreDuplicates:s=!1,count:i,defaultToNull:c=!0}={}){var u;const d="POST",{url:f,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),i&&m.append("Prefer",`count=${i}`),c||m.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((x,v)=>x.concat(Object.keys(v)),[]);if(g.length>0){const x=[...new Set(g)].map(v=>`"${v}"`);f.searchParams.set("columns",x.join(","))}}return new Ss({method:d,url:f,headers:m,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:t}={}){var s;const i="PATCH",{url:c,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new Ss({method:i,url:c,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var t;const s="DELETE",{url:i,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Ss({method:s,url:i,headers:c,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Oa(n){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(n)}function Vx(n,t){if(Oa(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,t);if(Oa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Hx(n){var t=Vx(n,"string");return Oa(t)=="symbol"?t:t+""}function Wx(n,t,s){return(t=Hx(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Nf(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,i)}return s}function ro(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Nf(Object(s),!0).forEach(function(i){Wx(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Nf(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}var Kx=class Vp{constructor(t,{headers:s={},schema:i,fetch:c,timeout:u,urlLengthLimit:d=8e3}={}){this.url=t,this.headers=new Headers(s),this.schemaName=i,this.urlLengthLimit=d;const f=c??globalThis.fetch;u!==void 0&&u>0?this.fetch=(m,g)=>{const x=new AbortController,v=setTimeout(()=>x.abort(),u),w=g==null?void 0:g.signal;if(w){if(w.aborted)return clearTimeout(v),f(m,g);const _=()=>{clearTimeout(v),x.abort()};return w.addEventListener("abort",_,{once:!0}),f(m,ro(ro({},g),{},{signal:x.signal})).finally(()=>{clearTimeout(v),w.removeEventListener("abort",_)})}return f(m,ro(ro({},g),{},{signal:x.signal})).finally(()=>clearTimeout(v))}:this.fetch=f}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Vp(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,s={},{head:i=!1,get:c=!1,count:u}={}){var d;let f;const m=new URL(`${this.url}/rpc/${t}`);let g;const x=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(x)),v=i&&Object.values(s).some(x);v?(f="POST",g=s):i||c?(f=i?"HEAD":"GET",Object.entries(s).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{m.searchParams.append(_,b)})):(f="POST",g=s);const w=new Headers(this.headers);return v?w.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&w.set("Prefer",`count=${u}`),new Ss({method:f,url:m,headers:w,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class Gx{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const c=i.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const i=this.getWebSocketConstructor();return new i(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Jx="2.95.3",Qx=`realtime-js/${Jx}`,Yx="1.0.0",Hp="2.0.0",Cf=Hp,Xc=1e4,Xx=1e3,Zx=100;var hn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(hn||(hn={}));var nt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(nt||(nt={}));var ir;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ir||(ir={}));var Zc;(function(n){n.websocket="websocket"})(Zc||(Zc={}));var $n;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})($n||($n={}));class ew{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,i;const c=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(t){var s,i;const c=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,s,i){var c,u;const d=t.topic,f=(c=t.ref)!==null&&c!==void 0?c:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",g=t.payload.event,x=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(x).length===0?"":JSON.stringify(x);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+d.length+g.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let b=new DataView(_),T=0;b.setUint8(T++,this.KINDS.userBroadcastPush),b.setUint8(T++,m.length),b.setUint8(T++,f.length),b.setUint8(T++,d.length),b.setUint8(T++,g.length),b.setUint8(T++,v.length),b.setUint8(T++,s),Array.from(m,A=>b.setUint8(T++,A.charCodeAt(0))),Array.from(f,A=>b.setUint8(T++,A.charCodeAt(0))),Array.from(d,A=>b.setUint8(T++,A.charCodeAt(0))),Array.from(g,A=>b.setUint8(T++,A.charCodeAt(0))),Array.from(v,A=>b.setUint8(T++,A.charCodeAt(0)));var S=new Uint8Array(_.byteLength+i.byteLength);return S.set(new Uint8Array(_),0),S.set(new Uint8Array(i),_.byteLength),S.buffer}decode(t,s){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return s(i)}if(typeof t=="string"){const i=JSON.parse(t),[c,u,d,f,m]=i;return s({join_ref:c,ref:u,topic:d,event:f,payload:m})}return s({})}_binaryDecode(t){const s=new DataView(t),i=s.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,c)}}_decodeUserBroadcast(t,s,i){const c=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),f=s.getUint8(4);let m=this.HEADER_LENGTH+4;const g=i.decode(t.slice(m,m+c));m=m+c;const x=i.decode(t.slice(m,m+u));m=m+u;const v=i.decode(t.slice(m,m+d));m=m+d;const w=t.slice(m,t.byteLength),_=f===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,b={type:this.BROADCAST_EVENT,event:x,payload:_};return d>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>s.includes(i)))}}class Wp{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ie||(Ie={}));const Pf=(n,t,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=tw(d,n,t,c),u),{}):{}},tw=(n,t,s,i)=>{const c=t.find(f=>f.name===n),u=c==null?void 0:c.type,d=s[n];return u&&!i.includes(u)?Kp(u,d):eu(d)},Kp=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return aw(t,s)}switch(n){case Ie.bool:return rw(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return nw(t);case Ie.json:case Ie.jsonb:return sw(t);case Ie.timestamp:return iw(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return eu(t);default:return eu(t)}},eu=n=>n,rw=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},nw=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},sw=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},aw=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let u;const d=n.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>Kp(t,f))}return n},iw=n=>typeof n=="string"?n.replace(" ","T"):n,Gp=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nc{constructor(t,s,i={},c=Xc){this.channel=t,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rf;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Rf||(Rf={}));class Ca{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ca.syncState(this.state,c,u,d),this.pendingDiffs.forEach(m=>{this.state=Ca.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},c=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ca.syncDiff(this.state,c,u,d),f())}),this.onJoin((c,u,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:d})}),this.onLeave((c,u,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,c){const u=this.cloneDeep(t),d=this.transformState(s),f={},m={};return this.map(u,(g,x)=>{d[g]||(m[g]=x)}),this.map(d,(g,x)=>{const v=u[g];if(v){const w=x.map(S=>S.presence_ref),_=v.map(S=>S.presence_ref),b=x.filter(S=>_.indexOf(S.presence_ref)<0),T=v.filter(S=>w.indexOf(S.presence_ref)<0);b.length>0&&(f[g]=b),T.length>0&&(m[g]=T)}else f[g]=x}),this.syncDiff(u,{joins:f,leaves:m},i,c)}static syncDiff(t,s,i,c){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(u,(f,m)=>{var g;const x=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(m),x.length>0){const v=t[f].map(_=>_.presence_ref),w=x.filter(_=>v.indexOf(_.presence_ref)<0);t[f].unshift(...w)}i(f,x,m)}),this.map(d,(f,m)=>{let g=t[f];if(!g)return;const x=m.map(v=>v.presence_ref);g=g.filter(v=>x.indexOf(v.presence_ref)<0),t[f]=g,c(f,g,m),g.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const c=t[i];return"metas"in c?s[i]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=c,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tf;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Tf||(Tf={}));var Pa;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Pa||(Pa={}));var Rr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Rr||(Rr={}));class Cs{constructor(t,s={config:{}},i){var c,u;if(this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Nc(this,ir.join,this.params,this.timeout),this.rejoinTimer=new Wp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ir.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Ca(this),this.broadcastEndpointURL=Gp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var i,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:d,presence:f,private:m}}=this.params,g=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[Pa.PRESENCE]&&this.bindings[Pa.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},w={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(Rr.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(Rr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(Rr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(b=T==null?void 0:T.length)!==null&&b!==void 0?b:0,A=[];for(let D=0;D<S;D++){const P=T[D],{filter:{event:U,schema:H,table:O,filter:M}}=P,se=_&&_[D];if(se&&se.event===U&&Cs.isFilterValueEqual(se.schema,H)&&Cs.isFilterValueEqual(se.table,O)&&Cs.isFilterValueEqual(se.filter,M))A.push(Object.assign(Object.assign({},P),{id:se.id}));else{this.unsubscribe(),this.state=nt.errored,t==null||t(Rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(Rr.SUBSCRIBED);return}}).receive("error",_=>{this.state=nt.errored,t==null||t(Rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this.state===nt.joined&&t===Pa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,i)}async httpSend(t,s,i={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const g=await f.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(t,s={}){var i,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,m;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ir.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Nc(this,ir.leave,{},t),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(t,s,i){const c=new AbortController,u=setTimeout(()=>c.abort(),i),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(u),d}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Nc(this,t,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Zx){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var c,u;const d=t.toLocaleLowerCase(),{close:f,error:m,leave:g,join:x}=ir;if(i&&[f,m,g,x].indexOf(d)>=0&&i!==this._joinRef())return;let w=this._onMessage(d,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(_=>{var b,T,S;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(T=_.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===d}).map(_=>_.callback(w,i)):(u=this.bindings[d])===null||u===void 0||u.filter(_=>{var b,T,S,A,D,P;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _){const U=_.id,H=(b=_.filter)===null||b===void 0?void 0:b.event;return U&&((T=s.ids)===null||T===void 0?void 0:T.includes(U))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((S=s.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const U=(D=(A=_==null?void 0:_.filter)===null||A===void 0?void 0:A.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return U==="*"||U===((P=s==null?void 0:s.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===d}).map(_=>{if(typeof w=="object"&&"ids"in w){const b=w.data,{schema:T,table:S,commit_timestamp:A,type:D,errors:P}=b;w=Object.assign(Object.assign({},{schema:T,table:S,commit_timestamp:A,eventType:D,new:{},old:{},errors:P}),this._getPayloadRecords(b))}_.callback(w,i)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const c=t.toLocaleLowerCase(),u={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Cs.isEqual(c.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ir.close,{},t)}_onError(t){this._on(ir.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Pf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Pf(t.columns,t.old_record)),s}}const Cc=()=>{},no={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ow=[1e3,2e3,5e3,1e4],lw=1e4,cw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uw{constructor(t,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xc,this.transport=null,this.heartbeatIntervalMs=no.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cc,this.ref=0,this.reconnectTimer=null,this.vsn=Cf,this.logger=Cc,this.conn=null,this.sendBuffer=[],this.serializer=new ew,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Zc.websocket}`,this.httpEndpoint=Gp(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return s==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case hn.connecting:return $n.Connecting;case hn.open:return $n.Open;case hn.closing:return $n.Closing;default:return $n.Closed}}isConnected(){return this.connectionState()===$n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const i=`realtime:${t}`,c=this.getChannels().find(u=>u.topic===i);if(c)return c;{const u=new Cs(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:i,payload:c,ref:u}=t,d=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${i} (${u})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Xx,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},no.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:c,payload:u,ref:d}=s,f=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${c} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(c,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===hn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hn.open||this.conn.readyState===hn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ir.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${t}${i}${c}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([cw],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,i=!1;if(t)s=t,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const u={access_token:s,version:Qx};s&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(ir.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Wp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},no.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,i,c,u,d,f,m,g,x,v,w,_;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:Xc,this.heartbeatIntervalMs=(c=t==null?void 0:t.heartbeatIntervalMs)!==null&&c!==void 0?c:no.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:Cc,this.vsn=(m=t==null?void 0:t.vsn)!==null&&m!==void 0?m:Cf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t==null?void 0:t.reconnectAfterMs)!==null&&g!==void 0?g:(b=>ow[b-1]||lw),this.vsn){case Yx:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:((b,T)=>T(JSON.stringify(b))),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:((b,T)=>T(JSON.parse(b)));break;case Hp:this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ia=class extends Error{constructor(n,t){var s;super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dw(n,t,s){const i=new URL(t,n);if(s)for(const[c,u]of Object.entries(s))u!==void 0&&i.searchParams.set(c,u);return i.toString()}async function hw(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function fw(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:c,body:u,headers:d}){const f=dw(n.baseUrl,i,c),m=await hw(n.auth),g=await t(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...m,...d},body:u?JSON.stringify(u):void 0}),x=await g.text(),v=(g.headers.get("content-type")||"").includes("application/json"),w=v&&x?JSON.parse(x):x;if(!g.ok){const _=v?w:void 0,b=_==null?void 0:_.error;throw new Ia((b==null?void 0:b.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:_})}return{status:g.status,headers:g.headers,data:w}}}}function so(n){return n.join("")}var pw=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:so(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${so(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${so(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${so(n.namespace)}`}),!0}catch(t){if(t instanceof Ia&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof Ia&&s.status===409)return;throw s}}};function ms(n){return n.join("")}var mw=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ms(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ms(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof Ia&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof Ia&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},gw=class{constructor(n){var i;let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=fw({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(i=n.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new pw(this.client,t),this.tableOps=new mw(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Ao=class extends Error{constructor(n,t="storage",s,i){super(n),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=i}};function Oo(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var ao=class extends Ao{constructor(n,t,s,i="storage"){super(n,i,t,s),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Jp=class extends Ao{constructor(n,t,s="storage"){super(n,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const vw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),yw=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},tu=n=>{if(Array.isArray(n))return n.map(s=>tu(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[c]=tu(i)}),t},xw=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function $a(n){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(n)}function ww(n,t){if($a(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,t);if($a(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function bw(n){var t=ww(n,"string");return $a(t)=="symbol"?t:t+""}function _w(n,t,s){return(t=bw(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Af(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,i)}return s}function pe(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Af(Object(s),!0).forEach(function(i){_w(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Af(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}const Of=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},kw=async(n,t,s,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const c=n,u=c.status||500;if(typeof c.json=="function")c.json().then(d=>{const f=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||u+"";t(new ao(Of(d),u,f,i))}).catch(()=>{if(i==="vectors"){const d=u+"";t(new ao(c.statusText||`HTTP ${u} error`,u,d,i))}else{const d=u+"";t(new ao(c.statusText||`HTTP ${u} error`,u,d,i))}});else{const d=u+"";t(new ao(c.statusText||`HTTP ${u} error`,u,d,i))}}else t(new Jp(Of(n),n,i))},jw=(n,t,s,i)=>{const c={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||n==="HEAD"||!i?pe(pe({},c),s):(yw(i)?(c.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),c.body=JSON.stringify(i)):c.body=i,t!=null&&t.duplex&&(c.duplex=t.duplex),pe(pe({},c),s))};async function _a(n,t,s,i,c,u,d){return new Promise((f,m)=>{n(s,jw(t,i,c,u)).then(g=>{if(!g.ok)throw g;if(i!=null&&i.noResolveJson)return g;if(d==="vectors"){const x=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!x||!x.includes("application/json"))return{}}return g.json()}).then(g=>f(g)).catch(g=>kw(g,m,i,d))})}function Qp(n="storage"){return{get:async(t,s,i,c)=>_a(t,"GET",s,i,c,void 0,n),post:async(t,s,i,c,u)=>_a(t,"POST",s,c,u,i,n),put:async(t,s,i,c,u)=>_a(t,"PUT",s,c,u,i,n),head:async(t,s,i,c)=>_a(t,"HEAD",s,pe(pe({},i),{},{noResolveJson:!0}),c,void 0,n),remove:async(t,s,i,c,u)=>_a(t,"DELETE",s,c,u,i,n)}}const Sw=Qp("storage"),{get:La,post:ar,put:ru,head:Ew,remove:bu}=Sw,zt=Qp("vectors");var Ls=class{constructor(n,t={},s,i="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.fetch=vw(s),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var t=this;try{return{data:await n(),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Oo(s))return{data:null,error:s};throw s}}},Nw=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Oo(t))return{data:null,error:t};throw t}}};let Yp;Yp=Symbol.toStringTag;var Cw=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Yp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Nw(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Oo(t))return{data:null,error:t};throw t}}};const Pw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},If={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Rw=class extends Ls{constructor(n,t={},s,i){super(n,t,i,"storage"),this.bucketId=s}async uploadOrUpdate(n,t,s,i){var c=this;return c.handleOperation(async()=>{let u;const d=pe(pe({},If),i);let f=pe(pe({},c.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",c.encodeMetadata(m)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(m))):(u=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,m&&(f["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),i!=null&&i.headers&&(f=pe(pe({},f),i.headers));const g=c._removeEmptyFolders(t),x=c._getFinalPath(g),v=await(n=="PUT"?ru:ar)(c.fetch,`${c.url}/object/${x}`,u,pe({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{path:g,id:v.Id,fullPath:v.Key}})}async upload(n,t,s){return this.uploadOrUpdate("POST",n,t,s)}async uploadToSignedUrl(n,t,s,i){var c=this;const u=c._removeEmptyFolders(n),d=c._getFinalPath(u),f=new URL(c.url+`/object/upload/sign/${d}`);return f.searchParams.set("token",t),c.handleOperation(async()=>{let m;const g=pe({upsert:If.upsert},i),x=pe(pe({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",g.cacheControl)):(m=s,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType),{path:u,fullPath:(await ru(c.fetch,f.toString(),m,{headers:x})).Key}})}async createSignedUploadUrl(n,t){var s=this;return s.handleOperation(async()=>{let i=s._getFinalPath(n);const c=pe({},s.headers);t!=null&&t.upsert&&(c["x-upsert"]="true");const u=await ar(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:c}),d=new URL(s.url+u.url),f=d.searchParams.get("token");if(!f)throw new Ao("No token returned by API");return{signedUrl:d.toString(),path:n,token:f}})}async update(n,t,s){return this.uploadOrUpdate("PUT",n,t,s)}async move(n,t,s){var i=this;return i.handleOperation(async()=>await ar(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:i.headers}))}async copy(n,t,s){var i=this;return i.handleOperation(async()=>({path:(await ar(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(n,t,s){var i=this;return i.handleOperation(async()=>{let c=i._getFinalPath(n),u=await ar(i.fetch,`${i.url}/object/sign/${c}`,pe({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:i.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${i.url}${u.signedURL}${d}`)}})}async createSignedUrls(n,t,s){var i=this;return i.handleOperation(async()=>{const c=await ar(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:n},{headers:i.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c.map(d=>pe(pe({},d),{},{signedUrl:d.signedURL?encodeURI(`${i.url}${d.signedURL}${u}`):null}))})}download(n,t,s){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),u=c?`?${c}`:"",d=this._getFinalPath(n),f=()=>La(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0},s);return new Cw(f,this.shouldThrowOnError)}async info(n){var t=this;const s=t._getFinalPath(n);return t.handleOperation(async()=>tu(await La(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(n){var t=this;const s=t._getFinalPath(n);try{return await Ew(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Oo(i)&&i instanceof Jp){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,t){const s=this._getFinalPath(n),i=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&i.push(c);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${f}`)}}}async remove(n){var t=this;return t.handleOperation(async()=>await bu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}))}async list(n,t,s){var i=this;return i.handleOperation(async()=>{const c=pe(pe(pe({},Pw),t),{},{prefix:n||""});return await ar(i.fetch,`${i.url}/object/list/${i.bucketId}`,c,{headers:i.headers},s)})}async listV2(n,t){var s=this;return s.handleOperation(async()=>{const i=pe({},n);return await ar(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},t)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const Tw="2.95.3",Ba={"X-Client-Info":`storage-js/${Tw}`};var Aw=class extends Ls{constructor(n,t={},s,i){const c=new URL(n);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const u=c.href.replace(/\/$/,""),d=pe(pe({},Ba),t);super(u,d,s,"storage")}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const s=t.listBucketOptionsToQueryString(n);return await La(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(n){var t=this;return t.handleOperation(async()=>await La(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}))}async createBucket(n,t={public:!1}){var s=this;return s.handleOperation(async()=>await ar(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(n,t){var s=this;return s.handleOperation(async()=>await ru(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(n){var t=this;return t.handleOperation(async()=>await ar(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await bu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ow=class extends Ls{constructor(n,t={},s){const i=n.replace(/\/$/,""),c=pe(pe({},Ba),t);super(i,c,s,"storage")}async createBucket(n){var t=this;return t.handleOperation(async()=>await ar(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}))}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const i=s.toString(),c=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await La(t.fetch,c,{headers:t.headers})})}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await bu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}from(n){var t=this;if(!xw(n))throw new Ao("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new gw({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(c,u){const d=c[u];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(c,f),error:null}}catch(m){if(i)throw m;return{data:null,error:m}}}}})}},Iw=class extends Ls{constructor(n,t={},s){const i=n.replace(/\/$/,""),c=pe(pe({},Ba),{},{"Content-Type":"application/json"},t);super(i,c,s,"vectors")}async createIndex(n){var t=this;return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{})}async getIndex(n,t){var s=this;return s.handleOperation(async()=>await zt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers}))}async listIndexes(n){var t=this;return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}))}async deleteIndex(n,t){var s=this;return s.handleOperation(async()=>await zt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers})||{})}},$w=class extends Ls{constructor(n,t={},s){const i=n.replace(/\/$/,""),c=pe(pe({},Ba),{},{"Content-Type":"application/json"},t);super(i,c,s,"vectors")}async putVectors(n){var t=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{})}async getVectors(n){var t=this;return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}))}async listVectors(n){var t=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}))}async queryVectors(n){var t=this;return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}))}async deleteVectors(n){var t=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{})}},Lw=class extends Ls{constructor(n,t={},s){const i=n.replace(/\/$/,""),c=pe(pe({},Ba),{},{"Content-Type":"application/json"},t);super(i,c,s,"vectors")}async createBucket(n){var t=this;return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}async getBucket(n){var t=this;return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}))}async listBuckets(n={}){var t=this;return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await zt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}},zw=class extends Lw{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new Dw(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,s=this;return t().call(s,n)}async getBucket(n){var t=()=>super.getBucket,s=this;return t().call(s,n)}async listBuckets(n={}){var t=()=>super.listBuckets,s=this;return t().call(s,n)}async deleteBucket(n){var t=()=>super.deleteBucket,s=this;return t().call(s,n)}},Dw=class extends Iw{constructor(n,t,s,i){super(n,t,i),this.vectorBucketName=s}async createIndex(n){var t=()=>super.createIndex,s=this;return t().call(s,pe(pe({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,s=this;return t().call(s,pe(pe({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,n)}index(n){return new Uw(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Uw=class extends $w{constructor(n,t,s,i,c){super(n,t,c),this.vectorBucketName=s,this.indexName=i}async putVectors(n){var t=()=>super.putVectors,s=this;return t().call(s,pe(pe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var t=()=>super.getVectors,s=this;return t().call(s,pe(pe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,s=this;return t().call(s,pe(pe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,s=this;return t().call(s,pe(pe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,s=this;return t().call(s,pe(pe({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Mw=class extends Aw{constructor(n,t={},s,i){super(n,t,s,i)}from(n){return new Rw(this.url,this.headers,n,this.fetch)}get vectors(){return new zw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ow(this.url+"/iceberg",this.headers,this.fetch)}};const Xp="2.95.3",Es=30*1e3,nu=3,Pc=nu*Es,Fw="http://localhost:9999",Bw="supabase.auth.token",qw={"X-Client-Info":`gotrue-js/${Xp}`},su="X-Supabase-Api-Version",Zp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hw=600*1e3;class za extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function le(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Ww extends za{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Kw(n){return le(n)&&n.name==="AuthApiError"}class Ln extends za{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ir extends za{constructor(t,s,i,c){super(t,i,c),this.name=s,this.status=i}}class Lt extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rc(n){return le(n)&&n.name==="AuthSessionMissingError"}class gs extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class io extends Ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class oo extends Ir{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gw(n){return le(n)&&n.name==="AuthImplicitGrantRedirectError"}class $f extends Ir{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jw extends Ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class au extends Ir{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Tc(n){return le(n)&&n.name==="AuthRetryableFetchError"}class Lf extends Ir{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class iu extends Ir{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zf=` 	
\r=`.split(""),Qw=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<zf.length;t+=1)n[zf[t].charCodeAt(0)]=-2;for(let t=0;t<So.length;t+=1)n[So[t].charCodeAt(0)]=t;return n})();function Df(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(So[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(So[i]),t.queuedBits-=6}}function em(n,t,s){const i=Qw[n];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Uf(n){const t=[],s=d=>{t.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=d=>{Zw(d,i,s)};for(let d=0;d<n.length;d+=1)em(n.charCodeAt(d),c,u);return t.join("")}function Yw(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Xw(n,t){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}Yw(i,t)}}function Zw(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Ps(n){const t=[],s={queue:0,queuedBits:0},i=c=>{t.push(c)};for(let c=0;c<n.length;c+=1)em(n.charCodeAt(c),s,i);return new Uint8Array(t)}function eb(n){const t=[];return Xw(n,s=>t.push(s)),new Uint8Array(t)}function zn(n){const t=[],s={queue:0,queuedBits:0},i=c=>{t.push(c)};return n.forEach(c=>Df(c,s,i)),Df(null,s,i),t.join("")}function tb(n){return Math.round(Date.now()/1e3)+n}function rb(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",Tn={tested:!1,writable:!1},tm=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tn.tested)return Tn.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Tn.tested=!0,Tn.writable=!0}catch{Tn.tested=!0,Tn.writable=!1}return Tn.writable};function nb(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,u)=>{t[u]=c})}catch{}return s.searchParams.forEach((i,c)=>{t[c]=i}),t}const rm=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),sb=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ns=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},An=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ht=async(n,t)=>{await n.removeItem(t)};class Io{constructor(){this.promise=new Io.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Io.promiseConstructor=Promise;function lo(n){const t=n.split(".");if(t.length!==3)throw new iu("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!Vw.test(t[i]))throw new iu("JWT not in base64url format");return{header:JSON.parse(Uf(t[0])),payload:JSON.parse(Uf(t[1])),signature:Ps(t[2]),raw:{header:t[0],payload:t[1]}}}async function ab(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function ib(n,t){return new Promise((i,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await n(u);if(!t(u,null,d)){i(d);return}}catch(d){if(!t(u,d)){c(d);return}}})()})}function ob(n){return("0"+n.toString(16)).substr(-2)}function lb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let u=0;u<56;u++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(t),Array.from(t,ob).join("")}async function cb(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function ub(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await cb(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(n,t,s=!1){const i=lb();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await Ns(n,`${t}-code-verifier`,c);const u=await ub(i);return[u,i===u?"plain":"s256"]}const db=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hb(n){const t=n.headers.get(su);if(!t||!t.match(db))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fb(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function pb(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(n){if(!mb.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ac(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gb(n,t){return new Proxy(n,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,i,c)}})}function Mf(n){return JSON.parse(JSON.stringify(n))}const In=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),vb=[502,503,504];async function Ff(n){var t;if(!sb(n))throw new au(In(n),0);if(vb.includes(n.status))throw new au(In(n),n.status);let s;try{s=await n.json()}catch(u){throw new Ln(In(u),u)}let i;const c=hb(n);if(c&&c.getTime()>=Zp["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Lf(In(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Lt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Lf(In(s),n.status,s.weak_password.reasons);throw new Ww(In(s),n.status||500,i)}const yb=(n,t,s,i)=>{const c={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function fe(n,t,s,i){var c;const u=Object.assign({},i==null?void 0:i.headers);u[su]||(u[su]=Zp["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await xb(n,t,s+f,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(m):{data:Object.assign({},m),error:null}}async function xb(n,t,s,i,c,u){const d=yb(t,i,c,u);let f;try{f=await n(s,Object.assign({},d))}catch(m){throw console.error(m),new au(In(m),0)}if(f.ok||await Ff(f),i!=null&&i.noResolveJson)return f;try{return await f.json()}catch(m){await Ff(m)}}function sr(n){var t;let s=null;_b(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=tb(n.expires_in)));const i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:i},error:null}}function Bf(n){const t=sr(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function pn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function wb(n){return{data:n,error:null}}function bb(n){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:c,verification_type:u}=n,d=To(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:i,redirect_to:c,verification_type:u},m=Object.assign({},d);return{data:{properties:f,user:m},error:null}}function qf(n){return n}function _b(n){return n.access_token&&n.refresh_token&&n.expires_in}const Oc=["global","local","others"];class kb{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=rm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Oc[0]){if(Oc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(le(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=To(t,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:bb,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(le(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pn})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,c,u,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},x=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:qf});if(x.error)throw x.error;const v=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(m=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(b=>{const T=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);g[`${S}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(le(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){ys(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pn})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){ys(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:pn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){ys(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:pn})}catch(i){if(le(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){ys(t.userId);try{const{data:s,error:i}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteFactor(t){ys(t.userId),ys(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,i,c,u,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},x=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:qf});if(x.error)throw x.error;const v=await x.json(),w=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(m=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(b=>{const T=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);g[`${S}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(le(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(le(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}}function Vf(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const xs={debug:!!(globalThis&&tm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jb extends nm{}async function Sb(n,t,s){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await s()}finally{xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(t===0)throw xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new jb(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(xs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Eb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sm(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Nb(n){return parseInt(n,16)}function Cb(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function Pb(n){var t;const{chainId:s,domain:i,expirationTime:c,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:m,resources:g,scheme:x,uri:v,version:w}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=sm(n.address),b=x?`${x}://${i}`:i,T=n.statement?`${n.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${_}

${T}`;let A=`URI: ${v}
Version: ${w}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(c&&(A+=`
Expiration Time: ${c.toISOString()}`),f&&(A+=`
Not Before: ${f.toISOString()}`),m&&(A+=`
Request ID: ${m}`),g){let D=`
Resources:`;for(const P of g){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);D+=`
- ${P}`}A+=D}return`${S}
${A}`}class Ze extends Error{constructor({message:t,code:s,cause:i,name:c}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=c??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Eo extends Ze{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function Rb({error:n,options:t}){var s,i,c;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(am(d)){if(u.rp.id!==d)return new Ze({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Tb({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(am(i)){if(s.rpId!==i)return new Ze({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Ab{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Ob=new Ab;function Ib(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:i}=n,c=To(n,["challenge","user","excludeCredentials"]),u=Ps(t).buffer,d=Object.assign(Object.assign({},s),{id:Ps(s.id).buffer}),f=Object.assign(Object.assign({},c),{challenge:u,user:d});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const g=i[m];f.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Ps(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function $b(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,i=To(n,["challenge","allowCredentials"]),c=Ps(t).buffer,u=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:Ps(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Lb(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:zn(new Uint8Array(n.response.attestationObject)),clientDataJSON:zn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zb(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),c=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:zn(new Uint8Array(c.authenticatorData)),clientDataJSON:zn(new Uint8Array(c.clientDataJSON)),signature:zn(new Uint8Array(c.signature)),userHandle:c.userHandle?zn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function am(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Hf(){var n,t;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Db(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",t)}:{data:null,error:new Eo("Empty credential response",t)}}catch(t){return{data:null,error:Rb({error:t,options:n})}}}async function Ub(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",t)}:{data:null,error:new Eo("Empty credential response",t)}}catch(t){return{data:null,error:Tb({error:t,options:n})}}}const Mb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Fb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function No(...n){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of n)if(c)for(const u in c){const d=c[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(s(d))i[u]=d;else if(t(d)){const f=i[u];t(f)?i[u]=No(f,d):i[u]=No(d)}else i[u]=d}return i}function Bb(n,t){return No(Mb,n,t||{})}function qb(n,t){return No(Fb,n,t||{})}class Vb{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:i,signal:c},u){var d;try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!f)return{data:null,error:m};const g=c??Ob.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:x}=f.webauthn.credential_options.publicKey;if(!x.name){const v=i;if(v)x.name=`${x.id}:${v}`;else{const _=(await this.client.getUser()).data.user,b=((d=_==null?void 0:_.user_metadata)===null||d===void 0?void 0:d.name)||(_==null?void 0:_.email)||(_==null?void 0:_.id)||"User";x.name=`${x.id}:${b}`}}x.displayName||(x.displayName=x.name)}switch(f.webauthn.type){case"create":{const x=Bb(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:v,error:w}=await Db({publicKey:x,signal:g});return v?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const x=qb(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:v,error:w}=await Ub(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:x,signal:g}));return v?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new Ln("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new za("rpId is required for WebAuthn authentication")};try{if(!Hf())return{data:null,error:new Ln("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:u});if(!d)return{data:null,error:f};const{webauthn:m}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:i,credential_response:m.credential_response}})}catch(d){return le(d)?{data:null,error:d}:{data:null,error:new Ln("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new za("rpId is required for WebAuthn registration")};try{if(!Hf())return{data:null,error:new Ln("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(x=>{var v;return(v=x.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:f};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return le(d)?{data:null,error:d}:{data:null,error:new Ln("Unexpected error in register",d)}}}}Eb();const Hb={url:Fw,storageKey:Bw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wf(n,t,s){return await s()}const ws={};class Da{get jwks(){var t,s;return(s=(t=ws[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=ws[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:t})}constructor(t){var s,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Hb),t);if(this.storageKey=u.storageKey,this.instanceID=(s=Da.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Da.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ft()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new kb({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=rm(u.fetch),this.lock=u.lock||Wf,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&ft()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Sb:this.lock=Wf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:tm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vf(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Vf(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Xp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},i="none";if(ft()&&(s=nb(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),ft()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Gw(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:f}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return le(s)?this._returnResult({error:s}):this._returnResult({error:new Ln("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,c;try{const u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=t==null?void 0:t.options)===null||c===void 0?void 0:c.captchaToken}},xform:sr}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,i,c;try{let u;if("email"in t){const{email:x,password:v,options:w}=t;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await vs(this.storage,this.storageKey)),u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:x,password:v,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:b},xform:sr})}else if("phone"in t){const{phone:x,password:v,options:w}=t;u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:v,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(c=w==null?void 0:w.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:sr})}else throw new io("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:d,options:f}=t;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Bf})}else if("phone"in t){const{phone:u,password:d,options:f}=t;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Bf})}else throw new io("You must provide either an email or phone number and a password");const{data:i,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const u=new gs;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,i,c,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,i,c,u,d,f,m,g,x,v,w;let _,b;if("message"in t)_=t.message,b=t.signature;else{const{chain:T,wallet:S,statement:A,options:D}=t;let P;if(ft())if(typeof S=="object")P=S;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")P=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=S}const U=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href),H=await P.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=sm(H[0]);let M=(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!M){const ae=await P.request({method:"eth_chainId"});M=Nb(ae)}const se={domain:U.host,address:O,statement:A,uri:U.href,version:"1",chainId:M,nonce:(c=D==null?void 0:D.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(u=D==null?void 0:D.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=D==null?void 0:D.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=D==null?void 0:D.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=D==null?void 0:D.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=D==null?void 0:D.signInWithEthereum)===null||x===void 0?void 0:x.resources};_=Pb(se),b=await P.request({method:"personal_sign",params:[Cb(_),O]})}try{const{data:T,error:S}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:b},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sr});if(S)throw S;if(!T||!T.session||!T.user){const A=new gs;return this._returnResult({data:{user:null,session:null},error:A})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:S})}catch(T){if(le(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var s,i,c,u,d,f,m,g,x,v,w,_;let b,T;if("message"in t)b=t.message,T=t.signature;else{const{chain:S,wallet:A,statement:D,options:P}=t;let U;if(ft())if(typeof A=="object")U=A;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))U=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=A}const H=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in U&&U.signIn){const O=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),D?{statement:D}:null));let M;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")M=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)M=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)b=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),T=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(c=(i=P==null?void 0:P.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((m=P==null?void 0:P.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((g=P==null?void 0:P.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((v=(x=P==null?void 0:P.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||v===void 0)&&v.length?["Resources",...P.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const O=await U.signMessage(new TextEncoder().encode(b),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=O}}try{const{data:S,error:A}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:zn(T)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:sr});if(A)throw A;if(!S||!S.session||!S.user){const D=new gs;return this._returnResult({data:{user:null,session:null},error:D})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:A})}catch(S){if(le(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const s=await An(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Jw;const{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:sr});if(await ht(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:d})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:i,token:c,access_token:u,nonce:d}=t,f=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:sr}),{data:m,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const x=new gs;return this._returnResult({data:{user:null,session:null},error:x})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,i,c,u,d;try{if("email"in t){const{email:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await vs(this.storage,this.storageKey));const{error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:f,options:m}=t,{data:g,error:x}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(c=m==null?void 0:m.data)!==null&&c!==void 0?c:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x})}throw new io("You must provide either an email or phone number.")}catch(f){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,i;try{let c,u;"options"in t&&(c=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:f}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:sr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var s,i,c,u,d;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await vs(this.storage,this.storageKey));const g=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=t==null?void 0:t.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:wb});return!((u=g.data)===null||u===void 0)&&u.url&&ft()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new Lt;const{error:c}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:c,options:u}=t,{error:d}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:i,type:c,options:u}=t,{data:d,error:f}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new io("You must provide either an email or phone number and a type")}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await An(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Pc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const d=await An(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=Ac()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=gb(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pn}):await this._useSession(async s=>{var i,c,u;const{data:d,error:f}=s;if(f)throw f;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:pn})})}catch(s){if(le(s))return Rc(s)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:c,error:u}=i;if(u)throw u;if(!c.session)throw new Lt;const d=c.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await vs(this.storage,this.storageKey));const{data:g,error:x}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:d.access_token,xform:pn});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lt;const s=Date.now()/1e3;let i=s,c=!0,u=null;const{payload:d}=lo(t.access_token);if(d.exp&&(i=d.exp,c=i<=s),c){const{data:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(le(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:d,error:f}=s;if(f)throw f;t=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Lt;const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!ft())throw new oo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new oo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new $f("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $f("No code detected.");const{data:D,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:u,refresh_token:d,expires_in:f,expires_at:m,token_type:g}=t;if(!u||!f||!d||!g)throw new oo("No session defined in URL");const x=Math.round(Date.now()/1e3),v=parseInt(f);let w=x+v;m&&(w=parseInt(m));const _=w-x;_*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const b=w-v;x-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,w,x):x-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,w,x);const{data:T,error:S}=await this._getUser(u);if(S)throw S;const A={provider_token:i,provider_refresh_token:c,access_token:u,expires_in:v,expires_at:w,refresh_token:d,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(i){if(le(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await An(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u&&!Rc(u))return this._returnResult({error:u});const d=(i=c.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(Kw(f)&&(f.status===404||f.status===401||f.status===403)||Rc(f)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=rb(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,c;try{const{data:{session:u},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await vs(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:i,error:c}=await this._useSession(async u=>{var d,f,m,g,x;const{data:v,error:w}=u;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",_,{headers:this.headers,jwt:(x=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return ft()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(le(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:u}}=s;if(c)throw c;const{options:d,provider:f,token:m,access_token:g,nonce:x}=t,v=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u==null?void 0:u.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:m,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:sr}),{data:w,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new gs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(c){if(await ht(this.storage,`${this.storageKey}-code-verifier`),le(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,c;const{data:u,error:d}=s;if(d)throw d;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await ib(async c=>(c>0&&await ab(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(c,u)=>{const d=200*Math.pow(2,c);return u&&Tc(u)&&Date.now()+d-i<Es})}catch(i){if(this._debug(s,"error",i),le(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),ft()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await An(this.storage,this.storageKey);if(c&&this.userStorage){let d=await An(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await Ns(this.userStorage,this.storageKey+"-user",d)),c.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:Ac()}else if(c&&!c.user&&!c.user){const d=await An(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(c.user=d.user,await ht(this.storage,this.storageKey+"-user"),await Ns(this.storage,this.storageKey,c)):c.user=Ac()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const u=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Pc;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Pc}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),Tc(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(c.access_token);!f&&(d!=null&&d.user)?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Io;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new Lt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(c,"error",u),le(u)){const d={data:null,error:u};return Tc(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,s,i=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Ns(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const u=Mf(c);await Ns(this.storage,this.storageKey,u)}else{const c=Mf(s);await Ns(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-t)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Es}ms, refresh threshold is ${nu} ticks`),c<=nu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await vs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(f.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);c.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;return u?this._returnResult({data:null,error:u}):await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,c;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:g}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&m.type==="totp"&&(!((c=m==null?void 0:m.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Lb(t.webauthn.credential_response):zb(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:m}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Ib(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:$b(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(t){var s,i,c,u;if(t)try{const{payload:_}=lo(t);let b=null;_.aal&&(b=_.aal);let T=b;const{data:{user:S},error:A}=await this.getUser(t);if(A)return this._returnResult({data:null,error:A});((i=(s=S==null?void 0:S.factors)===null||s===void 0?void 0:s.filter(U=>U.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(T="aal2");const P=_.amr||[];return{data:{currentLevel:b,nextLevel:T,currentAuthenticationMethods:P},error:null}}catch(_){if(le(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:d},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=lo(d.access_token);let g=null;m.aal&&(g=m.aal);let x=g;((u=(c=d.user.factors)===null||c===void 0?void 0:c.filter(_=>_.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(x="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:x,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Lt});const d=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&ft()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Lt});const d=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&ft()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Lt})})}catch(s){if(le(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(f=>f.kid===t);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(f=>f.kid===t),i&&this.jwks_cached_at+Hw>c)return i;const{data:u,error:d}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,i=u.keys.find(f=>f.kid===t),!i)?null:i}async getClaims(t,s={}){try{let i=t;if(!i){const{data:_,error:b}=await this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});i=_.session.access_token}const{header:c,payload:u,signature:d,raw:{header:f,payload:m}}=lo(i);s!=null&&s.allowExpired||fb(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:u,header:c,signature:d},error:null}}const x=pb(c.alg),v=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,v,d,eb(`${f}.${m}`)))throw new iu("Invalid JWT signature");return{data:{claims:u,header:c,signature:d},error:null}}catch(i){if(le(i))return this._returnResult({data:null,error:i});throw i}}}Da.nextInstanceID={};const Wb=Da,Kb="2.95.3";let Ea="";typeof Deno<"u"?Ea="deno":typeof document<"u"?Ea="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ea="react-native":Ea="node";const Gb={"X-Client-Info":`supabase-js-${Ea}/${Kb}`},Jb={headers:Gb},Qb={schema:"public"},Yb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xb={};function Ua(n){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(n)}function Zb(n,t){if(Ua(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,t);if(Ua(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function e_(n){var t=Zb(n,"string");return Ua(t)=="symbol"?t:t+""}function t_(n,t,s){return(t=e_(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Kf(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,i)}return s}function He(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Kf(Object(s),!0).forEach(function(i){t_(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Kf(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}const r_=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),n_=()=>Headers,s_=(n,t,s)=>{const i=r_(s),c=n_();return async(u,d)=>{var f;const m=(f=await t())!==null&&f!==void 0?f:n;let g=new c(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),i(u,He(He({},d),{},{headers:g}))}};function a_(n){return n.endsWith("/")?n:n+"/"}function i_(n,t){var s,i;const{db:c,auth:u,realtime:d,global:f}=n,{db:m,auth:g,realtime:x,global:v}=t,w={db:He(He({},m),c),auth:He(He({},g),u),realtime:He(He({},x),d),storage:{},global:He(He(He({},v),f),{},{headers:He(He({},(s=v==null?void 0:v.headers)!==null&&s!==void 0?s:{}),(i=f==null?void 0:f.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function o_(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var l_=class extends Wb{constructor(n){super(n)}},c_=class{constructor(n,t,s){var i,c;this.supabaseUrl=n,this.supabaseKey=t;const u=o_(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:Qb,realtime:Xb,auth:He(He({},Yb),{},{storageKey:d}),global:Jb},m=i_(s??{},f);if(this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(x,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=s_(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(He({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new Kx(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new Mw(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Ux(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,s)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,s;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(t=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:c,storageKey:u,flowType:d,lock:f,debug:m,throwOnError:g},x,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l_({url:this.authUrl.href,headers:He(He({},w),x),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:c,flowType:d,lock:f,debug:m,throwOnError:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new uw(this.realtimeUrl.href,He(He({},n),{},{params:He(He({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,t,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const u_=(n,t,s)=>new c_(n,t,s);function d_(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}d_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h_="https://lwtwfzeyggahoxofuwte.supabase.co",f_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx3dHdmemV5Z2dhaG94b2Z1d3RlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzMTc4MzMsImV4cCI6MjA4NTg5MzgzM30.Rpbrw2fN5AvFTz3k9K-J9QbkTE29bV8cFlcl5EE4r2E",qe=u_(h_,f_),pt={signUp:async(n,t,s,i)=>{const{data:c,error:u}=await qe.auth.signUp({email:n,password:t,options:{data:s,emailRedirectTo:i}});return{data:c,error:u}},signIn:async(n,t)=>{const{data:s,error:i}=await qe.auth.signInWithPassword({email:n,password:t});return{data:s,error:i}},signOut:async()=>{const{error:n}=await qe.auth.signOut();return{error:n}},resetPassword:async(n,t)=>{const{data:s,error:i}=await qe.auth.resetPasswordForEmail(n,{redirectTo:t});return{data:s,error:i}},verifyRecoveryToken:async n=>{const{data:t,error:s}=await qe.auth.verifyOtp({token_hash:n,type:"recovery"});return{data:t,error:s}},updatePassword:async n=>{const{data:t,error:s}=await qe.auth.updateUser({password:n});return{data:t,error:s}},resendConfirmation:async n=>{const{data:t,error:s}=await qe.auth.resend({type:"signup",email:n});return{data:t,error:s}},getCurrentUser:async()=>{const{data:{user:n}}=await qe.auth.getUser();return n},getSession:async()=>{const{data:{session:n}}=await qe.auth.getSession();return n},onAuthStateChange:n=>qe.auth.onAuthStateChange(n)},ka={getAll:async n=>{let t=qe.from("products").select("*");n!=null&&n.category&&(Array.isArray(n.category)?t=t.in("category",n.category):t=t.eq("category",n.category)),n!=null&&n.brand&&(Array.isArray(n.brand)?t=t.in("brand",n.brand):t=t.eq("brand",n.brand)),typeof(n==null?void 0:n.featured)=="boolean"&&(t=t.eq("featured",n.featured));const{data:s,error:i}=await t.order("created_at",{ascending:!1});return{data:s,error:i}},getById:async n=>{const{data:t,error:s}=await qe.from("products").select("*").eq("id",n).single();return{data:t,error:s}},create:async n=>{const{data:t,error:s}=await qe.from("products").insert([n]).select().single();return{data:t,error:s}},update:async(n,t)=>{const{data:s,error:i}=await qe.from("products").update(t).eq("id",n).select().single();return{data:s,error:i}},delete:async n=>{const{error:t}=await qe.from("products").update({deleted_at:new Date().toISOString()}).eq("id",n);return{error:t}}},ou={create:async n=>{const t=await pt.getCurrentUser();if(!t)return{data:null,error:{message:"Usuario nao autenticado"}};if(!(n!=null&&n.items)||n.items.length===0)return{data:null,error:{message:"Pedido sem itens"}};const{data:s,error:i}=await qe.from("orders").insert([{user_id:t.id,total:n.total,payment_method:n.payment_method,shipping_address:n.shipping_address,status:"pending"}]).select().single();if(i)return{data:null,error:i};const c=n.items.map(d=>({order_id:s.id,product_id:d.product_id,quantity:d.quantity,price:d.price})),{error:u}=await qe.from("order_items").insert(c);return u?(await qe.from("orders").delete().eq("id",s.id),{data:null,error:u}):{data:s,error:null}},getMyOrders:async()=>{const n=await pt.getCurrentUser();if(!n)return{data:[],error:{message:"Usuario nao autenticado"}};const{data:t,error:s}=await qe.from("orders").select(`
        *,
        order_items (
          *,
          products (*)
        )
      `).eq("user_id",n.id).order("created_at",{ascending:!1});return{data:t,error:s}},getById:async n=>{const{data:t,error:s}=await qe.from("orders").select(`
        *,
        order_items (
          *,
          products (*)
        )
      `).eq("id",n).single();return{data:t,error:s}},updateStatus:async(n,t)=>{const{data:s,error:i}=await qe.from("orders").update({status:t}).eq("id",n).select().single();return{data:s,error:i}}},co={get:async()=>{const n=await pt.getCurrentUser();if(!n)return{data:null,error:{message:"Usuario nao autenticado"}};const{data:t,error:s}=await qe.from("profiles").select("*").eq("id",n.id).single();return{data:t,error:s}},update:async n=>{const t=await pt.getCurrentUser();if(!t)return{data:null,error:{message:"Usuario nao autenticado"}};const{data:s,error:i}=await qe.from("profiles").update(n).eq("id",t.id).select().single();return{data:s,error:i}}};function im(n){if(!n)return null;const t=n.user_metadata||{},s=t.role==="admin"?"admin":"client";return{id:n.id,name:t.name||n.email||"",cpf:t.cpf||"",phone:t.phone||"",role:s,address:t.address}}function Ic(n,t){return t||im(n)}const vr=$s()(n=>({user:null,profile:null,isAuthenticated:!1,loading:!0,login:async(t,s)=>{n({loading:!0});try{const i=t.trim().toLowerCase(),{data:c,error:u}=await pt.signIn(i,s);if(u)throw u;if(!c.user||!c.session)throw new Error("Nao foi possivel criar a sessao de login.");const{data:d}=await co.get(),f=Ic(c.user,d??null);n({user:c.user,profile:f,isAuthenticated:!0,loading:!1})}catch(i){throw n({loading:!1}),i}},register:async(t,s,i,c="",u="")=>{n({loading:!0});try{const d=s.trim().toLowerCase(),f={name:t.trim(),cpf:c.trim(),phone:u.trim()},m=new URL("/",window.location.origin).toString(),{data:g,error:x}=await pt.signUp(d,i,f,m);if(x)throw x;const v=!g.session;let w=im(g.user);if(g.session){const{data:_}=await co.get();w=Ic(g.user,_??null)}return n({user:g.user,profile:w,isAuthenticated:!!g.session,loading:!1}),{requiresEmailConfirmation:v}}catch(d){throw n({loading:!1}),d}},logout:async()=>{await pt.signOut(),n({user:null,profile:null,isAuthenticated:!1})},updateProfile:async t=>{try{const{data:s}=await co.update(t);n({profile:s})}catch(s){throw s}},checkAuth:async()=>{n({loading:!0});try{const t=await pt.getCurrentUser();if(t){const{data:s}=await co.get(),i=Ic(t,s??null);n({user:t,profile:i,isAuthenticated:!0,loading:!1})}else n({user:null,profile:null,isAuthenticated:!1,loading:!1})}catch{n({user:null,profile:null,isAuthenticated:!1,loading:!1})}}}));function p_(n,t){let s;try{s=n()}catch{return}return{getItem:c=>{var u;const d=m=>m===null?null:JSON.parse(m,void 0),f=(u=s.getItem(c))!=null?u:null;return f instanceof Promise?f.then(d):d(f)},setItem:(c,u)=>s.setItem(c,JSON.stringify(u,void 0)),removeItem:c=>s.removeItem(c)}}const lu=n=>t=>{try{const s=n(t);return s instanceof Promise?s:{then(i){return lu(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return lu(i)(s)}}}},m_=(n,t)=>(s,i,c)=>{let u={storage:p_(()=>window.localStorage),partialize:S=>S,version:0,merge:(S,A)=>({...A,...S}),...t},d=!1,f=0;const m=new Set,g=new Set;let x=u.storage;if(!x)return n((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),s(...S)},i,c);const v=()=>{const S=u.partialize({...i()});return x.setItem(u.name,{state:S,version:u.version})},w=c.setState;c.setState=(S,A)=>(w(S,A),v());const _=n((...S)=>(s(...S),v()),i,c);c.getInitialState=()=>_;let b;const T=()=>{var S,A;if(!x)return;const D=++f;d=!1,m.forEach(U=>{var H;return U((H=i())!=null?H:_)});const P=((A=u.onRehydrateStorage)==null?void 0:A.call(u,(S=i())!=null?S:_))||void 0;return lu(x.getItem.bind(x))(u.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==u.version){if(u.migrate){const H=u.migrate(U.state,U.version);return H instanceof Promise?H.then(O=>[!0,O]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var H;if(D!==f)return;const[O,M]=U;if(b=u.merge(M,(H=i())!=null?H:_),s(b,!0),O)return v()}).then(()=>{D===f&&(P==null||P(b,void 0),b=i(),d=!0,g.forEach(U=>U(b)))}).catch(U=>{D===f&&(P==null||P(void 0,U))})};return c.persist={setOptions:S=>{u={...u,...S},S.storage&&(x=S.storage)},clearStorage:()=>{x==null||x.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>T(),hasHydrated:()=>d,onHydrate:S=>(m.add(S),()=>{m.delete(S)}),onFinishHydration:S=>(g.add(S),()=>{g.delete(S)})},u.skipHydration||T(),b||_},$o=m_,Gf={cartAddedAt:null,purchaseCompletedAt:null,paymentApprovedAt:null,orderOnTheWayAt:null},uo=()=>new Date().toISOString(),Co=$s()($o((n,t)=>({flags:Gf,notifiedShippedOrderIds:[],notifyCartAdded:s=>{n(i=>({flags:{...i.flags,cartAddedAt:uo()}})),eo.success(s?`${s} adicionado ao carrinho.`:"Produto adicionado ao carrinho.",{id:"cart-added"})},notifyPurchaseCompleted:s=>{n(c=>({flags:{...c.flags,purchaseCompletedAt:uo()}}));const i=s?` Pedido #${s.slice(0,8)}.`:"";eo.success(`Pedido finalizado com sucesso!${i}`,{id:"purchase-completed"})},notifyPaymentApproved:(s,i)=>{n(d=>({flags:{...d.flags,paymentApprovedAt:uo()}}));const c=s?` Pedido #${s.slice(0,8)}.`:"",u=i?` via ${i}`:"";eo.success(`Pagamento aprovado${u}!${c}`,{id:s?`payment-approved-${s}`:"payment-approved"})},notifyOrderOnTheWay:s=>{const i=s.trim();i&&(t().notifiedShippedOrderIds.includes(i)||(n(c=>({flags:{...c.flags,orderOnTheWayAt:uo()},notifiedShippedOrderIds:[...c.notifiedShippedOrderIds,i]})),eo.info(`Pedido #${i.slice(0,8)} esta a caminho.`,{id:`order-on-the-way-${i}`})))},clearFlags:()=>{n({flags:Gf})}}),{name:"notifications-storage",partialize:n=>({flags:n.flags,notifiedShippedOrderIds:n.notifiedShippedOrderIds})})),g_=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function v_(n){return!(!n||typeof n!="object"||!n.product||typeof n.product!="object"||typeof n.product.id!="string"||!g_.test(n.product.id)||typeof n.quantity!="number"||n.quantity<=0)}const Fn=$s()($o((n,t)=>({items:[],addItem:(s,i=1)=>{const c=t().items,u=c.find(d=>d.product.id===s.id);n(u?{items:c.map(d=>d.product.id===s.id?{...d,quantity:d.quantity+i}:d)}:{items:[...c,{product:s,quantity:i}]}),Co.getState().notifyCartAdded(`${s.brand} ${s.model}`.trim())},removeItem:s=>{n({items:t().items.filter(i=>i.product.id!==s)})},updateQuantity:(s,i)=>{if(i<=0){t().removeItem(s);return}n({items:t().items.map(c=>c.product.id===s?{...c,quantity:i}:c)})},clearCart:()=>{n({items:[]})},getTotalItems:()=>t().items.reduce((s,i)=>s+i.quantity,0),getTotalPrice:()=>t().items.reduce((s,i)=>s+i.product.price*i.quantity,0)}),{name:"cart-storage",version:2,migrate:n=>!n||!Array.isArray(n.items)?{items:[]}:{...n,items:n.items.filter(t=>v_(t))}})),gr={storeName:"Pneus Preojusto",storeSlogan:"Especialistas em Pneus desde 2010",storeDescription:"Qualidade, segurana e preos competitivos para todos os tipos de veculos.",storeLogo:"",primaryFont:"Inter",headingFont:"Inter",contentWidth:"boxed",phone:"(11) 99999-9999",email:"contato@pneusprecojusto.com.br",address:"So Paulo, SP - Brasil",whatsapp:"5511999999999",facebook:"",instagram:"",primaryColor:"#FDB913",secondaryColor:"#00A651",accentColor:"#FFD700",darkBg:"#1a1a1a",layoutStyle:"split",heroAlignment:"left",productCardStyle:"glass",galleryLayout:"grid",bannerOverlay:!0,heroTitle:"Pneus com Preo Justo e Qualidade Garantida",heroSubtitle:"Especialistas em Pneus desde 2010",heroDescription:"Amplo catlogo de pneus das principais marcas do mercado. Especificaes tcnicas completas, preos competitivos e entrega em todo Brasil.",heroBadge:"Especialistas em Pneus desde 2010",galleryTitle:"Mais Vendidos",galleryDescription:"Coleo dinmica com grades, masonry ou carrossel.",heroImage:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800",bannerImage:"",features:[{icon:"Shield",title:"Certificao e Garantia",description:"Produtos certificados INMETRO com garantia de fbrica. Procedncia garantida e nota fiscal."},{icon:"Truck",title:"Logstica Nacional",description:"Entrega para todo Brasil com rastreamento. Prazos competitivos e embalagem reforada."},{icon:"CreditCard",title:"Condies Especiais",description:"Parcelamento em at 12x sem juros. Aceitamos carto, PIX com desconto e boleto bancrio."},{icon:"Award",title:"Marcas Homologadas",description:"Goodyear, Michelin, Pirelli, Continental, Bridgestone. Certificao internacional."}],ctaTitle:"Encontre o Pneu Ideal para seu Veculo",ctaDescription:"Catlogo completo com especificaes tcnicas detalhadas e preos competitivos",ctaButtonText:"Acessar Catlogo Completo",ctaVariant:"solid",metaTitle:"Pneus Preojusto | Encontre o Pneu Ideal",metaDescription:"Especialistas em pneus desde 2010. Qualidade, segurana e preos competitivos para todos os tipos de veculos.",metaKeywords:"pneus, pneus online, comprar pneus, goodyear, michelin, pirelli",smartRecommendations:!0,autoFeatureLowStock:!0,allowExternalImageLinks:!0},y_=gr.whatsapp,x_=/pneus\s*pre[c]o\s*justo/i;function Jf(n){return n.replace(/\D/g,"")}function Qf(n){return n.replace(/Pneus\.PreoJusto/gi,"Pneus Preojusto").replace(/Pneus\.PrecoJusto/gi,"Pneus Preojusto").replace(/Pneus PreoJusto/gi,"Pneus Preojusto").replace(/Pneus PrecoJusto/gi,"Pneus Preojusto")}function ho(n){const t=Jf(n.whatsapp||""),s=Jf(n.phone||""),i=Qf(n.storeName||""),c=x_.test(i);return{...n,storeName:c?i:gr.storeName,storeSlogan:c?n.storeSlogan:gr.storeSlogan,storeDescription:c?n.storeDescription:gr.storeDescription,phone:s?n.phone:gr.phone,email:c?n.email:gr.email,address:c?n.address:gr.address,whatsapp:t||y_,metaTitle:Qf(n.metaTitle||gr.metaTitle)}}const _u=$s()($o(n=>({config:ho(gr),updateConfig:t=>{n(s=>({config:ho({...s.config,...t})}))},resetConfig:()=>{n({config:ho(gr)})}}),{name:"site-config-storage",merge:(n,t)=>{const s=n??{},i=ho({...t.config,...s.config??{}});return{...t,...s,config:i}}})),w_=["Agate","Aptany","Bridgestone","Continental","Cooper","Goodyear","Michelin","Pirelli","Triangle","Xbri","Yokohama"].map(n=>({label:n,to:`/marcas/${encodeURIComponent(n.toLowerCase())}`})),b_=[{label:"Kit de Pneus",to:"/products?search=kit"},{label:"Marcas",to:"/marcas",submenu:w_},{label:"Caminhonete e SUV",to:"/products?category=suv",submenu:[{label:"Caminhonete",to:"/products?category=caminhonete"},{label:"SUV",to:"/products?category=suv"}]},{label:"Van e Utilitario",to:"/products?category=van"},{label:"Moto",to:"/products?category=moto",submenu:[{label:"Pneu Urbano",to:"/products?category=moto&season=summer"},{label:"Pneu Off-Road",to:"/products?category=moto&search=off-road"},{label:"Pneu Trail",to:"/products?category=moto&search=trail"}]},{label:"Caminhao e Onibus",to:"/products?search=caminhao"},{label:"Agricola e OTR",to:"/products?search=agricola",submenu:[{label:"Agricola",to:"/products?search=agricola"},{label:"OTR",to:"/products?search=otr"}]},{label:"Camaras de Ar",to:"/products?search=camara"}],__=[{label:"Kit de Pneus",to:"/products?search=kit"},{label:"Marcas",to:"/marcas"},{label:"Caminhonete e SUV",to:"/products?category=suv"},{label:"Van e Utilitario",to:"/products?category=van"},{label:"Moto",to:"/products?category=moto"},{label:"Caminhao e Onibus",to:"/products?search=caminhao"},{label:"Agricola e OTR",to:"/products?search=agricola"},{label:"Camaras de Ar",to:"/products?search=camara"}];function k_(n){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n)}function j_(){const[n,t]=E.useState(!1),[s,i]=E.useState(!1),[c,u]=E.useState(""),d="/logo.png",{isAuthenticated:f,user:m,profile:g,logout:x}=vr(),{getTotalItems:v,getTotalPrice:w}=Fn(),{config:_}=_u(),b=Rt(),T=v(),S=w(),A=(g==null?void 0:g.name)||(m==null?void 0:m.email)||"Minha Conta",D=E.useMemo(()=>{const O="5511999999999";return(_.whatsapp||O).replace(/\D/g,"")||O},[_.whatsapp]);E.useEffect(()=>{if(!n){document.body.style.overflow="unset";return}return document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}},[n]),E.useEffect(()=>{const O=M=>{M.key==="Escape"&&(t(!1),i(!1))};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[]);const P=()=>{t(!1),i(!1)},U=O=>{O.preventDefault();const M=c.trim();b(M?`/products?search=${encodeURIComponent(M)}`:"/products"),u(""),P()},H=async()=>{await x(),P(),b("/")};return o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"tray-topbar",children:o.jsxs("div",{className:"container tray-topbar-content",children:[o.jsxs("div",{className:"tray-topbar-left",children:[o.jsxs(_e,{to:"/shipping",className:"tray-topbar-link",children:[o.jsx(xu,{size:14}),o.jsx("span",{children:"Frete Gratis. Ver regras *"})]}),o.jsxs("span",{className:"tray-topbar-item",children:[o.jsx(_x,{size:14}),o.jsx("span",{children:"Entrega Garantida"})]}),o.jsxs("span",{className:"tray-topbar-item",children:[o.jsx(K0,{size:14}),o.jsxs("span",{children:["Precisa de Ajuda?",o.jsxs("a",{href:`https://wa.me/${D}`,target:"_blank",rel:"noopener noreferrer",className:"tray-topbar-whatsapp",children:[" ","WhatsApp"]})]})]})]}),o.jsxs("div",{className:"tray-topbar-right",children:[o.jsx(_e,{to:"/orders",className:"tray-topbar-cta",children:"Meus Pedidos"}),o.jsx(_e,{to:f?"/account":"/login",className:"tray-topbar-cta",children:"Minha Conta"})]})]})}),o.jsxs("header",{className:"tray-header",children:[o.jsxs("div",{className:"container tray-header-main",children:[o.jsx("button",{type:"button",className:"tray-mobile-menu-btn","aria-label":"Abrir menu",onClick:()=>t(O=>!O),children:n?o.jsx(jo,{size:22}):o.jsx(lx,{size:22})}),o.jsxs(_e,{to:"/",className:"tray-logo",onClick:P,children:[o.jsx("img",{src:d,alt:"Pneus Preojusto",className:"tray-logo-image",onError:O=>{O.currentTarget.style.display="none"}}),o.jsx("span",{className:"tray-logo-fallback",children:"Pneus Preojusto"})]}),o.jsxs("form",{className:"tray-search",onSubmit:U,children:[o.jsx("input",{type:"text",placeholder:"O que voce procura?",value:c,onChange:O=>u(O.target.value),"aria-label":"Buscar produtos"}),o.jsx("button",{type:"submit","aria-label":"Buscar",children:o.jsx(Qc,{size:18})})]}),o.jsxs("div",{className:"tray-header-actions",children:[o.jsxs("div",{className:"tray-account",children:[o.jsxs("button",{type:"button",className:"tray-account-button",onClick:()=>i(O=>!O),"aria-label":"Abrir menu da conta",children:[o.jsx(ko,{size:20}),o.jsxs("span",{className:"tray-account-label",children:[o.jsx("span",{children:f?"Minha Conta":"Entre ou Cadastre-se"}),o.jsx("strong",{children:f?A:"Acesse sua conta"})]}),o.jsx(Jc,{size:16})]}),s&&o.jsx("div",{className:"tray-account-dropdown",children:f?o.jsxs(o.Fragment,{children:[o.jsxs(_e,{to:"/account",onClick:P,children:[o.jsx(ko,{size:15}),"Minha Conta"]}),o.jsxs(_e,{to:"/orders",onClick:P,children:[o.jsx(_o,{size:15}),"Meus Pedidos"]}),(g==null?void 0:g.role)==="admin"&&o.jsxs(_e,{to:"/dashboard",onClick:P,children:[o.jsx(Fp,{size:15}),"Painel Admin"]}),o.jsxs("button",{type:"button",onClick:H,children:[o.jsx(sx,{size:15}),"Sair"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(_e,{to:"/login",onClick:P,children:"Entrar"}),o.jsx(_e,{to:"/register",onClick:P,children:"Cadastre-se"})]})})]}),o.jsxs(_e,{to:"/cart",className:"tray-cart",onClick:P,children:[o.jsxs("span",{className:"tray-cart-icon",children:[o.jsx(Mn,{size:20}),o.jsx("em",{children:T})]}),o.jsxs("span",{className:"tray-cart-text",children:[o.jsxs("small",{children:["Meus Itens (",T,")"]}),o.jsx("strong",{children:k_(S)})]})]})]})]}),o.jsx("div",{className:"tray-nav-wrap",children:o.jsx("div",{className:"container",children:o.jsx("nav",{className:"tray-nav","aria-label":"Menu principal",children:o.jsx("ul",{children:b_.map(O=>o.jsxs("li",{className:O.submenu?"has-submenu":"",children:[o.jsxs(_e,{to:O.to,onClick:P,children:[o.jsx("span",{children:O.label}),O.submenu&&o.jsx(Jc,{size:14})]}),O.submenu&&o.jsx("div",{className:"tray-submenu",children:o.jsx("ul",{children:O.submenu.map(M=>o.jsx("li",{children:o.jsx(_e,{to:M.to,onClick:P,children:M.label})},M.label))})})]},O.label))})})})})]}),o.jsx("div",{className:`tray-mobile-overlay ${n?"is-open":""}`,onClick:P}),o.jsxs("aside",{className:`tray-mobile-drawer ${n?"is-open":""}`,"aria-hidden":!n,children:[o.jsxs("div",{className:"tray-mobile-header",children:[o.jsx(_e,{to:"/",className:"tray-mobile-logo",onClick:P,children:o.jsx("img",{src:d,alt:"Pneus Preojusto",onError:O=>{O.currentTarget.style.display="none"}})}),o.jsx("p",{children:"Ola! Seja bem-vindo."})]}),o.jsxs("form",{className:"tray-mobile-search",onSubmit:U,children:[o.jsx("input",{type:"text",placeholder:"Buscar produtos",value:c,onChange:O=>u(O.target.value)}),o.jsx("button",{type:"submit","aria-label":"Buscar",children:o.jsx(Qc,{size:17})})]}),o.jsx("div",{className:"tray-mobile-auth",children:f?o.jsxs(o.Fragment,{children:[o.jsx(_e,{to:"/account",onClick:P,children:"Minha Conta"}),o.jsx("button",{type:"button",onClick:H,children:"Sair"})]}):o.jsxs(o.Fragment,{children:[o.jsx(_e,{to:"/login",onClick:P,children:"Login"}),o.jsx(_e,{to:"/register",onClick:P,children:"Cadastre-se"})]})}),o.jsx("nav",{className:"tray-mobile-nav","aria-label":"Menu mobile",children:o.jsx("ul",{children:__.map(O=>o.jsx("li",{children:o.jsx(_e,{to:O.to,onClick:P,children:O.label})},O.label))})}),o.jsxs("div",{className:"tray-mobile-footer",children:[o.jsx("p",{children:o.jsx("strong",{children:"Precisa de ajuda?"})}),o.jsx("a",{href:`https://wa.me/${D}`,target:"_blank",rel:"noopener noreferrer",children:"WhatsApp"}),o.jsx(_e,{to:"/orders",onClick:P,children:"Meus Pedidos"})]})]})]})}const S_=[{label:"Quem somos",to:"/about"},{label:"Seguranca",to:"/privacy"},{label:"Frete e Entrega",to:"/shipping"},{label:"Pagamento",to:"/terms"},{label:"Depoimento de Clientes",to:"/faq"}],E_=[{label:"Politica de Troca e Devolucao",to:"/returns"},{label:"Politica de Reembolso",to:"/returns"},{label:"Politica de Garantia",to:"/warranty"},{label:"Politica de Privacidade",to:"/privacy"},{label:"Contato",to:"/about"}],N_=[{label:"Login",to:"/login"},{label:"Cadastre-se",to:"/register"},{label:"Meu Carrinho",to:"/cart"},{label:"Meus Pedidos",to:"/orders"}],C_=[{name:"Visa",src:"https://images.tcdn.com.br/commerce/assets/store/img/icons/formas_pagamento/pag_peqcartavisatraycheckout.png"},{name:"Mastercard",src:"https://images.tcdn.com.br/commerce/assets/store/img/icons/formas_pagamento/pag_peqmastercardtraycheckout.png"},{name:"Diners",src:"https://images.tcdn.com.br/commerce/assets/store/img/icons/formas_pagamento/pag_peqdinerstraycheckout.png"},{name:"Elo",src:"https://images.tcdn.com.br/commerce/assets/store/img/icons/formas_pagamento/pag_peqelotraycheckout.png"},{name:"Boleto",src:"https://images.tcdn.com.br/commerce/assets/store/img/icons/formas_pagamento/pag_peqboletotraycheckout.png"},{name:"PIX",src:"https://images.tcdn.com.br/commerce/assets/store/img/icons/formas_pagamento/pag_peqpix.png"}],P_=[{name:"Compra Segura",src:"https://images.tcdn.com.br/files/1063462/themes/154/img/compra-segura-site-protegido.png"},{name:"Reclame Aqui",src:"https://images.tcdn.com.br/files/1063462/themes/154/img/loja-verificada-reclame-aqui.png"},{name:"Loja Protegida",src:"https://images.tcdn.com.br/commerce/assets/store/img/selo_lojaprotegida.gif"},{name:"Google Avaliacoes",src:"https://images.tcdn.com.br/files/1063462/themes/154/img/avaliacoes-google.png"}],Yf="pneusloja-cookie-consent";function R_(){const{config:n}=_u(),t=new Date().getFullYear(),[s,i]=E.useState(""),[c,u]=E.useState("idle"),[d,f]=E.useState(!1),m="/logo.png",g=E.useMemo(()=>{const w="5511999999999";return(n.whatsapp||w).replace(/\D/g,"")||w},[n.whatsapp]);E.useEffect(()=>{window.localStorage.getItem(Yf)||f(!0)},[]);const x=w=>{w.preventDefault(),s.trim()&&(u("success"),i(""),window.setTimeout(()=>{u("idle")},2800))},v=()=>{window.localStorage.setItem(Yf,"accepted"),f(!1)};return o.jsxs("footer",{className:"tray-footer",children:[o.jsx("section",{className:"tray-newsletter",children:o.jsxs("div",{className:"container tray-newsletter-content",children:[o.jsxs("div",{className:"tray-newsletter-copy",children:[o.jsx("div",{className:"tray-newsletter-icon","aria-hidden":"true",children:o.jsx(Dn,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{children:"Newsletter"}),o.jsx("p",{children:"As melhores ofertas direto no seu e-mail."})]})]}),o.jsxs("form",{className:"tray-newsletter-form",onSubmit:x,children:[o.jsx("label",{htmlFor:"footer-newsletter-email",children:"Informe seu e-mail"}),o.jsxs("div",{className:"tray-newsletter-input-wrap",children:[o.jsx("input",{id:"footer-newsletter-email",type:"email",value:s,onChange:w=>i(w.target.value),placeholder:"Seu melhor e-mail",required:!0}),o.jsx("button",{type:"submit",children:"Enviar"})]}),c==="success"&&o.jsx("span",{children:"Cadastro realizado com sucesso."})]})]})}),o.jsx("section",{className:"tray-footer-main",children:o.jsx("div",{className:"container",children:o.jsxs("div",{className:"tray-footer-grid",children:[o.jsxs("div",{className:"tray-footer-column tray-footer-contact",children:[o.jsx("h4",{children:"Entre em Contato"}),o.jsxs("ul",{children:[o.jsx("li",{children:o.jsxs("a",{href:`https://wa.me/${g}`,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(xf,{size:16}),"WhatsApp: ",n.phone]})}),o.jsx("li",{children:o.jsxs("a",{href:`mailto:${n.email}`,children:[o.jsx(Dn,{size:16}),n.email]})}),o.jsx("li",{children:o.jsxs("span",{children:[o.jsx(Mp,{size:16}),"Segunda a Sexta: 07h as 17h30"]})}),o.jsx("li",{children:o.jsxs("span",{children:[o.jsx(Up,{size:16}),n.address]})})]})]}),o.jsxs("div",{className:"tray-footer-column",children:[o.jsx("h4",{children:"Institucional"}),o.jsx("ul",{children:S_.map(w=>o.jsx("li",{children:o.jsx(_e,{to:w.to,children:w.label})},w.label))})]}),o.jsxs("div",{className:"tray-footer-column",children:[o.jsx("h4",{children:"Ajuda"}),o.jsx("ul",{children:E_.map(w=>o.jsx("li",{children:o.jsx(_e,{to:w.to,children:w.label})},w.label))})]}),o.jsxs("div",{className:"tray-footer-column",children:[o.jsx("h4",{children:"Minha Conta"}),o.jsx("ul",{children:N_.map(w=>o.jsx("li",{children:o.jsx(_e,{to:w.to,children:w.label})},w.label))})]})]})})}),o.jsx("section",{className:"tray-footer-badges-strip",children:o.jsx("div",{className:"container",children:o.jsxs("ul",{className:"tray-footer-badges-list",children:[o.jsxs("li",{className:"tray-footer-badges-item",children:[o.jsx("h6",{children:"Meios de Pagamento:"}),o.jsx("ul",{className:"tray-payment-list tray-payment-list-images",children:C_.map(w=>o.jsx("li",{title:w.name,className:"payment-image-item",children:o.jsx("img",{src:w.src,alt:w.name,loading:"lazy"})},w.name))})]}),o.jsxs("li",{className:"tray-footer-badges-item",children:[o.jsx("h6",{children:"Selos:"}),o.jsxs("ul",{className:"tray-payment-list tray-payment-list-images tray-security-list",children:[P_.map(w=>o.jsx("li",{title:w.name,className:"payment-image-item seal-image-item",children:o.jsx("img",{src:w.src,alt:w.name,loading:"lazy"})},w.name)),o.jsx("li",{className:"tray-google-safe",children:o.jsxs("div",{className:"tray-google-safe-badge",title:"Google Safe Browsing",children:[o.jsx(xo,{size:14}),o.jsx("span",{children:"Google Safe Browsing"})]})})]})]})]})})}),o.jsx("section",{className:"tray-footer-bottom",children:o.jsxs("div",{className:"container tray-footer-bottom-content",children:[o.jsxs("div",{className:"tray-footer-brand",children:[o.jsx("img",{src:m,alt:"Pneus Preojusto",onError:w=>{w.currentTarget.style.display="none"}}),o.jsxs("p",{children:["Copyright ",t," ",n.storeName,". Todos os direitos reservados. Precos e estoque sujeitos a alteracoes sem aviso previo."]})]}),o.jsxs("div",{className:"tray-footer-social",children:[o.jsx("a",{href:n.facebook||"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:o.jsx(F0,{size:18})}),o.jsx("a",{href:n.instagram||"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:o.jsx(Q0,{size:18})}),o.jsx("a",{href:`mailto:${n.email}`,"aria-label":"Email",children:o.jsx(Dn,{size:18})})]})]})}),d&&o.jsxs("div",{className:"tray-cookie-consent",role:"dialog","aria-live":"polite",children:[o.jsx("p",{children:"Utilizamos cookies para oferecer melhor experiencia, melhorar desempenho e personalizar conteudo. Ao continuar navegando, voce concorda com o uso de cookies."}),o.jsx("button",{type:"button",onClick:v,children:"Entendi"})]}),o.jsx("a",{href:`https://wa.me/${g}`,target:"_blank",rel:"noopener noreferrer",className:"tray-whatsapp-float","aria-label":"Fale no WhatsApp",children:o.jsx(xf,{size:24})})]})}function un({children:n}){const{isAuthenticated:t,loading:s}=vr();return s?null:t?o.jsx(o.Fragment,{children:n}):o.jsx(gn,{to:"/login",replace:!0})}function Xf({children:n}){const{isAuthenticated:t,loading:s,profile:i}=vr();return s?null:t?(i==null?void 0:i.role)!=="admin"?o.jsx(gn,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:n}):o.jsx(gn,{to:"/login",replace:!0})}function $c({children:n}){const{isAuthenticated:t,loading:s,profile:i}=vr();return s?null:t?(i==null?void 0:i.role)==="admin"?o.jsx(gn,{to:"/dashboard",replace:!0}):o.jsx(gn,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:n})}const Lc={width:[],profile:[],diameter:[],brand:[],category:[],season:[],minPrice:0,maxPrice:1e5,runflat:null,featured:null,search:""},T_={passeio:"passeio",automovel:"passeio",automoveis:"passeio",suv:"suv","suv e 4x4":"suv",caminhonete:"caminhonete",caminhonetes:"caminhonete",van:"van",vans:"van",utilitario:"van",utilitarios:"van",moto:"moto",motos:"moto"},A_={"all season":"all-season","all-season":"all-season",allseason:"all-season",verao:"summer",summer:"summer",inverno:"winter",winter:"winter"};function Tr(n){return String(n??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function Lo(n){const t=Tr(n);return T_[t]??t}function zo(n){const t=Tr(n);return A_[t]??t}function fn(n,t=s=>s){if(!Array.isArray(n))return[];const s=[],i=new Set;for(const c of n){const u=t(String(c??"").trim());if(!u)continue;const d=Tr(u);i.has(d)||(i.add(d),s.push(u))}return s}function ja(n){const t=Lo(n.category),s=zo(n.season);return{...n,brand:String(n.brand??"").trim(),model:String(n.model??"").trim(),width:String(n.width??"").trim(),profile:String(n.profile??"").trim(),diameter:String(n.diameter??"").trim(),load_index:String(n.load_index??"").trim(),speed_rating:String(n.speed_rating??"").trim(),price:Number(n.price)||0,old_price:n.old_price?Number(n.old_price):void 0,stock:Number(n.stock)||0,image:String(n.image??"").trim()||"https://images.unsplash.com/photo-1606937933187-6f42b29de806?w=400&h=400&fit=crop",features:fn(n.features,i=>i.trim()),category:t,season:s,runflat:!!n.runflat,featured:!!n.featured,description:String(n.description??"").trim(),created_at:n.created_at,updated_at:n.updated_at}}function Zf(n){const t={...n};if(n.brand!==void 0&&(t.brand=String(n.brand).trim()),n.model!==void 0&&(t.model=String(n.model).trim()),n.width!==void 0&&(t.width=String(n.width).trim()),n.profile!==void 0&&(t.profile=String(n.profile).trim()),n.diameter!==void 0&&(t.diameter=String(n.diameter).trim()),n.load_index!==void 0&&(t.load_index=String(n.load_index).trim()),n.speed_rating!==void 0&&(t.speed_rating=String(n.speed_rating).trim()),n.image!==void 0&&(t.image=String(n.image).trim()),n.description!==void 0&&(t.description=String(n.description).trim()),n.price!==void 0&&(t.price=Number(n.price)),n.old_price!==void 0){const s=Number(n.old_price);t.old_price=Number.isFinite(s)&&s>0?s:void 0}return n.stock!==void 0&&(t.stock=Math.max(0,Number(n.stock)||0)),n.category!==void 0&&(t.category=Lo(n.category)),n.season!==void 0&&(t.season=zo(n.season)),n.features!==void 0&&(t.features=fn(n.features,s=>s.trim())),t}function ep(n,t){const s={...n,...t};return{...s,width:fn(s.width,i=>i.trim()),profile:fn(s.profile,i=>i.trim()),diameter:fn(s.diameter,i=>i.trim()),brand:fn(s.brand,i=>i.trim()),category:fn(s.category,i=>Lo(i)),season:fn(s.season,i=>zo(i)),search:String(s.search??"").trim(),minPrice:Number(s.minPrice)||0,maxPrice:Number(s.maxPrice)||1e5}}function mr(n,t){let s=[...n];if(t.search){const i=Tr(t.search);s=s.filter(c=>{const u=`${c.width}/${c.profile}r${c.diameter}`;return Tr(c.brand).includes(i)||Tr(c.model).includes(i)||Tr(u).includes(i)})}if(t.width.length>0&&(s=s.filter(i=>t.width.includes(i.width))),t.profile.length>0&&(s=s.filter(i=>t.profile.includes(i.profile))),t.diameter.length>0&&(s=s.filter(i=>t.diameter.includes(i.diameter))),t.brand.length>0){const i=t.brand.map(c=>Tr(c));s=s.filter(c=>i.includes(Tr(c.brand)))}if(t.category.length>0){const i=t.category.map(c=>Lo(c));s=s.filter(c=>i.includes(c.category))}if(t.season.length>0){const i=t.season.map(c=>zo(c));s=s.filter(c=>i.includes(c.season))}return s=s.filter(i=>i.price>=t.minPrice&&i.price<=t.maxPrice),t.runflat!==null&&(s=s.filter(i=>i.runflat===t.runflat)),t.featured!==null&&(s=s.filter(i=>i.featured===t.featured)),s}const qa=$s((n,t)=>({products:[],filteredProducts:[],loading:!1,initialized:!1,error:null,filters:Lc,setProducts:s=>n(i=>{const c=s.map(ja);return{products:c,filteredProducts:mr(c,i.filters),initialized:!0,error:null}}),setLoading:s=>n({loading:s}),setFilters:s=>n(i=>{const c=ep(i.filters,s);return{filters:c,filteredProducts:mr(i.products,c)}}),resetFilters:()=>n(s=>({filters:Lc,filteredProducts:mr(s.products,Lc)})),setSearchQuery:s=>n(i=>{const c=ep(i.filters,{search:s});return{filters:c,filteredProducts:mr(i.products,c)}}),fetchProducts:async(s=!1)=>{const{loading:i}=t();if(!(!s&&i)){n({loading:!0});try{const{data:c,error:u}=await ka.getAll();if(u)throw u;const d=(c||[]).map(ja);n(f=>({products:d,filteredProducts:mr(d,f.filters),loading:!1,initialized:!0,error:null}))}catch(c){console.error("Erro ao buscar produtos:",c),n({loading:!1,initialized:!1,error:"Nao foi possivel carregar os produtos."})}}},refreshProducts:async()=>{await t().fetchProducts(!0)},fetchProductById:async s=>{const i=t().products.find(f=>f.id===s);if(i)return i;const{data:c,error:u}=await ka.getById(s);if(u||!c)return null;const d=ja(c);return n(f=>{const g=f.products.some(x=>x.id===d.id)?f.products.map(x=>x.id===d.id?d:x):[...f.products,d];return{products:g,filteredProducts:mr(g,f.filters)}}),d},createProduct:async s=>{n({loading:!0});const i=Zf(s),{data:c,error:u}=await ka.create(i);if(u||!c)return n({loading:!1,error:"Nao foi possivel criar o produto."}),null;const d=ja(c);return n(f=>{const m=[d,...f.products];return{products:m,filteredProducts:mr(m,f.filters),loading:!1,error:null}}),d},updateProduct:async(s,i)=>{n({loading:!0});const c=Zf(i),{data:u,error:d}=await ka.update(s,c);if(d||!u)return n({loading:!1,error:"Nao foi possivel atualizar o produto."}),null;const f=ja(u);return n(m=>{const g=m.products.map(x=>x.id===s?f:x);return{products:g,filteredProducts:mr(g,m.filters),loading:!1,error:null}}),f},deleteProduct:async s=>{n({loading:!0});const{error:i}=await ka.delete(s);return i?(n({loading:!1,error:"Nao foi possivel remover o produto."}),!1):(n(c=>{const u=c.products.filter(d=>d.id!==s);return{products:u,filteredProducts:mr(u,c.filters),loading:!1,error:null}}),!0)},getFeaturedProducts:(s=4)=>{const i=t().products,c=i.filter(u=>u.featured);return c.length>0?c.slice(0,s):i.slice(0,s)},applyFilters:()=>{n(s=>({filteredProducts:mr(s.products,s.filters)}))}})),tp=[{name:"Michelin",logo:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Michelin_logo.svg"},{name:"Goodyear",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Goodyear_logo.svg/1200px-Goodyear_logo.svg.png"},{name:"Pirelli",logo:"https://upload.wikimedia.org/wikipedia/commons/e/ec/Pirelli_logo.svg"},{name:"Continental",logo:"https://upload.wikimedia.org/wikipedia/commons/0/0e/Continental_AG_2014_logo.svg"},{name:"Bridgestone",logo:"https://upload.wikimedia.org/wikipedia/commons/6/67/Bridgestone_logo.svg"},{name:"Yokohama",logo:"https://upload.wikimedia.org/wikipedia/commons/3/3f/Yokohama_Rubber_Company_logo.svg"},{name:"Dunlop",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Dunlop_Tires_logo.svg/1024px-Dunlop_Tires_logo.svg.png"},{name:"Firestone",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Firestone_Tire_%26_Rubber_Company_logo.svg/1280px-Firestone_Tire_%26_Rubber_Company_logo.svg.png"},{name:"Hankook",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Hankook_Tire_logo.svg/1200px-Hankook_Tire_logo.svg.png"},{name:"Cooper",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Cooper_Tire_%26_Rubber_Company_Logo.svg/1200px-Cooper_Tire_%26_Rubber_Company_Logo.svg.png"},{name:"Maxxis",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Maxxis_Logo.svg/1200px-Maxxis_Logo.svg.png"},{name:"Toyo",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Toyo_Tires_logo.svg/1200px-Toyo_Tires_logo.svg.png"},{name:"Kumho",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Kumho_Tire_Company_Ltd._logo.svg/1024px-Kumho_Tire_Company_Ltd._logo.svg.png"},{name:"Nexen",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Nexen_Tire_company_logo.svg/1024px-Nexen_Tire_company_logo.svg.png"},{name:"Vredestein",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Vredestein_logo.svg/1024px-Vredestein_logo.svg.png"}];function O_(){return o.jsx("section",{className:"tire-marquee-section",children:o.jsxs("div",{className:"tire-marquee-container",children:[o.jsx("h2",{className:"tire-marquee-title",children:"Marcas Parceiras"}),o.jsx("p",{className:"tire-marquee-subtitle",children:"As melhores marcas de pneus do mercado em um s lugar"}),o.jsx("div",{className:"tire-marquee-wrapper",children:o.jsxs("div",{className:"tire-marquee",children:[tp.map((n,t)=>o.jsx("div",{className:"tire-marquee-item",children:o.jsx("img",{src:n.logo,alt:`Logo ${n.name}`,className:"tire-marquee-logo",loading:"lazy",onError:s=>{s.currentTarget.style.opacity="0.5"}})},`${n.name}-1-${t}`)),tp.map((n,t)=>o.jsx("div",{className:"tire-marquee-item",children:o.jsx("img",{src:n.logo,alt:`Logo ${n.name}`,className:"tire-marquee-logo",loading:"lazy",onError:s=>{s.currentTarget.style.opacity="0.5"}})},`${n.name}-2-${t}`))]})})]})})}const I_={passeio:"Automveis",suv:"SUV e 4x4",caminhonete:"Caminhonetes",van:"Vans",moto:"Motos"};function $_(){const n=Rt(),{products:t,loading:s,error:i,fetchProducts:c,getFeaturedProducts:u}=qa(),{addItem:d}=Fn(),f=u(4),m=t.slice(0,8),g="/banner-topo.png",x="/banner-meio.png",v=Array.from(new Set(t.map(b=>b.category))).sort(),w=Array.from(new Set(t.map(b=>b.diameter))).sort((b,T)=>Number(b)-Number(T));E.useEffect(()=>{c(!0)},[c]);const _=b=>{const T=t.find(S=>S.id===b);!T||T.stock<=0||d(T)};return o.jsxs("div",{className:"w-full",children:[o.jsx("section",{className:"hero-banner-section",children:o.jsxs("div",{className:"hero-banner-container",children:[o.jsx("img",{src:g,alt:"Banner principal - Pneus Preojusto",className:"hero-banner-image",loading:"eager",onError:b=>{b.currentTarget.style.display="none"}}),o.jsx("div",{className:"hero-banner-overlay"}),o.jsx("div",{className:"hero-banner-content",children:o.jsxs("div",{className:"hero-banner-inner",children:[o.jsx("span",{className:"hero-badge",children:"Especialistas em Pneus Desde 2010"}),o.jsx("h1",{className:"hero-title",children:"Pneus Preojusto"}),o.jsx("p",{className:"hero-subtitle",children:"Catlogo completo com pneus para passeio, SUV, caminhonete e vans. Compra segura e envio rpido em todo o Brasil."}),o.jsxs("button",{onClick:()=>n("/products"),className:"hero-button",children:[o.jsx("span",{children:"Ver Catlogo Completo"}),o.jsx("span",{className:"hero-button-arrow",children:""})]})]})})]})}),o.jsx("section",{className:"py-24 md:py-32 bg-white",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3 rounded-2xl md:rounded-full bg-blue-50 px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-semibold shrink-0",children:[o.jsx(Jc,{size:18}),"Explore por Filtros"]}),o.jsxs("div",{className:"flex flex-wrap gap-2 w-full md:w-auto",children:[v.slice(0,4).map(b=>o.jsx("button",{onClick:()=>n(`/products?category=${encodeURIComponent(b)}`),className:"rounded-full bg-white px-4 py-2 text-sm font-semibold text-blue-700 shadow hover:bg-blue-100",children:I_[b]||b},b)),w.slice(0,4).map(b=>o.jsxs("button",{onClick:()=>n(`/products?diameter=${encodeURIComponent(b)}`),className:"rounded-full bg-white px-4 py-2 text-sm font-semibold text-blue-700 shadow hover:bg-blue-100",children:["Aro ",b]},`home-dia-${b}`)),o.jsx("button",{onClick:()=>n("/products"),className:"rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700",children:"Ver Todos"})]})]})})}),o.jsx("section",{className:"py-28 md:py-36 bg-gray-50",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-24 md:mb-28 gap-4",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-3xl font-bold",children:"Produtos em Destaque"}),o.jsx("button",{onClick:()=>n("/products"),className:"text-blue-700 font-semibold hover:underline",children:"Ver Todos"})]}),s?o.jsx("div",{className:"text-center py-10",children:"Carregando Produtos..."}):i?o.jsxs("div",{className:"text-center py-10 bg-white rounded-lg border",children:[o.jsx("p",{className:"mb-3 text-red-700",children:i}),o.jsx("button",{onClick:()=>void c(!0),className:"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700",children:"Tentar Novamente"})]}):f.length===0?o.jsx("div",{className:"text-center py-10 bg-white rounded-lg border",children:"Nenhum Destaque Encontrado."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:f.map(b=>o.jsxs("div",{className:"product-card bg-white rounded-xl shadow-sm border overflow-hidden flex flex-col h-full",children:[o.jsx("div",{className:"bg-gray-100 flex items-center justify-center min-h-[220px] p-4",children:o.jsx("img",{src:b.image,alt:b.model,className:"w-full h-full max-h-[280px] object-contain block cursor-pointer",onClick:()=>n(`/product/${b.id}`)})}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:b.brand}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 min-h-[2.5rem] leading-5",children:b.model}),o.jsxs("p",{className:"text-gray-500 text-xs mb-5 min-h-[1.25rem]",children:[b.width,"/",b.profile,"R",b.diameter]}),o.jsxs("div",{className:"flex items-center justify-between mt-auto gap-2",children:[o.jsxs("span",{className:"text-xl md:text-2xl lg:text-xl font-extrabold text-green-600",children:["R$ ",b.price.toFixed(2)]}),o.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${b.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.stock>0?`${b.stock} Em Estoque`:"Esgotado"})]}),o.jsxs("div",{className:"gallery-actions mt-4",children:[o.jsxs("button",{onClick:()=>_(b.id),disabled:b.stock<=0,className:"gallery-action-btn gallery-action-btn-cart",children:[o.jsx(Mn,{size:14}),"Carrinho"]}),o.jsxs("button",{onClick:()=>n(`/product/${b.id}`),className:"gallery-action-btn gallery-action-btn-view",children:[o.jsx(Un,{size:14}),"Ver Produto"]})]})]})]},b.id))})]})}),o.jsx("section",{className:"w-full bg-white border-t-[14px] border-b-[14px] border-white py-16 md:py-20",children:o.jsx("img",{src:x,alt:"Banner promocional",className:"block w-full h-auto",onError:b=>{b.currentTarget.style.display="none"}})}),o.jsx(O_,{}),o.jsx("section",{className:"py-24 md:py-32 bg-white",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-3xl font-bold mb-8 text-center",children:"Mais Vendidos"}),o.jsx("div",{"aria-hidden":"true",className:"relative left-1/2 mb-20 md:mb-24 h-6 w-screen -translate-x-1/2 bg-white"}),s?o.jsx("div",{className:"text-center py-10",children:"Carregando Galeria..."}):m.length===0?o.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-lg border",children:"Nenhum Produto Encontrado."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10",children:m.map(b=>o.jsxs("div",{className:"product-card rounded-xl border bg-white overflow-hidden flex flex-col h-full",children:[o.jsx("div",{className:"bg-gray-100 flex items-center justify-center min-h-[220px] p-4",children:o.jsx("img",{src:b.image,alt:b.model,className:"w-full h-full max-h-[280px] object-contain block cursor-pointer",onClick:()=>n(`/product/${b.id}`)})}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:b.brand}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 min-h-[2.5rem] leading-5",children:b.model}),o.jsxs("p",{className:"text-gray-500 text-xs mb-5 min-h-[1.25rem]",children:[b.width,"/",b.profile,"R",b.diameter]}),o.jsxs("div",{className:"flex items-center justify-between mt-auto gap-2",children:[o.jsxs("span",{className:"text-xl md:text-2xl lg:text-xl font-extrabold text-green-600",children:["R$ ",b.price.toFixed(2)]}),o.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${b.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.stock>0?`${b.stock} Em Estoque`:"Esgotado"})]}),o.jsxs("div",{className:"gallery-actions mt-4",children:[o.jsxs("button",{onClick:()=>_(b.id),disabled:b.stock<=0,className:"gallery-action-btn gallery-action-btn-cart",children:[o.jsx(Mn,{size:14}),"Carrinho"]}),o.jsxs("button",{onClick:()=>n(`/product/${b.id}`),className:"gallery-action-btn gallery-action-btn-view",children:[o.jsx(Un,{size:14}),"Ver Produto"]})]})]})]},`gallery-${b.id}`))})]})})]})}const rp={passeio:"Passeio",suv:"Caminhonete e SUV",caminhonete:"Caminhonete",van:"Van e Utilitario",moto:"Moto"},np=[{value:"name",label:"Nome do Produto"},{value:"price_asc",label:"Menor Preco"},{value:"price_desc",label:"Maior Preco"},{value:"featured",label:"Destaque"},{value:"newest",label:"Lancamento"}],zc=12;function On(n,t){const s=n.get(t);return s?s.split(",").map(i=>i.trim()).filter(Boolean):[]}function bs(n,t=!1){return Array.from(new Set(n.filter(Boolean))).sort((i,c)=>t?Number(i)-Number(c):i.localeCompare(c,"pt-BR"))}function _s(n,t){return n.reduce((s,i)=>{const c=t(i);return c&&(s[c]=(s[c]||0)+1),s},{})}function mn(n){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n)}function L_(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function sp(n){const t=n.match(/\b([A-G])\b/i);return t?t[1].toUpperCase():void 0}function z_(n){const t=n.match(/(\d{2})\s*d?b/i);if(t)return`${t[1]} dB`}function D_(n){if(!n||n.length===0)return{};let t,s,i;for(const c of n){const u=L_(c);!t&&/(resist|rolamento|rolling|consumo)/.test(u)&&(t=sp(c)),!s&&/(aderenc|molhad|wet|grip)/.test(u)&&(s=sp(c)),!i&&/(ruid|noise|db|decibel)/.test(u)&&(i=z_(c))}return{rollingResistance:t,wetGrip:s,externalNoise:i}}function U_(n){if(n.length===0)return[];const t=n.map(d=>Number(d.price)).filter(d=>Number.isFinite(d)&&d>0).sort((d,f)=>d-f);if(t.length===0)return[];const s=t[0],i=t[t.length-1];if(s===i)return[{min:Math.floor(s),max:null,count:n.length,label:`A partir de ${mn(s)}`}];const c=6,u=(i-s)/c;return Array.from({length:c},(d,f)=>{const m=Math.floor(s+u*f),g=f===c-1?null:Math.floor(s+u*(f+1)),x=n.filter(w=>g===null?w.price>=m:w.price>=m&&w.price<=g).length;let v="";return f===0&&g!==null?v=`Ate ${mn(g)}`:g===null?v=`Acima de ${mn(m)}`:v=`De ${mn(m)} a ${mn(g)}`,{min:m,max:g,count:x,label:v}})}function M_(n,t){const s=[...n];return t==="name"?(s.sort((i,c)=>{const u=`${i.brand} ${i.model}`.trim(),d=`${c.brand} ${c.model}`.trim();return u.localeCompare(d,"pt-BR")}),s):t==="price_asc"?(s.sort((i,c)=>i.price-c.price),s):t==="price_desc"?(s.sort((i,c)=>c.price-i.price),s):t==="featured"?(s.sort((i,c)=>i.featured!==c.featured?Number(c.featured)-Number(i.featured):i.stock!==c.stock?c.stock-i.stock:i.price-c.price),s):(s.sort((i,c)=>{const u=new Date(i.created_at).getTime();return new Date(c.created_at).getTime()-u}),s)}function F_(n,t){return n<=7?Array.from({length:n},(s,i)=>i+1):t<=4?[1,2,3,4,5,6,n]:t>=n-3?[1,n-5,n-4,n-3,n-2,n-1,n]:[1,t-1,t,t+1,n-1,n]}function Dc(n){return n.split(" ").filter(Boolean).map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function fo(){const{products:n,filteredProducts:t,filters:s,loading:i,error:c,fetchProducts:u,setFilters:d,resetFilters:f}=qa(),{addItem:m}=Fn(),[g]=zp(),{brandSlug:x}=Pp(),[v,w]=E.useState(!1),[_,b]=E.useState(""),T=Rt(),S=g.toString();E.useEffect(()=>{u(!0)},[u]),E.useEffect(()=>{const I=new URLSearchParams(S),Qe=I.get("search")||"",Te=On(I,"category"),$e=x?x.replace(/-/g," "):"",lt=On(I,"brand"),De=lt.length>0?lt:$e?[$e]:[],_t=On(I,"width"),qn=On(I,"profile"),Vn=On(I,"diameter"),xr=On(I,"season"),wr=Number(I.get("minPrice")),Qt=Number(I.get("maxPrice"));f(),d({search:Qe,category:Te,brand:De,width:_t,profile:qn,diameter:Vn,season:xr,minPrice:Number.isFinite(wr)&&wr>=0?wr:0,maxPrice:Number.isFinite(Qt)&&Qt>0?Qt:1e5,runflat:null,featured:null})},[x,f,S,d]),E.useEffect(()=>{b(s.search||"")},[s.search]),E.useEffect(()=>(document.body.style.overflow=v?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[v]);const A=E.useMemo(()=>bs(n.map(I=>I.category)),[n]),D=E.useMemo(()=>bs(n.map(I=>I.brand)),[n]),P=E.useMemo(()=>bs(n.map(I=>I.width),!0),[n]),U=E.useMemo(()=>bs(n.map(I=>I.profile),!0),[n]),H=E.useMemo(()=>bs(n.map(I=>I.diameter),!0),[n]),O=E.useMemo(()=>bs(n.map(I=>I.season)),[n]),M=E.useMemo(()=>_s(n,I=>I.brand),[n]),se=E.useMemo(()=>_s(n,I=>I.width),[n]),ae=E.useMemo(()=>_s(n,I=>I.profile),[n]),ke=E.useMemo(()=>_s(n,I=>I.diameter),[n]),Se=E.useMemo(()=>_s(n,I=>I.category),[n]),Pe=E.useMemo(()=>_s(n,I=>I.season),[n]),Re=E.useMemo(()=>U_(n),[n]),ee=g.get("order")||"newest",ie=Number(g.get("pg")||"1"),re=Number.isFinite(ie)&&ie>0?ie:1,ue=E.useMemo(()=>M_(t,ee),[ee,t]),F=Math.max(1,Math.ceil(ue.length/zc)),G=Math.min(re,F),Q=E.useMemo(()=>{const I=(G-1)*zc;return ue.slice(I,I+zc)},[G,ue]),C=E.useMemo(()=>F_(F,G),[G,F]),k=s.category[0],W=s.brand[0],X=x?Dc(x.replace(/-/g," ")):"",me=W?Dc(W):k?rp[k]||k:"Catalogo",ce=W?`Marcas - ${Dc(W)}`:X?`Marcas - ${X}`:"Catalogo de Produtos",je=!!(s.search||s.category.length||s.brand.length||s.width.length||s.profile.length||s.diameter.length||s.season.length||s.minPrice>0||s.maxPrice<1e5),ye=(I,Qe=!0)=>{const Te=new URLSearchParams(g);Object.entries(I).forEach(([De,_t])=>{if(!_t){Te.delete(De);return}Te.set(De,_t)}),Qe&&Te.set("pg","1");const $e=Te.toString(),lt=x?`/marcas/${x}`:"/products";T($e?`${lt}?${$e}`:lt)},be=(I,Qe)=>{const Te=On(g,I),lt=Te.includes(Qe)?Te.filter(De=>De!==Qe):[...Te,Qe];ye({[I]:lt.length?lt.join(","):null})},We=I=>{const Qe=Number(g.get("minPrice")),Te=g.get("maxPrice");if(Qe===I.min&&(I.max===null&&!Te||I.max!==null&&Number(Te)===I.max)){ye({minPrice:null,maxPrice:null});return}ye({minPrice:String(I.min),maxPrice:I.max===null?null:String(I.max)})},yr=()=>{const I=_.trim();ye({search:I||null})},$r=()=>{if(x){T(`/marcas/${x}`);return}T("/products")},Lr=I=>{I.stock<=0||m(I)},Jt=I=>{I<1||I>F||(ye({pg:String(I)},!1),window.scrollTo({top:0,behavior:"smooth"}))},Bn=Number(g.get("minPrice")),zr=g.get("maxPrice");return o.jsxs("div",{className:"tray-catalog-page",children:[o.jsx("section",{className:"tray-catalog-banner","aria-label":"Banner do catalogo",children:o.jsx("img",{src:"/banner-meio.png",alt:"Banner de categorias"})}),o.jsx("section",{className:"tray-breadcrumbs",children:o.jsxs("div",{className:"container tray-breadcrumbs-inner",children:[o.jsxs("ol",{children:[o.jsx("li",{children:o.jsx(_e,{to:"/",children:"Home"})}),o.jsx("li",{children:o.jsx(_e,{to:x?"/marcas":"/products",children:x?"Marcas":"Produtos"})}),o.jsx("li",{children:me})]}),o.jsxs("div",{className:"tray-breadcrumbs-info",children:["Encontramos ",t.length," produto(s) em ",F," pagina(s)"]})]})}),o.jsxs("section",{className:"tray-catalog-content container",children:[o.jsxs("div",{className:"tray-catalog-headline",children:[o.jsx("h1",{children:ce}),o.jsx("p",{children:"Galeria no formato de vitrine com filtros laterais, ordenacao e paginao."})]}),o.jsxs("div",{className:"tray-catalog-mobile-actions",children:[o.jsxs("button",{type:"button",onClick:()=>w(!0),children:[o.jsx(q0,{size:16}),"Filtrar"]}),o.jsxs("label",{children:["Classificar por",o.jsx("select",{value:ee,onChange:I=>ye({order:I.target.value}),children:np.map(I=>o.jsx("option",{value:I.value,children:I.label},I.value))})]})]}),o.jsx("div",{className:`tray-catalog-overlay ${v?"is-open":""}`,onClick:()=>w(!1)}),o.jsxs("aside",{className:`tray-catalog-sidebar ${v?"is-open":""}`,children:[o.jsxs("div",{className:"tray-sidebar-header",children:[o.jsx("strong",{children:"Filtros"}),o.jsx("button",{type:"button",onClick:()=>w(!1),"aria-label":"Fechar filtros",children:o.jsx(jo,{size:16})})]}),o.jsxs("div",{className:"tray-sidebar-search",children:[o.jsx("label",{htmlFor:"products-filter-search",children:"Busca"}),o.jsxs("div",{className:"tray-sidebar-search-control",children:[o.jsx("input",{id:"products-filter-search",type:"text",value:_,onChange:I=>b(I.target.value),onKeyDown:I=>{I.key==="Enter"&&(I.preventDefault(),yr())},placeholder:"Marca, modelo ou medida"}),o.jsx("button",{type:"button",onClick:yr,"aria-label":"Buscar",children:o.jsx(Qc,{size:15})})]})]}),o.jsxs("div",{className:"tray-sidebar-group",children:[o.jsx("h4",{children:"Marcas"}),o.jsx("ul",{children:D.map(I=>o.jsx("li",{children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:s.brand.includes(I),onChange:()=>be("brand",I)}),o.jsx("span",{children:I}),o.jsxs("em",{children:["(",M[I]||0,")"]})]})},I))})]}),o.jsxs("div",{className:"tray-sidebar-group",children:[o.jsx("h4",{children:"Precos"}),o.jsx("ul",{children:Re.map(I=>{const Qe=Bn===I.min&&(I.max===null&&!zr||I.max!==null&&Number(zr)===I.max);return o.jsx("li",{children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:Qe,onChange:()=>We(I)}),o.jsx("span",{children:I.label}),o.jsxs("em",{children:["(",I.count,")"]})]})},`${I.min}-${I.max??"plus"}`)})})]}),o.jsxs("div",{className:"tray-sidebar-group",children:[o.jsx("h4",{children:"Categorias"}),o.jsx("ul",{children:A.map(I=>o.jsx("li",{children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:s.category.includes(I),onChange:()=>be("category",I)}),o.jsx("span",{children:rp[I]||I}),o.jsxs("em",{children:["(",Se[I]||0,")"]})]})},I))})]}),o.jsxs("div",{className:"tray-sidebar-group",children:[o.jsx("h4",{children:"Aro"}),o.jsx("ul",{children:H.map(I=>o.jsx("li",{children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:s.diameter.includes(I),onChange:()=>be("diameter",I)}),o.jsx("span",{children:I}),o.jsxs("em",{children:["(",ke[I]||0,")"]})]})},I))})]}),o.jsxs("div",{className:"tray-sidebar-group",children:[o.jsx("h4",{children:"Largura"}),o.jsx("ul",{children:P.map(I=>o.jsx("li",{children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:s.width.includes(I),onChange:()=>be("width",I)}),o.jsx("span",{children:I}),o.jsxs("em",{children:["(",se[I]||0,")"]})]})},I))})]}),o.jsxs("div",{className:"tray-sidebar-group",children:[o.jsx("h4",{children:"Perfil"}),o.jsx("ul",{children:U.map(I=>o.jsx("li",{children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:s.profile.includes(I),onChange:()=>be("profile",I)}),o.jsx("span",{children:I}),o.jsxs("em",{children:["(",ae[I]||0,")"]})]})},I))})]}),O.length>0&&o.jsxs("div",{className:"tray-sidebar-group",children:[o.jsx("h4",{children:"Sazonalidade"}),o.jsx("ul",{children:O.map(I=>o.jsx("li",{children:o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:s.season.includes(I),onChange:()=>be("season",I)}),o.jsx("span",{children:I}),o.jsxs("em",{children:["(",Pe[I]||0,")"]})]})},I))})]}),o.jsxs("div",{className:"tray-sidebar-actions",children:[o.jsx("button",{type:"button",className:"secondary",onClick:$r,children:"Limpar"}),o.jsx("button",{type:"button",onClick:()=>w(!1),children:"Filtrar"})]})]}),o.jsxs("div",{className:"tray-catalog-main",children:[o.jsxs("div",{className:"tray-catalog-toolbar",children:[o.jsxs("span",{children:["Resultado: ",t.length," produto(s) em ",F," pagina(s)"]}),o.jsxs("label",{children:["Classificar por",o.jsx("select",{value:ee,onChange:I=>ye({order:I.target.value}),children:np.map(I=>o.jsx("option",{value:I.value,children:I.label},I.value))})]})]}),i?o.jsx("div",{className:"tray-state-card",children:"Carregando produtos..."}):c?o.jsxs("div",{className:"tray-state-card error",children:[o.jsx("p",{children:c}),o.jsx("button",{type:"button",onClick:()=>void u(!0),children:"Tentar novamente"})]}):Q.length===0?o.jsxs("div",{className:"tray-state-card",children:[o.jsx("p",{children:"Nenhum produto encontrado."}),je&&o.jsx("button",{type:"button",onClick:$r,children:"Ver catalogo completo"})]}):o.jsxs(o.Fragment,{children:[o.jsx("ul",{className:"tray-catalog-grid",children:Q.map(I=>{const Qe=I.old_price&&I.old_price>I.price?I.old_price:Number((I.price*1.136).toFixed(2)),Te=Qe/12,$e=D_(I.features);return o.jsx("li",{className:"tray-product-card-wrapper",children:o.jsxs("article",{className:"tray-product-card",children:[o.jsxs("div",{className:"tray-product-tags",children:[I.featured&&o.jsx("span",{className:"tag-new",children:"Novo"}),I.stock>0&&I.stock<=3&&o.jsx("span",{className:"tag-hot",children:"Ultimas unidades"})]}),o.jsxs("button",{type:"button",className:"tray-product-image",onClick:()=>T(`/product/${I.id}`),"aria-label":`Abrir produto ${I.brand} ${I.model}`,children:[o.jsx("img",{src:I.image,alt:`${I.brand} ${I.model}`}),o.jsx("span",{children:"DETALHES"})]}),($e.rollingResistance||$e.wetGrip||$e.externalNoise)&&o.jsxs("div",{className:"tray-product-tech-seals",children:[$e.rollingResistance&&o.jsxs("span",{children:[o.jsx(H0,{size:14}),$e.rollingResistance]}),$e.wetGrip&&o.jsxs("span",{children:[o.jsx(O0,{size:14}),$e.wetGrip]}),$e.externalNoise&&o.jsxs("span",{children:[o.jsx(Rx,{size:14}),$e.externalNoise]})]}),o.jsxs("div",{className:"tray-product-seals",children:[o.jsxs("span",{children:["Aro ",I.diameter]}),o.jsxs("span",{children:[I.width,"/",I.profile]}),o.jsx("span",{children:I.speed_rating||"Sem indice"})]}),o.jsxs("div",{className:"tray-product-info",children:[o.jsxs("h3",{children:[I.brand," ",I.model]}),o.jsxs("div",{className:"tray-product-price",children:[o.jsx("strong",{children:mn(I.price)}),o.jsx("small",{children:"a vista com desconto PIX ou"}),o.jsxs("p",{children:[o.jsx("span",{children:mn(Qe)})," em ate 12x de"," ",o.jsx("span",{children:mn(Te)})," sem juros"]})]}),o.jsxs("div",{className:"tray-product-actions",children:[o.jsx("button",{type:"button",className:"detail",onClick:()=>T(`/product/${I.id}`),children:"Ver Produto"}),o.jsxs("button",{type:"button",onClick:()=>Lr(I),disabled:I.stock<=0,children:[o.jsx(Mn,{size:14}),I.stock>0?"Adicionar":"Esgotado"]})]})]})]})},I.id)})}),o.jsxs("div",{className:"tray-pagination",children:[o.jsxs("button",{type:"button",onClick:()=>Jt(G-1),disabled:G<=1,children:[o.jsx(E0,{size:15}),"Anterior"]}),o.jsx("div",{className:"tray-pagination-pages",children:C.map(I=>o.jsx("button",{type:"button",className:I===G?"is-active":"",onClick:()=>Jt(I),children:I},I))}),o.jsxs("button",{type:"button",onClick:()=>Jt(G+1),disabled:G>=F,children:["Proxima",o.jsx(C0,{size:15})]})]})]})]})]})]})}const om=$s()($o((n,t)=>({favorites:[],toggleFavorite:s=>{n(i=>i.favorites.includes(s)?{favorites:i.favorites.filter(u=>u!==s)}:{favorites:[...i.favorites,s]})},isFavorite:s=>t().favorites.includes(s),clearWishlist:()=>{n({favorites:[]})}}),{name:"wishlist-storage"}));function B_(){const{id:n}=Pp(),t=Rt(),{fetchProductById:s}=qa(),{addItem:i}=Fn(),{toggleFavorite:c,isFavorite:u}=om(),[d,f]=E.useState(null),[m,g]=E.useState(!0),[x,v]=E.useState(1);E.useEffect(()=>{(async()=>{if(!n){f(null),g(!1);return}g(!0);const b=await s(n);f(b),g(!1)})()},[n,s]);const w=()=>{d&&i(d,x)};return m?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"text-center py-12",children:"Carregando produto..."})}):d?o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 mb-4 text-blue-600",children:[o.jsx(bo,{size:20})," Voltar"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsx("div",{className:"bg-gray-100 rounded-lg p-8",children:o.jsx("img",{src:d.image,alt:d.model,className:"w-full h-96 object-cover rounded"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[d.brand," ",d.model]}),o.jsxs("p",{className:"text-gray-600 mb-4",children:[d.width,"/",d.profile,"R",d.diameter," - ",d.load_index,d.speed_rating]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("span",{className:"text-4xl font-bold text-green-600",children:["R$ ",d.price.toFixed(2)]}),d.old_price&&o.jsxs("span",{className:"ml-4 text-lg text-gray-500 line-through",children:["R$ ",d.old_price.toFixed(2)]})]}),o.jsx("div",{className:"mb-6",children:o.jsx("span",{className:`px-4 py-2 rounded ${d.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.stock>0?`${d.stock} em estoque`:"Esgotado"})}),d.features&&d.features.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-bold mb-2",children:"Caracteristicas:"}),o.jsx("ul",{className:"list-disc list-inside space-y-1",children:d.features.map((_,b)=>o.jsx("li",{className:"text-gray-700",children:_},b))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded",children:[o.jsx("h3",{className:"font-bold mb-3",children:"Especificacoes:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Largura"}),o.jsxs("p",{className:"font-semibold",children:[d.width,"mm"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Perfil"}),o.jsxs("p",{className:"font-semibold",children:[d.profile,"%"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Aro"}),o.jsxs("p",{className:"font-semibold",children:[d.diameter,'"']})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Indice de Carga"}),o.jsx("p",{className:"font-semibold",children:d.load_index})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Indice de Velocidade"}),o.jsx("p",{className:"font-semibold",children:d.speed_rating})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Categoria"}),o.jsx("p",{className:"font-semibold capitalize",children:d.category})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"Temporada"}),o.jsx("p",{className:"font-semibold capitalize",children:d.season})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:"RunFlat"}),o.jsx("p",{className:"font-semibold",children:d.runflat?"Sim":"Nao"})]})]})]}),d.description&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-bold mb-2",children:"Descricao:"}),o.jsx("p",{className:"text-gray-700",children:d.description})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>v(Math.max(1,x-1)),className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"-"}),o.jsx("span",{className:"w-8 text-center",children:x}),o.jsx("button",{onClick:()=>v(Math.min(Math.max(d.stock,1),x+1)),disabled:d.stock===0||x>=d.stock,className:"px-3 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"+"})]}),o.jsxs("button",{onClick:w,disabled:d.stock===0,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[o.jsx(Mn,{size:20}),"Adicionar ao Carrinho"]}),o.jsx("button",{onClick:()=>c(d.id),className:`px-6 py-3 rounded border-2 ${u(d.id)?"bg-red-50 border-red-600 text-red-600":"border-gray-300 text-gray-600"}`,children:o.jsx(yu,{size:20,fill:u(d.id)?"currentColor":"none"})})]})]})]})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 mb-4 text-blue-600",children:[o.jsx(bo,{size:20})," Voltar"]}),o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-600",children:"Produto nao encontrado"})})]})}function ap(){const{products:n,fetchProducts:t}=qa(),{addItem:s}=Fn(),{favorites:i,toggleFavorite:c}=om();E.useEffect(()=>{t()},[t]);const u=n.filter(f=>i.includes(f.id)),d=f=>{const m=u.find(g=>g.id===f);m&&s(m)};return u.length===0?o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Meus Favoritos"}),o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:[o.jsx(yu,{size:48,className:"mx-auto mb-4 text-gray-300"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Voce ainda nao tem favoritos"}),o.jsx(_e,{to:"/products",className:"text-blue-600 hover:underline",children:"Voltar ao catalogo"})]})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("h1",{className:"text-3xl font-bold mb-8",children:["Meus Favoritos (",u.length,")"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[o.jsx(_e,{to:`/product/${f.id}`,className:"block",children:o.jsx("img",{src:f.image,alt:f.model,className:"w-full h-48 object-cover"})}),o.jsxs("div",{className:"p-4",children:[o.jsxs(_e,{to:`/product/${f.id}`,className:"font-semibold text-lg hover:text-blue-700",children:[f.brand," ",f.model]}),o.jsxs("p",{className:"text-gray-600 text-sm",children:[f.width,"/",f.profile,"R",f.diameter]}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",f.price.toFixed(2)]}),o.jsx("span",{className:`px-2 py-1 text-xs rounded ${f.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.stock>0?`${f.stock} em estoque`:"Esgotado"})]}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsxs("button",{onClick:()=>d(f.id),disabled:f.stock===0,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[o.jsx(Mn,{size:16}),"Carrinho"]}),o.jsx("button",{onClick:()=>c(f.id),className:"px-4 py-2 bg-red-50 text-red-600 rounded hover:bg-red-100",children:o.jsx(Bp,{size:16})})]})]})]},f.id))})]})}const q_=n=>n.replace(/\/+$/,""),V_="http://localhost:3000/api".trim(),H_="/api",W_=q_(V_||H_),Na=n=>{const t=n.startsWith("/")?n:`/${n}`;return`${W_}${t}`};function K_(n){return!n||typeof n!="object"?!1:("message"in n?String(n.message||""):"").toLowerCase().includes("email not confirmed")}function G_(n){if(!n||typeof n!="object")return"Nao foi possivel entrar agora. Tente novamente.";const s=("message"in n?String(n.message||""):"").toLowerCase();return s.includes("email not confirmed")?"Seu email ainda nao foi confirmado. Verifique a caixa de entrada.":s.includes("invalid login credentials")||s.includes("invalid email or password")?'Email ou senha incorretos. Se acabou de confirmar o email, redefina a senha em "Esqueceu a senha?".':s.includes("too many requests")?"Muitas tentativas de login. Aguarde alguns minutos e tente novamente.":"Nao foi possivel entrar agora. Tente novamente."}function J_(){const[n,t]=E.useState(""),[s,i]=E.useState(""),[c,u]=E.useState(!1),[d,f]=E.useState(!1),[m,g]=E.useState(""),[x,v]=E.useState(""),[w,_]=E.useState(!1),[b,T]=E.useState(!1),[S,A]=E.useState(""),{login:D}=vr(),P=lr(),U=Rt();E.useEffect(()=>{let M=!0;return(async()=>{try{const ae=await fetch(Na("/public/login-banner"));if(!ae.ok)throw new Error("Nao foi possivel carregar o banner");const ke=await ae.json();M&&A((ke.bannerImage||"").trim())}catch{M&&A("")}})(),()=>{M=!1}},[]),E.useEffect(()=>{const M=P.state;M&&(M.email&&t(M.email),M.needsEmailConfirmation&&(_(!0),v("Cadastro concluido. Confirme seu email para liberar o login.")),M.info&&v(M.info),U(P.pathname,{replace:!0,state:null}))},[P.pathname,P.state,U]);const H=async M=>{M.preventDefault(),g(""),v(""),_(!1);const se=n.trim().toLowerCase();if(!se||!s){g("Preencha todos os campos");return}if(!/\S+@\S+\.\S+/.test(se)){g("Email invalido");return}try{f(!0),await D(se,s),U("/")}catch(ae){g(G_(ae)),_(K_(ae))}finally{f(!1)}},O=async()=>{g(""),v("");const M=n.trim().toLowerCase();if(!/\S+@\S+\.\S+/.test(M)){g("Informe um email valido para reenviar a confirmacao.");return}try{T(!0);const{error:se}=await pt.resendConfirmation(M);if(se)throw se;v("Reenvio concluido. Verifique sua caixa de entrada e spam."),_(!1)}catch{g("Nao foi possivel reenviar o email de confirmacao agora.")}finally{T(!1)}};return o.jsx("div",{className:"auth-page login-page",children:o.jsxs("div",{className:"auth-container login-container",children:[o.jsxs("div",{className:"auth-card login-card",children:[o.jsxs("div",{className:"auth-header",children:[o.jsx("h1",{children:"Bem-vindo de volta!"}),o.jsx("p",{children:"Entre na sua conta para continuar"})]}),m&&o.jsx("div",{className:"auth-error",children:m}),x&&o.jsx("div",{className:"auth-success",children:x}),o.jsxs("form",{onSubmit:H,className:"auth-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(Dn,{size:20,className:"input-icon"}),o.jsx("input",{id:"email",type:"email",placeholder:"seu@email.com",value:n,onChange:M=>t(M.target.value),className:"form-input",autoComplete:"email"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",children:"Senha"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(Aa,{size:20,className:"input-icon"}),o.jsx("input",{id:"password",type:c?"text":"password",placeholder:"********",value:s,onChange:M=>i(M.target.value),className:"form-input",autoComplete:"current-password"}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(!c),children:c?o.jsx(Ta,{size:20}):o.jsx(Un,{size:20})})]})]}),o.jsxs("div",{className:"form-footer",children:[o.jsxs("label",{className:"remember-me",children:[o.jsx("input",{type:"checkbox"}),o.jsx("span",{children:"Lembrar-me"})]}),o.jsx(_e,{to:"/forgot-password",className:"forgot-link",children:"Esqueceu a senha?"})]}),o.jsx("button",{type:"submit",className:"auth-button",disabled:d,children:d?o.jsxs(o.Fragment,{children:[o.jsx(Ts,{className:"spinner",size:20}),"Entrando..."]}):"Entrar"}),w&&o.jsx("button",{type:"button",className:"auth-button auth-secondary-button",onClick:O,disabled:b,children:b?o.jsxs(o.Fragment,{children:[o.jsx(Ts,{className:"spinner",size:20}),"Reenviando..."]}):"Reenviar confirmacao por email"})]}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"ou"})}),o.jsx("div",{className:"auth-footer",children:o.jsxs("p",{children:["Nao tem uma conta?"," ",o.jsx(_e,{to:"/register",className:"auth-link",children:"Criar conta"})]})})]}),o.jsx("div",{className:"auth-illustration login-banner-container",children:o.jsx("div",{className:"login-banner-slot","aria-label":"Banner do login",children:S&&o.jsx("img",{src:S,alt:"Banner do login",className:"login-banner-image"})})})]})})}const Q_=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/;function Y_(n){if(!n||typeof n!="object")return"Erro ao criar conta. Tente novamente.";const s=("message"in n?String(n.message||""):"").toLowerCase();return s.includes("user already registered")?"Este email ja esta cadastrado. Tente entrar.":s.includes("password should be at least")?"A senha deve ter no minimo 8 caracteres.":s.includes("duplicate key value violates unique constraint")&&s.includes("profiles_cpf_key")?"Este CPF ja esta cadastrado.":s.includes("invalid email")?"Email invalido.":s.includes("rate limit")?"Muitas tentativas de cadastro. Aguarde e tente novamente.":"Erro ao criar conta. Tente novamente."}function X_(){const[n,t]=E.useState(""),[s,i]=E.useState(""),[c,u]=E.useState(""),[d,f]=E.useState(""),[m,g]=E.useState(""),[x,v]=E.useState(""),[w,_]=E.useState(!1),[b,T]=E.useState(!1),[S,A]=E.useState(!1),[D,P]=E.useState(""),[U,H]=E.useState(!1),{register:O}=vr(),M=Rt(),se=async ae=>{ae.preventDefault(),P("");const ke=d.trim().toLowerCase();if(!n.trim()||!ke||!m||!x){P("Preencha todos os campos");return}if(!/\S+@\S+\.\S+/.test(ke)){P("Email invalido");return}if(!Q_.test(m)){P("Use ao menos 8 caracteres com letras e numeros");return}if(m!==x){P("As senhas nao coincidem");return}if(!U){P("Voce deve aceitar os termos de uso");return}try{A(!0);const{requiresEmailConfirmation:Se}=await O(n.trim(),ke,m,s.trim(),c.trim());if(Se){M("/login",{replace:!0,state:{needsEmailConfirmation:!0,email:ke}});return}M("/")}catch(Se){P(Y_(Se))}finally{A(!1)}};return o.jsx("div",{className:"auth-page",children:o.jsxs("div",{className:"auth-container",children:[o.jsxs("div",{className:"auth-card",children:[o.jsxs("div",{className:"auth-header",children:[o.jsx("h1",{children:"Criar sua conta"}),o.jsx("p",{children:"Junte-se a nos e aproveite os melhores produtos"})]}),D&&o.jsx("div",{className:"auth-error",children:D}),o.jsxs("form",{onSubmit:se,className:"auth-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"name",children:"Nome Completo"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(ko,{size:20,className:"input-icon"}),o.jsx("input",{id:"name",type:"text",placeholder:"Joao Silva",value:n,onChange:ae=>t(ae.target.value),className:"form-input",autoComplete:"name"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(Dn,{size:20,className:"input-icon"}),o.jsx("input",{id:"email",type:"email",placeholder:"seu@email.com",value:d,onChange:ae=>f(ae.target.value),className:"form-input",autoComplete:"email"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"cpf",children:"CPF (opcional)"}),o.jsx("div",{className:"input-wrapper",children:o.jsx("input",{id:"cpf",type:"text",placeholder:"000.000.000-00",value:s,onChange:ae=>i(ae.target.value),className:"form-input",autoComplete:"off"})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"phone",children:"Telefone (opcional)"}),o.jsx("div",{className:"input-wrapper",children:o.jsx("input",{id:"phone",type:"tel",placeholder:"(11) 99999-9999",value:c,onChange:ae=>u(ae.target.value),className:"form-input",autoComplete:"tel"})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",children:"Senha"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(Aa,{size:20,className:"input-icon"}),o.jsx("input",{id:"password",type:w?"text":"password",placeholder:"********",value:m,onChange:ae=>g(ae.target.value),className:"form-input",autoComplete:"new-password"}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>_(!w),children:w?o.jsx(Ta,{size:20}):o.jsx(Un,{size:20})})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Senha"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(Aa,{size:20,className:"input-icon"}),o.jsx("input",{id:"confirmPassword",type:b?"text":"password",placeholder:"********",value:x,onChange:ae=>v(ae.target.value),className:"form-input",autoComplete:"new-password"}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>T(!b),children:b?o.jsx(Ta,{size:20}):o.jsx(Un,{size:20})})]})]}),o.jsx("div",{className:"form-group",children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:U,onChange:ae=>H(ae.target.checked)}),o.jsxs("span",{children:["Aceito os"," ",o.jsx(_e,{to:"/terms",className:"auth-link",children:"Termos de Uso"})," ","e a"," ",o.jsx(_e,{to:"/privacy",className:"auth-link",children:"Politica de Privacidade"})]})]})}),o.jsx("button",{type:"submit",className:"auth-button",disabled:S,children:S?o.jsxs(o.Fragment,{children:[o.jsx(Ts,{className:"spinner",size:20}),"Criando conta..."]}):"Criar Conta"})]}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"ou"})}),o.jsx("div",{className:"auth-footer",children:o.jsxs("p",{children:["Ja tem uma conta?"," ",o.jsx(_e,{to:"/login",className:"auth-link",children:"Entrar"})]})})]}),o.jsx("div",{className:"auth-illustration",children:o.jsxs("div",{className:"illustration-content",children:[o.jsx("h2",{children:"Por que se cadastrar?"}),o.jsxs("ul",{className:"features-list",children:[o.jsx("li",{children:"Ofertas exclusivas para membros"}),o.jsx("li",{children:"Rastreamento de pedidos"}),o.jsx("li",{children:"Lista de desejos personalizada"}),o.jsx("li",{children:"Checkout rapido"}),o.jsx("li",{children:"Novidades em primeira mao"}),o.jsx("li",{children:"Recomendacoes personalizadas"})]})]})})]})})}function ip(){const{items:n,removeItem:t,updateQuantity:s,getTotalPrice:i,getTotalItems:c,clearCart:u}=Fn(),d=Rt();return n.length===0?o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Carrinho de Compras"}),o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Seu carrinho est vazio"}),o.jsx("button",{onClick:()=>d("/products"),className:"bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700",children:"Continuar Comprando"})]})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Carrinho de Compras"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"bg-white rounded-lg shadow",children:n.map(f=>o.jsxs("div",{className:"flex gap-4 p-4 border-b last:border-b-0",children:[o.jsx("img",{src:f.product.image,alt:f.product.model,className:"w-24 h-24 object-cover rounded cursor-pointer",onClick:()=>d(`/product/${f.product.id}`)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("button",{type:"button",onClick:()=>d(`/product/${f.product.id}`),className:"font-semibold text-left hover:text-blue-700",children:[f.product.brand," ",f.product.model]}),o.jsxs("p",{className:"text-gray-600 text-sm",children:[f.product.width,"/",f.product.profile,"R",f.product.diameter]}),o.jsxs("p",{className:"text-green-600 font-bold mt-2",children:["R$ ",f.product.price.toFixed(2)]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>s(f.product.id,f.quantity-1),className:"px-2 py-1 bg-gray-200 rounded hover:bg-gray-300",children:"-"}),o.jsx("span",{className:"w-8 text-center",children:f.quantity}),o.jsx("button",{onClick:()=>s(f.product.id,f.quantity+1),className:"px-2 py-1 bg-gray-200 rounded hover:bg-gray-300",children:"+"})]}),o.jsx("button",{onClick:()=>t(f.product.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remover"}),o.jsxs("p",{className:"font-semibold",children:["R$ ",(f.product.price*f.quantity).toFixed(2)]})]})]},f.product.id))})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-6 sticky top-4",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumo do Pedido"}),o.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Itens (",c(),")"]}),o.jsxs("span",{children:["R$ ",i().toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Frete"}),o.jsx("span",{children:"Calcular"})]})]}),o.jsxs("div",{className:"flex justify-between text-xl font-bold mb-6",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["R$ ",i().toFixed(2)]})]}),o.jsx("button",{onClick:()=>d("/checkout"),className:"w-full bg-green-600 text-white py-3 px-4 rounded hover:bg-green-700 font-semibold mb-2",children:"Ir para Checkout"}),o.jsx("button",{onClick:()=>d("/products"),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300 mb-2",children:"Continuar Comprando"}),o.jsx("button",{onClick:u,className:"w-full text-red-600 hover:text-red-800 py-2 px-4",children:"Limpar Carrinho"})]})})]})]})}const po=async()=>{const n=await pt.getSession(),t=n==null?void 0:n.access_token;if(!t)throw new Error("Sessao expirada. Faca login novamente.");return t},Z_=n=>typeof n=="string"?n:n instanceof URL?n.toString():n.url,e1=(n,t)=>{const s=Z_(t);return n instanceof DOMException&&n.name==="AbortError"?new Error(`Tempo limite excedido na requisicao: ${s}`):n instanceof TypeError?new Error(`Falha de rede ao acessar ${s}. Verifique CORS, URL da API (VITE_API_URL) e disponibilidade do backend.`):n instanceof Error?new Error(`Erro de comunicacao com API em ${s}: ${n.message}`):new Error(`Erro desconhecido ao acessar ${s}`)},mo=async(n,t,s=15e3)=>{const i=new AbortController,c=setTimeout(()=>i.abort(),s);try{return await fetch(n,{...t,signal:i.signal})}catch(u){throw e1(u,n)}finally{clearTimeout(c)}},go=async(n,t)=>{try{const s=await n.json();if(s!=null&&s.error&&typeof s.error=="string")return s.error}catch{}return t},op={createCharge:async(n,t,s,i)=>{const c=await po(),u=i||`checkout-${t}`,d=await mo(Na("/payment/checkout/initiate"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`,"Idempotency-Key":u},body:JSON.stringify({amount:n,orderId:t,paymentMethod:s,currency:"BRL",idempotencyKey:u})});if(!d.ok){const f=await go(d,`Erro ao iniciar pagamento (HTTP ${d.status})`);throw new Error(f)}return d.json()},confirmPayment:async n=>{const t=await po(),s=await mo(Na("/payment/checkout/confirm"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({paymentId:n})});if(!s.ok){const i=await go(s,`Erro ao confirmar pagamento (HTTP ${s.status})`);throw new Error(i)}return s.json()},getPaymentStatus:async n=>{const t=await po(),s=await mo(Na(`/payment/checkout/${encodeURIComponent(n)}/status`),{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!s.ok){const i=await go(s,`Erro ao consultar status do pagamento (HTTP ${s.status})`);throw new Error(i)}return s.json()},refund:async(n,t)=>{const s=await po(),i=await mo(Na("/payment/checkout/refund"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({paymentId:n,amount:t})});if(!i.ok){const c=await go(i,`Erro ao processar reembolso (HTTP ${i.status})`);throw new Error(c)}return i.json()}},lp=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,Uc=[{value:"credit_card",label:"Carto de crdito",description:"At 12x sem juros",icon:$0},{value:"pix",label:"PIX",description:"Confirmao rpida",icon:qp},{value:"boleto",label:"Boleto bancrio",description:"Emisso imediata",icon:X0}],t1=[{id:"personal",label:"Informaes",status:"done"},{id:"delivery",label:"Entrega",status:"active"},{id:"payment",label:"Pagamento",status:"todo"}],r1=[{id:"express",label:"Entrega expressa",eta:"2 dias teis",priceLabel:"Grtis",description:"Rastreamento em tempo real e entrega priorizada.",icon:xu}],Rs=(...n)=>n.filter(Boolean).join(" "),n1=new Set(["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"]),s1=/^[A-Za-z-0-9][A-Za-z-0-9\s.,\-/]{2,119}$/u,a1=/^[A-Za-z0-9\-\/]{1,12}$/,i1=/^[A-Za-z-][A-Za-z-\s.'-]{1,99}$/u,o1=/^[A-Za-z-0-9\s.,\-/#]{0,80}$/u,lm=n=>{const t=n.replace(/\D/g,"").slice(0,8);return t.length<=5?t:`${t.slice(0,5)}-${t.slice(5)}`},cp=n=>({street:n.street.trim(),number:n.number.trim(),complement:n.complement.trim(),city:n.city.trim(),state:n.state.trim().toUpperCase(),zipcode:lm(n.zipcode.trim())}),cm=(n,t,s)=>{const i=t.trim();return n==="street"?i?s1.test(i)?null:"Rua invlida. Verifique o nome informado.":"Informe a rua.":n==="number"?i?a1.test(i)?null:'Nmero invlido. Use apenas letras, nmeros, "/" ou "-".':"Informe o nmero.":n==="complement"?i&&!o1.test(i)?"Complemento invlido.":null:n==="city"?i?i1.test(i)?null:"Cidade invlida.":"Informe a cidade.":n==="state"?i?!/^[A-Z]{2}$/.test(i)||!n1.has(i)?"UF invlida. Use a sigla de um estado brasileiro (ex.: SP).":null:"Informe o estado.":n==="zipcode"?i?/^\d{5}-\d{3}$/.test(i)?null:"CEP invlido. Use o formato 00000-000.":"Informe o CEP.":null},l1=n=>{const t={},s=["street","number","complement","city","state","zipcode"];for(const i of s){const c=cm(i,n[i]);c&&(t[i]=c)}return t},Mc=n=>n.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});function up(){const{items:n,getTotalPrice:t,clearCart:s}=Fn(),{user:i,profile:c}=vr(),u=Co(ee=>ee.notifyPurchaseCompleted),d=Co(ee=>ee.notifyPaymentApproved),f=Rt(),m="Pneus PreoJusto",g="/logo.png",x="/logo.png",[v,w]=E.useState(!1),[_,b]=E.useState(""),[T,S]=E.useState("credit_card"),[A,D]=E.useState({}),[P,U]=E.useState({street:"",number:"",complement:"",city:"",state:"",zipcode:""}),H=t(),O=n.reduce((ee,ie)=>ee+ie.quantity,0),M=Uc.find(ee=>ee.value===T)||Uc[0],se=r1[0],ae=E.useMemo(()=>{var ee;return((ee=n[0])==null?void 0:ee.product.id.slice(0,6).toUpperCase())||"NOVO"},[n]),ke=()=>f("/carrinho");E.useEffect(()=>{const ee=document.title,ie=document.body.getAttribute("data-prefix");return document.title=`Checkout Seguro | ${m}`,document.body.setAttribute("data-prefix","checkout"),()=>{document.title=ee,ie?document.body.setAttribute("data-prefix",ie):document.body.removeAttribute("data-prefix")}},[m]);const Se=ee=>{const{name:ie,value:re}=ee.target;let ue=re;ie==="state"&&(ue=re.replace(/[^A-Za-z]/g,"").toUpperCase().slice(0,2)),ie==="zipcode"&&(ue=lm(re)),ie==="number"&&(ue=re.replace(/[^A-Za-z0-9\-\/]/g,"")),U(F=>({...F,[ie]:ue})),D(F=>{if(!(ie in F))return F;const G={...F};return delete G[ie],G})},Pe=ee=>{const ie=ee.target.name,re=cp(P),ue=cm(ie,re[ie]);D(F=>{const G={...F};return ue?G[ie]=ue:delete G[ie],G})},Re=async ee=>{ee.preventDefault(),b(""),w(!0);let ie=null,re=!1;try{if(!i)throw new Error("Usurio no autenticado");if(n.length===0)throw new Error("Carrinho vazio");if(n.some(X=>!lp.test(X.product.id)))throw new Error("Carrinho contm produtos antigos. Remova os itens e adicione novamente.");const F=cp(P),G=l1(F);if(Object.keys(G).length>0){D(G);const X=Object.values(G)[0]||"Verifique os dados de entrega.";throw new Error(X)}const Q={items:n.map(X=>({product_id:X.product.id,quantity:X.quantity,price:X.product.price})),total:H,payment_method:T,shipping_address:F},{data:C,error:k}=await ou.create(Q);if(k)throw new Error(k.message||"Erro ao criar pedido");if(ie=(C==null?void 0:C.id)||null,!ie||!lp.test(ie))throw new Error("Pedido criado com identificador invlido");const W=await op.createCharge(H,ie,T,`checkout-${ie}`);if(re=!0,!(W!=null&&W.paymentId))throw new Error("No foi possvel iniciar a confirmao de pagamento");if(T==="credit_card"){const X=await op.confirmPayment(W.paymentId);if(!(X!=null&&X.success))throw new Error("No foi possvel confirmar o pagamento");const me=(X.status||"").toLowerCase();if(!new Set(["confirmed","approved","processing"]).has(me))throw new Error("Pagamento no confirmado. Tente novamente.");(me==="confirmed"||me==="approved")&&d(ie,M.label)}else{const X=(W.status||"").toLowerCase();if(!new Set(["pending","processing","confirmed","approved"]).has(X))throw new Error("No foi possvel iniciar o pagamento. Tente novamente.")}s(),u(ie),f("/orders")}catch(ue){if(ie&&!re)try{await ou.updateStatus(ie,"cancelled")}catch{}const F=ue instanceof Error?ue.message:"Erro ao processar pedido";b(ie&&re?`${F} Verifique o status em "Meus Pedidos".`:F)}finally{w(!1)}};return n.length===0?o.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-white min-h-[70vh] flex items-center justify-center px-4 py-16",children:o.jsxs("div",{className:"rounded-3xl border border-black/10 bg-white p-6 shadow-sm max-w-2xl w-full text-center",children:[o.jsx("div",{className:"mx-auto mb-8 flex h-20 w-20 items-center justify-center rounded-full bg-amber-100",children:o.jsx(qp,{size:40,className:"text-amber-700"})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-4",children:"Checkout indisponvel"}),o.jsx("p",{className:"text-gray-600 mb-10 text-lg leading-relaxed",children:"Seu carrinho est vazio. Adicione alguns pneus para comear sua compra."}),o.jsxs("button",{onClick:()=>f("/products"),className:"inline-flex items-center justify-center gap-3 rounded-2xl border-2 border-black px-8 py-4 font-black text-black transition duration-200 hover:-translate-y-1 hover:shadow-xl active:translate-y-0 cursor-pointer text-base",style:{background:"var(--primary-yellow)"},children:[o.jsx(bo,{size:20}),o.jsx("span",{children:"Voltar ao catlogo"})]})]})}):o.jsx("div",{className:"checkout-shell min-h-screen bg-[#f4f6fb]",children:o.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-8 checkout-shell-container",children:[o.jsxs("header",{className:"mb-6 flex flex-col gap-4 rounded-3xl border border-black/10 bg-white px-6 py-5 shadow-sm sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:g,alt:m,className:"checkout-logo h-12 w-auto object-contain",loading:"eager"}),o.jsxs("div",{className:"leading-tight",children:[o.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Checkout seguro"}),o.jsx("h1",{className:"text-2xl font-black text-gray-900",children:m})]})]}),o.jsxs(dp,{children:[o.jsx(xo,{size:16}),o.jsx("span",{children:"Seus dados 100% seguros"})]})]}),o.jsx("nav",{className:"mb-8 rounded-3xl border border-black/10 bg-white px-5 py-4 shadow-sm",children:o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Etapas"}),o.jsx("ol",{className:"flex flex-wrap gap-3","aria-label":"Etapas do checkout",children:t1.map((ee,ie)=>o.jsx(c1,{state:ee.status,label:ee.label,number:ie+1},ee.id))})]})}),o.jsxs("div",{className:"checkout-layout grid gap-8 lg:grid-cols-[minmax(0,1fr)_380px]",children:[o.jsxs("form",{onSubmit:Re,className:"space-y-6",children:[_&&o.jsxs("div",{role:"alert","aria-live":"assertive",className:"rounded-3xl border border-red-300 bg-red-50 px-6 py-5 flex gap-4",children:[o.jsx(R0,{className:"text-red-600 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-red-800",children:"Erro ao processar compra"}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:_})]})]}),o.jsxs(Sa,{children:[o.jsx(Fc,{kicker:"Passo 1",title:"Informaes pessoais",right:o.jsxs(dp,{children:[o.jsx(xo,{size:16}),o.jsx("span",{children:"Dados protegidos"})]})}),o.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[o.jsx(Bc,{label:"E-mail",value:(i==null?void 0:i.email)??"Preencha seu e-mail cadastrado"}),o.jsx(Bc,{label:"Telefone",value:(c==null?void 0:c.phone)||"Atualize em Minha conta"}),o.jsx(Bc,{label:"CPF",value:(c==null?void 0:c.cpf)||"Cadastro seguro"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:'Utilizamos seus dados para agilizar o preenchimento. Atualize-os em "Minha conta" caso precise.'})]}),o.jsxs(Sa,{children:[o.jsx(Fc,{kicker:"Passo 2",title:"Endereo de entrega",right:o.jsx("span",{className:"text-xs font-semibold text-gray-500",children:"Confirme CEP e nmero"})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(ks,{label:"Rua",htmlFor:"checkout-street",error:A.street,children:o.jsx(js,{id:"checkout-street",name:"street",placeholder:"Ex: Avenida Paulista",autoComplete:"street-address",required:!0,value:P.street,onChange:Se,onBlur:Pe,"aria-invalid":!!A.street,className:A.street?"border-red-400 focus:border-red-500 focus:ring-red-200":void 0})}),o.jsx(ks,{label:"Nmero",htmlFor:"checkout-number",error:A.number,children:o.jsx(js,{id:"checkout-number",name:"number",placeholder:"Ex: 1000",inputMode:"numeric",autoComplete:"address-line1",required:!0,value:P.number,onChange:Se,onBlur:Pe,"aria-invalid":!!A.number,className:A.number?"border-red-400 focus:border-red-500 focus:ring-red-200":void 0})}),o.jsx(ks,{label:"Complemento",className:"md:col-span-2",htmlFor:"checkout-complement",error:A.complement,children:o.jsx(js,{id:"checkout-complement",name:"complement",placeholder:"Apto, bloco, sala...",autoComplete:"address-line2",value:P.complement,onChange:Se,onBlur:Pe,"aria-invalid":!!A.complement,className:A.complement?"border-red-400 focus:border-red-500 focus:ring-red-200":void 0})}),o.jsx(ks,{label:"Cidade",htmlFor:"checkout-city",error:A.city,children:o.jsx(js,{id:"checkout-city",name:"city",placeholder:"Ex: So Paulo",autoComplete:"address-level2",required:!0,value:P.city,onChange:Se,onBlur:Pe,"aria-invalid":!!A.city,className:A.city?"border-red-400 focus:border-red-500 focus:ring-red-200":void 0})}),o.jsx(ks,{label:"Estado (UF)",htmlFor:"checkout-state",error:A.state,children:o.jsx(js,{id:"checkout-state",name:"state",placeholder:"Ex: SP",maxLength:2,autoComplete:"address-level1",required:!0,value:P.state,onChange:Se,onBlur:Pe,"aria-invalid":!!A.state,className:A.state?"border-red-400 focus:border-red-500 focus:ring-red-200":void 0})}),o.jsx(ks,{label:"CEP",className:"md:col-span-2",htmlFor:"checkout-zipcode",error:A.zipcode,children:o.jsx(js,{id:"checkout-zipcode",name:"zipcode",placeholder:"Ex: 01311-100",inputMode:"numeric",autoComplete:"postal-code",required:!0,value:P.zipcode,onChange:Se,onBlur:Pe,"aria-invalid":!!A.zipcode,className:A.zipcode?"border-red-400 focus:border-red-500 focus:ring-red-200":void 0})})]})]}),o.jsxs(Sa,{children:[o.jsx(Fc,{kicker:"Passo 3",title:"Forma de pagamento",right:o.jsx("span",{className:"text-xs font-semibold text-gray-500",children:"At 12x"})}),o.jsxs("fieldset",{className:"space-y-3",children:[o.jsx("legend",{className:"sr-only",children:"Selecione a forma de pagamento"}),Uc.map(ee=>{const ie=ee.icon,re=T===ee.value;return o.jsx(u1,{name:"payment_method",value:ee.value,isSelected:re,onSelect:()=>S(ee.value),title:ee.label,subtitle:ee.description,icon:o.jsx(ie,{size:22})},ee.value)})]}),o.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-xs text-amber-900",children:[o.jsx("p",{className:"font-black",children:"Checkout protegido"}),o.jsx("p",{className:"text-amber-900/90",children:"Criptografia SSL 256 bits. Nunca armazenamos dados sensveis em nosso servidor."})]})]}),o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[o.jsx("button",{type:"button",onClick:ke,className:"flex-1 rounded-2xl border border-black/15 bg-white px-6 py-4 text-base font-black text-gray-900 shadow-sm transition hover:bg-gray-50",children:o.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[o.jsx(bo,{size:20}),"Voltar ao carrinho"]})}),o.jsx("button",{type:"submit",disabled:v,className:"flex-1 rounded-2xl bg-black px-6 py-4 text-base font-black text-white shadow-sm transition hover:brightness-95 disabled:opacity-50 disabled:cursor-not-allowed",children:v?o.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[o.jsx(ex,{size:20,className:"animate-spin"}),"Processando..."]}):o.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[o.jsx(vu,{size:20}),"Finalizar compra"]})})]})]}),o.jsxs("aside",{className:"checkout-summary space-y-5 lg:sticky lg:top-8 lg:self-start",children:[o.jsxs(Sa,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-black text-gray-900",children:"Entrega"}),o.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 text-xs font-semibold text-green-700",children:se.priceLabel})]}),o.jsxs("div",{className:"mt-4 flex items-center gap-4 rounded-2xl border-2 border-green-600 bg-green-50 px-4 py-3","aria-label":`${se.label} | ${se.eta} | ${se.priceLabel}`,children:[o.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl border-2 border-green-600 bg-green-100 text-green-700",children:o.jsx(xu,{size:22})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"font-black text-gray-900",children:se.label}),o.jsx("p",{className:"text-sm text-gray-500",children:se.description}),o.jsx("p",{className:"mt-1 text-[10px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:se.eta})]}),o.jsx("div",{className:"text-sm font-black text-gray-900",children:se.priceLabel})]})]}),o.jsxs(Sa,{children:[o.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.35em] text-gray-500",children:"Resumo"}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("h3",{className:"text-2xl font-black text-gray-900",children:["Pedido #",ae]}),o.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[O," ",O===1?"item":"itens"," no carrinho"]})]}),o.jsx("div",{className:"mt-4 space-y-3",children:n.map(ee=>o.jsxs("div",{className:"flex gap-3 rounded-2xl border border-black/10 bg-gray-50/70 p-4",children:[o.jsx("img",{src:ee.product.image,alt:ee.product.model,className:"checkout-order-item-image h-16 w-16 flex-shrink-0 rounded-xl border border-black/10 bg-white object-contain",loading:"lazy",onError:ie=>{ie.currentTarget.src=x}}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("p",{className:"truncate text-sm font-black text-gray-900",children:[ee.product.brand," ",ee.product.model]}),o.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[ee.product.width,"/",ee.product.profile,"R",ee.product.diameter]}),o.jsxs("span",{className:"mt-2 inline-flex items-center rounded-full bg-green-100 px-2 py-1 text-xs font-semibold text-green-800",children:["Qty: ",ee.quantity]})]}),o.jsx("p",{className:"text-sm font-black text-green-700",children:Mc(ee.product.price*ee.quantity)})]},ee.product.id))}),o.jsxs("div",{className:"mt-4 space-y-3 border-t border-black/10 pt-4",children:[o.jsx(qc,{label:"Subtotal",value:Mc(H)}),o.jsx(qc,{label:`Frete (${se.label})`,value:se.priceLabel,valueClass:"text-green-700"}),o.jsx("div",{className:"h-px bg-black/10"}),o.jsx(qc,{label:"Total",value:Mc(H),isStrong:!0})]}),o.jsxs("div",{className:"mt-5 rounded-2xl border border-black/10 bg-white p-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xo,{size:16,className:"text-green-700"}),o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Compra protegida"})]}),o.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Mtodo: ",M.label,". Ao finalizar, voc concorda com os termos e confirma os dados informados."]})]})]})]})]})]})})}function Sa({children:n}){return o.jsx("section",{className:"rounded-3xl border border-black/10 bg-white p-6 shadow-sm",children:o.jsx("div",{className:"space-y-5",children:n})})}function Fc({kicker:n,title:t,right:s}){return o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:n}),o.jsx("h2",{className:"text-2xl font-black text-gray-900",children:t})]}),s]})}function dp({children:n}){return o.jsx("div",{className:"inline-flex items-center gap-2 rounded-full border border-green-100 bg-green-50 px-3 py-1 text-xs font-semibold text-green-700",children:n})}function Bc({label:n,value:t}){return o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-semibold uppercase tracking-[0.3em] text-gray-500",children:n}),o.jsx("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:t})]})}function ks({label:n,children:t,className:s,htmlFor:i,error:c}){return o.jsxs("div",{className:s,children:[o.jsx("label",{htmlFor:i,className:"mb-2 block text-xs font-semibold text-gray-600",children:n}),t,c?o.jsx("p",{className:"mt-1 text-xs font-semibold text-red-600",children:c}):null]})}function js(n){return o.jsx("input",{...n,className:Rs("h-12 w-full rounded-2xl border-2 border-black/10 bg-white px-4 text-sm text-gray-900","placeholder:text-gray-400 focus:border-green-600 focus:outline-none focus:ring-2 focus:ring-green-200",n.className)})}function qc({label:n,value:t,isStrong:s=!1,valueClass:i}){return o.jsxs("div",{className:Rs("flex items-center justify-between",s?"text-lg font-black text-gray-900":"text-sm font-semibold text-gray-700"),children:[o.jsx("span",{children:n}),o.jsx("span",{className:i,children:t})]})}function c1({state:n,label:t,number:s}){const i=n==="done"?"border-green-600 bg-green-50 text-green-700":n==="active"?"border-amber-500 bg-amber-50 text-amber-700":"border-black/10 bg-white text-gray-500";return o.jsxs("li",{className:Rs("flex items-center gap-3 rounded-2xl border px-4 py-2 text-sm font-semibold",i),"aria-current":n==="active"?"step":void 0,children:[o.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full border text-[0.7rem] font-black uppercase leading-none",children:n==="done"?o.jsx(vu,{size:16,className:"text-green-600"}):s}),o.jsx("span",{children:t})]})}function u1({name:n,value:t,isSelected:s,onSelect:i,title:c,subtitle:u,icon:d,badge:f,price:m,isCompact:g=!1}){return o.jsxs("label",{className:Rs("group flex cursor-pointer items-center gap-4 rounded-2xl border-2 transition",g?"px-4 py-3":"px-5 py-4",s?"border-green-600 bg-green-50 shadow-md":"border-black/10 bg-white hover:border-black/25 hover:bg-gray-50"),"aria-label":f?`${c} | ${f} | ${m||""}`:c,children:[o.jsx("input",{type:"radio",name:n,value:t,checked:s,onChange:i,className:"sr-only"}),o.jsx("div",{className:Rs("flex h-12 w-12 items-center justify-center rounded-xl border-2 transition",s?"border-green-600 bg-green-100 text-green-700":"border-gray-200 bg-white text-gray-700"),children:d}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"font-black text-gray-900",children:c}),u?o.jsx("p",{className:"text-sm text-gray-500",children:u}):null,f?o.jsx("p",{className:"mt-1 text-[10px] font-semibold uppercase tracking-[0.25em] text-gray-400",children:f}):null]}),m?o.jsx("div",{className:"text-sm font-black text-gray-900",children:m}):null,o.jsx("div",{className:Rs("h-6 w-6 rounded-full border-2 flex items-center justify-center transition",s?"border-green-600 bg-green-600 text-white":"border-gray-200 bg-white text-transparent"),"aria-hidden":"true",children:o.jsx(vu,{size:16})})]})}function hp(){const n=Rt(),{user:t,profile:s,isAuthenticated:i}=vr();if(!i)return o.jsx(gn,{to:"/login",replace:!0});const c=[{icon:o.jsx(_o,{}),label:"Meus Pedidos",path:"/orders"},{icon:o.jsx(yu,{}),label:"Favoritos",path:"/wishlist"},{icon:o.jsx(Fp,{}),label:"Configuracoes",path:"/account"}];return o.jsx("div",{className:"account-page",children:o.jsxs("div",{className:"container",children:[o.jsx("h1",{children:"Minha Conta"}),o.jsxs("div",{className:"account-content",children:[o.jsxs("div",{className:"account-card",children:[o.jsxs("div",{className:"account-header",children:[o.jsx("div",{className:"avatar",children:o.jsx(ko,{size:48})}),o.jsxs("div",{children:[o.jsx("h2",{children:(s==null?void 0:s.name)||"Minha conta"}),o.jsx("p",{children:t==null?void 0:t.email})]})]}),o.jsxs("div",{className:"account-info",children:[o.jsxs("div",{className:"info-item",children:[o.jsx(Dn,{size:20}),o.jsxs("div",{children:[o.jsx("label",{children:"Email"}),o.jsx("p",{children:t==null?void 0:t.email})]})]}),o.jsxs("div",{className:"info-item",children:[o.jsx(Mp,{size:20}),o.jsxs("div",{children:[o.jsx("label",{children:"Telefone"}),o.jsx("p",{children:(s==null?void 0:s.phone)||"Nao informado"})]})]}),o.jsxs("div",{className:"info-item",children:[o.jsx(Up,{size:20}),o.jsxs("div",{children:[o.jsx("label",{children:"Endereco"}),o.jsx("p",{children:s!=null&&s.address?"Cadastrado":"Nao informado"})]})]})]})]}),o.jsx("div",{className:"account-menu",children:c.map((u,d)=>o.jsxs("button",{onClick:()=>n(u.path),className:"menu-item",children:[u.icon,o.jsx("span",{children:u.label})]},d))})]})]})})}function fp(){const[n,t]=E.useState([]),[s,i]=E.useState(!0),[c,u]=E.useState(""),d=Rt(),f=Co(x=>x.notifyOrderOnTheWay);if(E.useEffect(()=>{(async()=>{try{i(!0);const{data:v,error:w}=await ou.getMyOrders();if(w)throw w;const _=v||[];t(_),_.filter(b=>b.status==="shipped").forEach(b=>f(b.id))}catch(v){u(v.message||"Erro ao carregar pedidos")}finally{i(!1)}})()},[f]),s)return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Meus Pedidos"}),o.jsx("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:"Carregando pedidos..."})]});if(c)return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Meus Pedidos"}),o.jsx("div",{className:"bg-red-100 text-red-800 p-4 rounded",children:c})]});if(n.length===0)return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Meus Pedidos"}),o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Voce ainda nao fez nenhum pedido"}),o.jsx("button",{onClick:()=>d("/products"),className:"bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700",children:"Comecar a Comprar"})]})]});const m=x=>{switch(x){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=x=>({pending:"Pendente",processing:"Processando",shipped:"Enviado",delivered:"Entregue",cancelled:"Cancelado"})[x]||x;return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Meus Pedidos"}),o.jsx("div",{className:"space-y-4",children:n.map(x=>o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-lg",children:["Pedido #",x.id.slice(0,8)]}),o.jsx("p",{className:"text-gray-600 text-sm",children:new Date(x.created_at).toLocaleDateString("pt-BR")})]}),o.jsx("span",{className:`px-3 py-1 rounded text-sm font-semibold ${m(x.status)}`,children:g(x.status)})]}),o.jsx("div",{className:"mb-4 pb-4 border-b",children:(x.order_items||[]).map(v=>{var w,_;return o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsxs("span",{children:[(w=v.products)==null?void 0:w.brand," ",(_=v.products)==null?void 0:_.model," x",v.quantity]}),o.jsxs("span",{children:["R$ ",(v.price*v.quantity).toFixed(2)]})]},v.id)})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 text-sm",children:"Total"}),o.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",x.total.toFixed(2)]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-gray-600 text-sm",children:"Metodo de Pagamento"}),o.jsx("p",{className:"font-semibold",children:x.payment_method==="credit_card"?"Cartao de Credito":x.payment_method==="pix"?"PIX":x.payment_method==="boleto"?"Boleto":x.payment_method})]})]})]},x.id))})]})}function pp(){return{brand:"",model:"",width:"",profile:"",diameter:"",load_index:"",speed_rating:"",price:0,old_price:void 0,stock:0,image:"",features:[],category:"passeio",season:"all-season",runflat:!1,featured:!1,description:""}}function mp(n){var t;return{...n,brand:n.brand.trim(),model:n.model.trim(),width:n.width.trim(),profile:n.profile.trim(),diameter:n.diameter.trim(),load_index:n.load_index.trim(),speed_rating:n.speed_rating.trim(),image:n.image.trim()||"https://images.unsplash.com/photo-1606937933187-6f42b29de806?w=400&h=400&fit=crop",features:(n.features||[]).filter(s=>s.trim().length>0),description:((t=n.description)==null?void 0:t.trim())||"",old_price:n.old_price&&n.old_price>0?n.old_price:void 0,price:Number(n.price)||0,stock:Number(n.stock)||0}}function d1(n){return{brand:n.brand,model:n.model,width:n.width,profile:n.profile,diameter:n.diameter,load_index:n.load_index,speed_rating:n.speed_rating,price:n.price,old_price:n.old_price,stock:n.stock,image:n.image,features:n.features||[],category:n.category,season:n.season,runflat:n.runflat,featured:n.featured,description:n.description||""}}function gp(){const{profile:n,isAuthenticated:t}=vr(),{products:s,loading:i,fetchProducts:c,createProduct:u,updateProduct:d,deleteProduct:f}=qa(),{config:m,updateConfig:g,resetConfig:x}=_u(),[v,w]=E.useState({icon:"Star",title:"",description:""}),_=(k,W)=>{g({[k]:W})},[b,T]=E.useState(!1),[S,A]=E.useState(null),[D,P]=E.useState("overview"),[U,H]=E.useState(!1),[O,M]=E.useState(pp()),[se,ae]=E.useState("");if(E.useEffect(()=>{c()},[c]),!t||(n==null?void 0:n.role)!=="admin")return o.jsx(gn,{to:"/",replace:!0});const ke=s.reduce((k,W)=>k+W.price*Math.max(0,100-W.stock),0),Se=s.length,Pe=s.filter(k=>k.stock<10),Re=s.filter(k=>k.featured).length,ee=new Set(s.map(k=>k.category)).size,ie=[{icon:o.jsx(z0,{}),label:"Receita Estimada",value:`R$ ${ke.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,change:"+12%",color:"#FF6B35"},{icon:o.jsx(_o,{}),label:"Total de Produtos",value:Se.toString(),change:`+${Re} destaque`,color:"#004E89"},{icon:o.jsx(Mn,{}),label:"Estoque Baixo",value:Pe.length.toString(),change:"requer atencao",color:Pe.length>0?"#F7B801":"#00C853"},{icon:o.jsx(bf,{}),label:"Categorias",value:ee.toString(),change:"ativas",color:"#00C853"}],re=()=>{M(pp()),ae("")},ue=k=>{A(k)},F=()=>{A(null)},G=async()=>{if(!O.brand||!O.model||!O.width||!O.profile||!O.diameter||!O.load_index||!O.speed_rating||!O.price||O.stock<0){alert("Preencha os campos obrigatorios do produto.");return}const k=mp(O);H(!0);const W=await u(k);if(H(!1),!W){alert("Nao foi possivel adicionar o produto.");return}T(!1),re(),alert("Produto adicionado com sucesso!")},Q=async()=>{if(!S)return;const k=mp(d1(S));H(!0);const W=await d(S.id,k);if(H(!1),!W){alert("Nao foi possivel atualizar o produto.");return}F(),alert("Produto atualizado com sucesso!")},C=async k=>{if(!confirm("Tem certeza que deseja excluir este produto?"))return;H(!0);const W=await f(k);if(H(!1),!W){alert("Nao foi possivel excluir o produto.");return}alert("Produto excluido com sucesso!")};return o.jsx("div",{className:"dashboard-page",children:o.jsxs("div",{className:"container",children:[o.jsx("div",{className:"dashboard-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Painel Administrativo"}),o.jsxs("p",{children:["Bem-vindo de volta, ",(n==null?void 0:n.name)||"Administrador","!"]})]})}),o.jsxs("div",{className:"dashboard-tabs",children:[o.jsxs("button",{className:`tab ${D==="overview"?"active":""}`,onClick:()=>P("overview"),children:[o.jsx(k0,{size:20}),"Visao Geral"]}),o.jsxs("button",{className:`tab ${D==="products"?"active":""}`,onClick:()=>P("products"),children:[o.jsx(_o,{size:20}),"Produtos"]}),o.jsxs("button",{className:`tab ${D==="settings"?"active":""}`,onClick:()=>P("settings"),children:[o.jsx(bf,{size:20}),"Configuracoes"]})]}),D==="overview"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"stats-grid",children:ie.map((k,W)=>o.jsxs("div",{className:"stat-card",style:{"--stat-color":k.color},children:[o.jsx("div",{className:"stat-icon",style:{background:`${k.color}15`,color:k.color},children:k.icon}),o.jsxs("div",{className:"stat-info",children:[o.jsx("p",{className:"stat-label",children:k.label}),o.jsx("h3",{className:"stat-value",children:k.value}),o.jsxs("div",{className:"stat-change",children:[o.jsx(Sx,{size:16}),o.jsx("span",{children:k.change})]})]})]},W))}),o.jsx("div",{className:"dashboard-content",children:o.jsxs("div",{className:"content-section",children:[o.jsx("h2",{children:"Produtos com Estoque Baixo"}),o.jsx("div",{className:"products-table",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Produto"}),o.jsx("th",{children:"Medida"}),o.jsx("th",{children:"Estoque"}),o.jsx("th",{children:"Preco"})]})}),o.jsx("tbody",{children:Pe.slice(0,5).map(k=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"product-cell",children:[o.jsx("img",{src:k.image,alt:k.model}),o.jsxs("div",{children:[o.jsx("strong",{children:k.brand}),o.jsx("span",{children:k.model})]})]})}),o.jsxs("td",{children:[k.width,"/",k.profile,"R",k.diameter]}),o.jsx("td",{children:o.jsxs("span",{className:`stock-badge ${k.stock<5?"low":"medium"}`,children:[k.stock," unidades"]})}),o.jsxs("td",{children:["R$ ",k.price.toFixed(2).replace(".",",")]})]},k.id))})]})})]})})]}),D==="products"&&o.jsxs("div",{className:"dashboard-content",children:[o.jsxs("div",{className:"content-header",children:[o.jsx("h2",{children:"Gerenciar Produtos"}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>T(!0),disabled:U,children:[o.jsx(wf,{size:20}),"Adicionar Produto"]})]}),i?o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:"Carregando produtos..."}):o.jsx("div",{className:"products-table",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Produto"}),o.jsx("th",{children:"Medida"}),o.jsx("th",{children:"Categoria"}),o.jsx("th",{children:"Preco"}),o.jsx("th",{children:"Estoque"}),o.jsx("th",{children:"Acoes"})]})}),o.jsx("tbody",{children:s.map(k=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"product-cell",children:[o.jsx("img",{src:k.image,alt:k.model}),o.jsxs("div",{children:[o.jsx("strong",{children:k.brand}),o.jsx("span",{children:k.model})]})]})}),o.jsxs("td",{children:[k.width,"/",k.profile,"R",k.diameter]}),o.jsx("td",{children:o.jsx("span",{className:"category-badge",children:k.category})}),o.jsxs("td",{children:["R$ ",k.price.toFixed(2).replace(".",",")]}),o.jsx("td",{children:o.jsx("span",{className:`stock-badge ${k.stock<5?"low":k.stock<10?"medium":"high"}`,children:k.stock})}),o.jsx("td",{children:o.jsxs("div",{className:"action-buttons",children:[o.jsx("button",{className:"btn-icon edit",onClick:()=>ue(k),title:"Editar",children:o.jsx(wx,{size:18})}),o.jsx("button",{className:"btn-icon delete",onClick:()=>void C(k.id),title:"Excluir",disabled:U,children:o.jsx(Bp,{size:18})})]})})]},k.id))})]})})]}),D==="settings"&&o.jsx("div",{className:"dashboard-content",children:o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Configuracoes da Loja"}),o.jsxs("div",{className:"settings-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Nome da Loja"}),o.jsx("input",{type:"text",value:m.storeName,onChange:k=>_("storeName",k.target.value),className:"input"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Slogan"}),o.jsx("input",{type:"text",value:m.storeSlogan,onChange:k=>_("storeSlogan",k.target.value),className:"input"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Telefone"}),o.jsx("input",{type:"text",value:m.phone,onChange:k=>_("phone",k.target.value),className:"input"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"E-mail"}),o.jsx("input",{type:"email",value:m.email,onChange:k=>_("email",k.target.value),className:"input"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Endereco"}),o.jsx("input",{type:"text",value:m.address,onChange:k=>_("address",k.target.value),className:"input"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Cor Primaria"}),o.jsx("input",{type:"color",value:m.primaryColor,onChange:k=>_("primaryColor",k.target.value),className:"input"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Hero (URL imagem)"}),o.jsxs("div",{className:"image-preview-field",children:[o.jsx("input",{type:"text",value:m.heroImage,onChange:k=>_("heroImage",k.target.value),className:"input"}),m.heroImage&&o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:m.heroImage,alt:"Hero"})})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Banner Promocional (URL)"}),o.jsxs("div",{className:"image-preview-field",children:[o.jsx("input",{type:"text",value:m.bannerImage,onChange:k=>_("bannerImage",k.target.value),className:"input"}),m.bannerImage&&o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:m.bannerImage,alt:"Banner"})})]})]})]})]})}),b&&o.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:o.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"Adicionar Novo Produto"}),o.jsx("button",{className:"close-btn",onClick:()=>T(!1),children:o.jsx(jo,{size:24})})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"form-grid",children:[o.jsx("input",{placeholder:"Marca *",value:O.brand,onChange:k=>M({...O,brand:k.target.value}),className:"input"}),o.jsx("input",{placeholder:"Modelo *",value:O.model,onChange:k=>M({...O,model:k.target.value}),className:"input"}),o.jsx("input",{placeholder:"Largura *",value:O.width,onChange:k=>M({...O,width:k.target.value}),className:"input"}),o.jsx("input",{placeholder:"Perfil *",value:O.profile,onChange:k=>M({...O,profile:k.target.value}),className:"input"}),o.jsx("input",{placeholder:"Diametro (Aro) *",value:O.diameter,onChange:k=>M({...O,diameter:k.target.value}),className:"input"}),o.jsx("input",{placeholder:"Indice de Carga *",value:O.load_index,onChange:k=>M({...O,load_index:k.target.value}),className:"input"}),o.jsx("input",{placeholder:"Codigo de Velocidade *",value:O.speed_rating,onChange:k=>M({...O,speed_rating:k.target.value}),className:"input"}),o.jsx("input",{type:"number",placeholder:"Preco *",value:O.price||"",onChange:k=>M({...O,price:Number(k.target.value)}),className:"input"}),o.jsx("input",{type:"number",placeholder:"Preco Antigo",value:O.old_price||"",onChange:k=>M({...O,old_price:k.target.value?Number(k.target.value):void 0}),className:"input"}),o.jsx("input",{type:"number",placeholder:"Estoque *",value:O.stock||""}),o.jsxs("select",{value:O.category,onChange:k=>M({...O,category:k.target.value}),className:"input",children:[o.jsx("option",{value:"passeio",children:"Passeio"}),o.jsx("option",{value:"suv",children:"SUV"}),o.jsx("option",{value:"caminhonete",children:"Caminhonete"}),o.jsx("option",{value:"van",children:"Van"}),o.jsx("option",{value:"moto",children:"Moto"})]}),o.jsxs("select",{value:O.season,onChange:k=>M({...O,season:k.target.value}),className:"input",children:[o.jsx("option",{value:"all-season",children:"All-Season"}),o.jsx("option",{value:"summer",children:"Verao"}),o.jsx("option",{value:"winter",children:"Inverno"})]}),o.jsxs("div",{className:"span-2 image-preview-field",children:[o.jsx("input",{placeholder:"URL da Imagem",value:O.image,onChange:k=>M({...O,image:k.target.value}),className:"input"}),O.image&&o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:O.image,alt:O.model||"Pr-visualizao do produto",onError:k=>{k.currentTarget.style.display="none"}})})]}),o.jsx("input",{placeholder:"Caracteristicas separadas por virgula",value:se,onChange:k=>{ae(k.target.value),M({...O,features:k.target.value.split(",").map(W=>W.trim())})},className:"input span-2"}),o.jsx("textarea",{placeholder:"Descricao",value:O.description||"",onChange:k=>M({...O,description:k.target.value}),className:"input span-2"}),o.jsxs("label",{className:"checkbox-label span-2",children:[o.jsx("input",{type:"checkbox",checked:O.featured,onChange:k=>M({...O,featured:k.target.checked})}),"Produto em Destaque"]}),o.jsxs("label",{className:"checkbox-label span-2",children:[o.jsx("input",{type:"checkbox",checked:O.runflat,onChange:k=>M({...O,runflat:k.target.checked})}),"Run Flat"]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{className:"btn btn-outline",onClick:()=>T(!1),children:"Cancelar"}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>void G(),disabled:U,children:[o.jsx(wf,{size:20}),U?"Adicionando...":"Adicionar"]})]})]})}),S&&o.jsx("div",{className:"modal-overlay",onClick:F,children:o.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{children:"Editar Produto"}),o.jsx("button",{className:"close-btn",onClick:F,children:o.jsx(jo,{size:24})})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"form-grid",children:[o.jsx("input",{placeholder:"Marca",value:S.brand,onChange:k=>A({...S,brand:k.target.value}),className:"input"}),o.jsx("input",{placeholder:"Modelo",value:S.model,onChange:k=>A({...S,model:k.target.value}),className:"input"}),o.jsx("input",{type:"number",placeholder:"Estoque",value:S.stock,onChange:k=>A({...S,stock:Number(k.target.value)}),className:"input"}),o.jsxs("div",{className:"span-2 image-preview-field",children:[o.jsx("input",{placeholder:"URL da Imagem",value:S.image,onChange:k=>A({...S,image:k.target.value}),className:"input"}),S.image&&o.jsx("div",{className:"image-preview",children:o.jsx("img",{src:S.image,alt:S.model,onError:k=>{k.currentTarget.style.display="none"}})})]}),o.jsxs("label",{className:"checkbox-label span-2",children:[o.jsx("input",{type:"checkbox",checked:S.featured,onChange:k=>A({...S,featured:k.target.checked})}),"Produto em Destaque"]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{className:"btn btn-outline",onClick:F,children:"Cancelar"}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>void Q(),disabled:U,children:[o.jsx(px,{size:20}),U?"Salvando...":"Salvar"]})]})]})})]})})}function dn({title:n,description:t}){return o.jsx("div",{className:"container mx-auto px-4 py-12",children:o.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow p-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4",children:n}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:t})]})})}const Vc="Se o email existir, enviamos o link de redefinicao. Verifique caixa de entrada e spam.";function h1(){const[n,t]=E.useState(""),[s,i]=E.useState(!1),[c,u]=E.useState(""),[d,f]=E.useState(""),m=async g=>{g.preventDefault(),f(""),u("");const x=n.trim().toLowerCase();if(!/\S+@\S+\.\S+/.test(x)){f("Informe um email valido");return}try{i(!0);const v=new URL("/reset-password",window.location.origin).toString(),{error:w}=await pt.resetPassword(x,v);if(w){u(Vc);return}u(Vc)}catch{u(Vc)}finally{i(!1)}};return o.jsx("div",{className:"auth-page forgot-page",children:o.jsxs("div",{className:"auth-container forgot-container",children:[o.jsxs("div",{className:"auth-card forgot-card",children:[o.jsxs("div",{className:"auth-header",children:[o.jsx("h1",{children:"Recuperar senha"}),o.jsx("p",{children:"Informe seu email para receber o link de redefinicao"})]}),d&&o.jsx("div",{className:"auth-error",children:d}),c&&o.jsx("div",{className:"auth-success",children:c}),o.jsxs("form",{onSubmit:m,className:"auth-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(Dn,{size:20,className:"input-icon"}),o.jsx("input",{id:"email",type:"email",value:n,onChange:g=>t(g.target.value),className:"form-input",placeholder:"seu@email.com",autoComplete:"email"})]})]}),o.jsx("button",{type:"submit",className:"auth-button",disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx(Ts,{className:"spinner",size:20}),"Enviando..."]}):"Enviar link de redefinicao"})]}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"ou"})}),o.jsx("div",{className:"auth-footer",children:o.jsxs("p",{children:["Lembrou da senha?"," ",o.jsx(_e,{to:"/login",className:"auth-link",children:"Voltar para login"})]})})]}),o.jsx("div",{className:"auth-illustration forgot-illustration",children:o.jsxs("div",{className:"illustration-content",children:[o.jsx("h2",{children:"Recuperacao segura"}),o.jsxs("ul",{className:"features-list",children:[o.jsx("li",{children:"Link unico e temporario"}),o.jsx("li",{children:"Fluxo direto para trocar senha"}),o.jsx("li",{children:"Acesso liberado apos redefinicao"})]})]})})]})})}const f1=/^(?=.*[A-Za-z])(?=.*\d).{8,}$/;function p1(n){if(!n||typeof n!="object")return"Nao foi possivel atualizar a senha. Tente novamente.";const s=("message"in n?String(n.message||""):"").toLowerCase();return s.includes("same password")?"A nova senha deve ser diferente da senha atual.":s.includes("password should be at least")?"A senha deve ter no minimo 8 caracteres.":s.includes("session")?"Sessao de recuperacao invalida ou expirada. Solicite um novo link.":"Nao foi possivel atualizar a senha. Tente novamente."}function m1(){const[n,t]=E.useState(""),[s,i]=E.useState(""),[c,u]=E.useState(!1),[d,f]=E.useState(!1),[m,g]=E.useState(!1),[x,v]=E.useState(!0),[w,_]=E.useState(!1),[b,T]=E.useState(""),[S,A]=E.useState(""),[D]=zp(),P=Rt(),U=D.toString();E.useEffect(()=>{let O=!0;return(async()=>{v(!0),A("");try{const se=new URLSearchParams(U),ae=se.get("token_hash"),ke=se.get("type");if(ae&&ke==="recovery"){const{error:Re}=await pt.verifyRecoveryToken(ae);if(Re)throw Re;O&&_(!0);return}if(await pt.getSession()){O&&_(!0);return}if(await new Promise(Re=>setTimeout(Re,700)),!await pt.getSession())throw new Error("Invalid recovery session");O&&_(!0)}catch{O&&(_(!1),A("Link de recuperacao invalido ou expirado. Solicite um novo link."))}finally{O&&v(!1)}})(),()=>{O=!1}},[U]);const H=async O=>{if(O.preventDefault(),A(""),T(""),!n||!s){A("Preencha todos os campos");return}if(!f1.test(n)){A("Use ao menos 8 caracteres com letras e numeros");return}if(n!==s){A("As senhas nao coincidem");return}try{g(!0);const{error:M}=await pt.updatePassword(n);if(M)throw M;await pt.signOut(),T("Senha redefinida com sucesso. Voce ja pode entrar com a nova senha."),setTimeout(()=>{P("/login",{replace:!0,state:{info:"Senha redefinida com sucesso. Entre com a nova senha."}})},1500)}catch(M){A(p1(M))}finally{g(!1)}};return o.jsx("div",{className:"auth-page reset-page",children:o.jsxs("div",{className:"auth-container reset-container",children:[o.jsxs("div",{className:"auth-card reset-card",children:[o.jsxs("div",{className:"auth-header",children:[o.jsx("h1",{children:"Definir nova senha"}),o.jsx("p",{children:"Crie uma senha forte para concluir sua recuperacao"})]}),x&&o.jsxs("div",{className:"auth-success auth-loading-state",children:[o.jsx(Ts,{className:"spinner",size:16}),"Validando link de recuperacao..."]}),!x&&S&&o.jsx("div",{className:"auth-error",children:S}),!x&&b&&o.jsx("div",{className:"auth-success",children:b}),!x&&w&&o.jsxs("form",{onSubmit:H,className:"auth-form",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"new-password",children:"Nova senha"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(Aa,{size:20,className:"input-icon"}),o.jsx("input",{id:"new-password",type:c?"text":"password",placeholder:"********",value:n,onChange:O=>t(O.target.value),className:"form-input",autoComplete:"new-password"}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(O=>!O),children:c?o.jsx(Ta,{size:20}):o.jsx(Un,{size:20})})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"confirm-new-password",children:"Confirmar nova senha"}),o.jsxs("div",{className:"input-wrapper",children:[o.jsx(Aa,{size:20,className:"input-icon"}),o.jsx("input",{id:"confirm-new-password",type:d?"text":"password",placeholder:"********",value:s,onChange:O=>i(O.target.value),className:"form-input",autoComplete:"new-password"}),o.jsx("button",{type:"button",className:"password-toggle",onClick:()=>f(O=>!O),children:d?o.jsx(Ta,{size:20}):o.jsx(Un,{size:20})})]})]}),o.jsx("button",{type:"submit",className:"auth-button",disabled:m,children:m?o.jsxs(o.Fragment,{children:[o.jsx(Ts,{className:"spinner",size:20}),"Salvando nova senha..."]}):"Atualizar senha"})]}),o.jsx("div",{className:"auth-divider",children:o.jsx("span",{children:"ou"})}),o.jsx("div",{className:"auth-footer",children:o.jsxs("p",{children:["Voltar para"," ",o.jsx(_e,{to:"/login",className:"auth-link",children:"login"})," ","ou"," ",o.jsx(_e,{to:"/forgot-password",className:"auth-link",children:"solicitar novo link"})]})})]}),o.jsx("div",{className:"auth-illustration reset-illustration",children:o.jsxs("div",{className:"illustration-content",children:[o.jsx("h2",{children:"Protecao da sua conta"}),o.jsxs("ul",{className:"features-list",children:[o.jsx("li",{children:"Use no minimo 8 caracteres"}),o.jsx("li",{children:"Combine letras, numeros e simbolos"}),o.jsx("li",{children:"Evite reutilizar senhas antigas"})]})]})})]})})}function g1(){const n=vr(i=>i.checkAuth),t=lr(),s=t.pathname==="/checkout"||t.pathname.startsWith("/checkout/")||t.pathname==="/finalizar-compra"||t.pathname.startsWith("/finalizar-compra/");return E.useEffect(()=>{n();const{data:{subscription:i}}=pt.onAuthStateChange(()=>{n()});return()=>{i.unsubscribe()}},[n]),o.jsxs("div",{className:`app-container ${s?"app-container-checkout":""}`,children:[!s&&o.jsx(j_,{}),o.jsx("main",{className:"main-content",children:o.jsxs(oy,{children:[o.jsx(Ce,{path:"/",element:o.jsx($_,{})}),o.jsx(Ce,{path:"/products",element:o.jsx(fo,{})}),o.jsx(Ce,{path:"/produtos",element:o.jsx(fo,{})}),o.jsx(Ce,{path:"/marcas",element:o.jsx(fo,{})}),o.jsx(Ce,{path:"/marcas/:brandSlug",element:o.jsx(fo,{})}),o.jsx(Ce,{path:"/product/:id",element:o.jsx(B_,{})}),o.jsx(Ce,{path:"/wishlist",element:o.jsx(un,{children:o.jsx(ap,{})})}),o.jsx(Ce,{path:"/favoritos",element:o.jsx(un,{children:o.jsx(ap,{})})}),o.jsx(Ce,{path:"/login",element:o.jsx($c,{children:o.jsx(J_,{})})}),o.jsx(Ce,{path:"/register",element:o.jsx($c,{children:o.jsx(X_,{})})}),o.jsx(Ce,{path:"/cart",element:o.jsx(ip,{})}),o.jsx(Ce,{path:"/carrinho",element:o.jsx(ip,{})}),o.jsx(Ce,{path:"/checkout",element:o.jsx(un,{children:o.jsx(up,{})})}),o.jsx(Ce,{path:"/finalizar-compra",element:o.jsx(un,{children:o.jsx(up,{})})}),o.jsx(Ce,{path:"/account",element:o.jsx(un,{children:o.jsx(hp,{})})}),o.jsx(Ce,{path:"/minha-conta",element:o.jsx(un,{children:o.jsx(hp,{})})}),o.jsx(Ce,{path:"/orders",element:o.jsx(un,{children:o.jsx(fp,{})})}),o.jsx(Ce,{path:"/pedidos",element:o.jsx(un,{children:o.jsx(fp,{})})}),o.jsx(Ce,{path:"/dashboard",element:o.jsx(Xf,{children:o.jsx(gp,{})})}),o.jsx(Ce,{path:"/admin",element:o.jsx(Xf,{children:o.jsx(gp,{})})}),o.jsx(Ce,{path:"/about",element:o.jsx(dn,{title:"Sobre a Pneus Preojusto",description:"Somos especialistas em pneus com foco em segurana, procedncia e preo justo."})}),o.jsx(Ce,{path:"/faq",element:o.jsx(dn,{title:"Dvidas Frequentes",description:"Nesta seo voc encontra respostas sobre medidas, instalao, frete, trocas e garantia."})}),o.jsx(Ce,{path:"/shipping",element:o.jsx(dn,{title:"Poltica de Entrega",description:"Prazos e custos de entrega variam por CEP e so apresentados no checkout."})}),o.jsx(Ce,{path:"/returns",element:o.jsx(dn,{title:"Trocas e Devolues",description:"Trocas e devolues seguem o Cdigo de Defesa do Consumidor e polticas internas."})}),o.jsx(Ce,{path:"/warranty",element:o.jsx(dn,{title:"Garantia dos Produtos",description:"Todos os pneus possuem garantia de fabricao conforme fabricante e legislao vigente."})}),o.jsx(Ce,{path:"/privacy",element:o.jsx(dn,{title:"Poltica de Privacidade",description:"Tratamos dados pessoais com transparncia e segurana conforme a LGPD."})}),o.jsx(Ce,{path:"/terms",element:o.jsx(dn,{title:"Termos de Uso",description:"Os termos definem as regras de uso da plataforma, compra, cancelamento e responsabilidades."})}),o.jsx(Ce,{path:"/cookies",element:o.jsx(dn,{title:"Poltica de Cookies",description:"Utilizamos cookies para melhorar navegao, segurana e mtricas de uso."})}),o.jsx(Ce,{path:"/forgot-password",element:o.jsx($c,{children:o.jsx(h1,{})})}),o.jsx(Ce,{path:"/reset-password",element:o.jsx(m1,{})}),o.jsx(Ce,{path:"*",element:o.jsx(gn,{to:"/",replace:!0})})]})}),!s&&o.jsx(R_,{}),o.jsx(g0,{position:"top-right",richColors:!0,closeButton:!0})]})}function v1(){return o.jsx(Ay,{children:o.jsx(g1,{})})}uv.createRoot(document.getElementById("root")).render(o.jsx(v1,{}));
